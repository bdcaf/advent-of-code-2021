import{o as l,e as p,w as x,v as g,f as r,n as c,t as d,j as M,F as v,g as m}from"./vendor.b13a57b9.js";/* empty css                                              */import{_ as I}from"./plugin-vue_export-helper.21dcd24c.js";class b{constructor(){this.pos=0,this.length=-1,this.heap=[]}clear(){this.pos=0,this.length=-1,this.heap=[]}isEmpty(){return this.length<0}compare(t,s){return this.heap[t].cost<this.heap[s].cost}swap(t,s){const a=this.heap[t];this.heap[t]=this.heap[s],this.heap[s]=a}enqueue(t){this.heap[this.pos]=t,this.upheap(this.pos),this.pos++,this.length++}upheap(t){if(t==0)return;const s=Math.floor((t-1)/2);this.compare(t,s)&&(this.swap(t,s),this.upheap(s))}dequeue(){if(this.isEmpty())return null;const t=this.heap[0],s=this.heap.pop();return this.heap[0]=s,this.downheap(0),this.pos--,this.length--,t}downheap(t){const s=t*2+1,a=t*2+2;if(s<this.length){let n;a<this.length?n=this.compare(s,a)?s:a:n=s,this.compare(n,t)&&(this.swap(t,n),this.downheap(n))}}}class N{constructor(){this.map=[],this.candidates=new b,this.xMax=0,this.yMax=0}setMap(t){this.map=t,this.xMax=this.map[0].length,this.yMax=this.map.length,this.map.forEach(s=>s.forEach(a=>a.setCave(this)))}get(t){return this.map[t.y][t.x]}contains(t){return this.containsY(t.y)&&this.containsX(t.x)}unvisited(t){return!this.map[t.y][t.x].visited}containsY(t){return t>=0&&t<this.yMax}containsX(t){return t>=0&&t<this.xMax}startSearch(){const t=this.map[0][0];t.cost=0,console.log(t),this.candidates.clear(),this.candidates.enqueue(t)}nextNode(){const t=this.candidates.dequeue();return t.visited=!0,t.getNeighbors().forEach(a=>{const n=t.cost+a.value;n<a.cost&&(a.cost=n,a.parent=t,this.candidates.enqueue(a))}),t}}class f{constructor(t,s,a){this.value=t,this.y=s,this.x=a,this.visited=!1,this.onPath=!1,this.cost=1/0,this.parent=null,this.cave=null}setCave(t){this.cave=t}getNeighbors(){return[{x:this.x-1,y:this.y},{x:this.x+1,y:this.y},{x:this.x,y:this.y-1},{x:this.x,y:this.y+1}].filter(s=>this.cave.contains(s)&&this.cave.unvisited(s)).map(s=>this.cave.get(s))}}const y=`
1163751742
1381373672
2136511328
3694931569
7463417111
1319128137
1359912421
3125421639
1293138521
2311944581
`.trim();var k={name:"App",components:{},mounted(){this.parseInput()},data(){return{input:y,cave:new N,done1:!1,done2:!1,answer1:NaN,answer2:NaN,polymer:[],show1:!1,show2:!1,doShow:!0}},methods:{resetInput(){this.input=y,this.parseInput()},parseInput(){clearInterval(this.interval),this.inArr=this.input.trim().split(/\r?\n/).map(e=>e.split("").map(t=>parseInt(t))),this.chiton=this.inArr.map((e,t)=>e.map((s,a)=>new f(s,t,a))),console.log(this.inArr,this.chiton),this.done1=!1,this.done2=!1},stop(){clearInterval(this.interval)},run1(){clearInterval(this.interval),this.done1=!1,this.show1=!0,this.show2=!1,this.cave.setMap(this.chiton),this.cave.startSearch(),this.scoreFun=t=>{this.answer1=t},this.finalFun=()=>this.done1=!0;const e=Math.ceil(500/this.cave.xMax/this.cave.xMax);this.interval=setInterval(this.move1,e)},move1(){if(this.cave.candidates.isEmpty()){clearInterval(this.interval);return}const e=this.cave.xMax*this.cave.yMax*this.cave.xMax/1e3;for(let t=0;t<e;t++){let s=this.cave.nextNode();if(s.x==this.cave.xMax-1&&s.y==this.cave.yMax-1){for(clearInterval(this.interval),this.scoreFun(s.cost);s;)s.onPath=!0,s=s.parent;this.finalFun();return}}},run2(){clearInterval(this.interval),this.done2=!1,this.show1=!1,this.show2=!0;const e=this.inArr.map(n=>{let h=[];for(let i=0;i<5;i++)h=h.concat(n.map(o=>o+i));return h});let t=[];for(let n=0;n<5;n++){const h=e.map(i=>i.map(o=>(o+n-1)%9+1));t=t.concat(h)}const s=t.map((n,h)=>n.map((i,o)=>new f(i,h,o)));this.cave.setMap(s),this.cave.startSearch(),this.scoreFun=n=>{this.answer2=n},this.finalFun=()=>this.done2=!0;const a=500/this.cave.xMax/this.cave.xMax;this.interval=setInterval(this.move1,a)}}};const C={class:"app"},F=r("h3",null,"Input",-1),A={class:"buttons"},E=r("h3",null,"Result",-1),S={class:"answer"},P=r("h3",null,"Details",-1);function j(e,t,s,a,n,h){return l(),p("div",C,[F,x(r("textarea",{"onUpdate:modelValue":t[0]||(t[0]=i=>e.input=i),onInput:t[1]||(t[1]=(...i)=>e.parseInput&&e.parseInput(...i)),style:{width:"100%",height:"20vh"}},null,544),[[g,e.input]]),r("div",A,[r("button",{onClick:t[2]||(t[2]=(...i)=>e.resetInput&&e.resetInput(...i))},"reset")]),E,r("div",S,[r("p",{style:c([e.done1?{color:"red"}:{}])},"part 1: "+d(e.answer1),5),r("p",{style:c([e.done2?{color:"red"}:{}])},"part 2: "+d(e.answer2),5),M(`<p :style="[done2 ? {'color':'red'}:{}]">part 2: {{ answer2 }}</p>`)]),P,r("button",{onClick:t[3]||(t[3]=(...i)=>e.run1&&e.run1(...i))},"run part 1"),r("button",{onClick:t[4]||(t[4]=(...i)=>e.run2&&e.run2(...i))},"run part 2"),r("button",{onClick:t[5]||(t[5]=(...i)=>e.stop&&e.stop(...i))},"stop"),r("table",null,[(l(!0),p(v,null,m(e.cave.map,(i,o)=>(l(),p("tr",{key:o},[(l(!0),p(v,null,m(i,(u,w)=>(l(),p("td",{key:w,style:c([[u.visited?{background:"palegreen"}:{},u.onPath?{color:"red"}:{},u.onPath?{"font-weight":"bold"}:{}],{"font-size":"x-small"}])},d(u.value),5))),128))]))),128))])])}var D=I(k,[["render",j]]);export{D as default};
