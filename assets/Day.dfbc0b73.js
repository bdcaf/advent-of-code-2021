import{o as p,e as c,w as y,v as f,f as i,t as l,n as u,h as v,p as g,k as w}from"./vendor.b13a57b9.js";/* empty css                                                            */import{_ as b}from"./plugin-vue_export-helper.21dcd24c.js";const a=10,m=`
00100
11110
10110
10111
10101
01111
00111
11100
10000
11001
00010
01010
`.trim();var x={name:"App",components:{},data(){return{valid:!1,answer:0,answerB:0,inputText:m,doPart2:!1,stop:!1,canvasw:6*a,canvashr:a*3,canvash:6*a,gamma:NaN,epsilon:NaN,part1done:!1,part2done:!1,activePart:1,oxygenNumber:NaN,co2Number:NaN,cands:{oxy:[],co2:[],position:0}}},mounted(){},methods:{reset(){this.inputText=m},run1(){this.resetCalc(),this.activePart=1,this.inputdata=this.inputText.trim().split(`
`).map(t=>t.split("")).map(t=>t.map(e=>e==1?1:0)),this.canvasw=this.inputdata[0].length*a,this.canvash=this.inputdata.length*a,this.drawPoints("#day3-input-canvas",this.inputdata);let s=Math.sqrt(1e6/this.inputdata.length);this.interval=setInterval(this.nextMove,s)},resetCalc(){this.part1done=!1,this.stop=!1,this.valid=!1,this.parsedRows=0,this.total=[]},nextMove(){(this.inputdata.length==0||this.stop)&&(this.valid=!0,this.part1done=!0,clearInterval(this.interval));let s=this.inputdata.shift();if(this.parsedRows++,this.parsedRows==1)this.total=s;else for(let t in s)this.total[t]+=s[t];this.gammaList=this.total.map(t=>2*t>this.parsedRows),this.epsilonList=this.gammaList.map(t=>!t),this.gamma=parseInt(this.gammaList.map(t=>t?"1":"0").join(""),2),this.epsilon=parseInt(this.epsilonList.map(t=>t?"1":"0").join(""),2),this.answer=this.gamma*this.epsilon,this.drawRes1(),this.drawPoints("#day3-input-canvas",this.inputdata)},drawRes1(){let s=document.querySelector("#day3-result-canvas");if(s==null)return;let t=s.getContext("2d");t.clearRect(0,0,s.width,s.height);for(let e in this.total){let n=255-Math.floor(255*(this.total[e]/this.parsedRows)**2);t.beginPath(),t.fillStyle="rgb(255,"+n+","+n+")",t.fillRect(e*a,0,a,a),t.fill()}for(let e in this.gammaList)this.gammaList[e]&&(t.beginPath(),t.fillStyle="#FF0000",t.fillRect(e*a,a,a,a),t.fill());for(let e in this.epsilonList)this.epsilonList[e]&&(t.beginPath(),t.fillStyle="#FF0000",t.fillRect(e*a,2*a,a,a),t.fill())},drawPoints(s,t){let e=document.querySelector(s);if(e==null)return;let n=e.getContext("2d");n.clearRect(0,0,e.width,e.height);for(let r in t)for(let d in t[r])t[r][d]>0&&(n.beginPath(),n.fillStyle="#FF0000",n.fillRect(d*a,r*a,a,a),n.fill())},run2(){this.activePart=2,this.stop=!1;let s=this.inputText.trim().split(`
`).map(e=>e.split("")).map(e=>e.map(n=>n==1?1:0));this.canvasw=s[0].length*a,this.canvash=s.length*a,this.cands={oxy:s.map(e=>e),co2:s.map(e=>e),position:0};let t=400;this.interval=setInterval(this.nextMove2,t)},nextMove2(){if((this.cands.position>=this.canvasw||this.stop)&&(this.valid=!0,this.part1done=!0,clearInterval(this.interval)),this.cands.oxy.length>1){let s=this.cands.oxy.map(t=>t[this.cands.position]).reduce((t,e)=>t+e,0)>=this.cands.oxy.length/2?1:0;this.cands.oxy=this.cands.oxy.filter(t=>t[this.cands.position]==s),this.oxygenNumber=parseInt(this.cands.oxy[0].join(""),2),this.drawPoints("#day3-result-oxygen",this.cands.oxy)}if(this.cands.co2.length>1){let s=this.cands.co2.map(t=>t[this.cands.position]).reduce((t,e)=>t+e,0)>=this.cands.co2.length/2?1:0;this.cands.co2=this.cands.co2.filter(t=>t[this.cands.position]!=s),this.co2Number=parseInt(this.cands.co2[0].join(""),2),this.drawPoints("#day3-result-co2",this.cands.co2)}this.cands.position++,this.answerB=this.oxygenNumber*this.co2Number}}};const h=s=>(g("data-v-7fc531cb"),s=s(),w(),s),N={id:"app"},P=h(()=>i("label",{for:"code"},"input:",-1)),_={class:"control"},R={key:0,style:{display:"flex","justify-content":"center"}},I=h(()=>i("br",null,null,-1)),S=h(()=>i("br",null,null,-1)),j=["width","height"],k={style:{"max-height":"400px",overflow:"scroll"}},L=v(" input:"),C=h(()=>i("br",null,null,-1)),T=["width","height"],M={key:1,style:{display:"flex","justify-content":"center","max-height":"400px",overflow:"scroll"}},B={style:{padding:"1em"}},F=["width","height"],$={style:{padding:"1em"}},A=["width","height"];function D(s,t,e,n,r,d){return p(),c("div",N,[P,y(i("textarea",{id:"code","onUpdate:modelValue":t[0]||(t[0]=o=>s.inputText=o),rows:"4",cols:"14"},null,512),[[f,s.inputText]]),i("div",_,[i("button",{onClick:t[1]||(t[1]=(...o)=>s.run1&&s.run1(...o))},"run part1"),i("button",{onClick:t[2]||(t[2]=(...o)=>s.run2&&s.run2(...o))},"run part2"),i("button",{onClick:t[3]||(t[3]=(...o)=>s.reset&&s.reset(...o))},"reset"),i("button",{onClick:t[4]||(t[4]=o=>s.stop=!0)},"stop")]),i("ul",{style:u(s.valid?{"font-weight":"bold"}:{color:"gray"})},[i("li",null," Answer Part 1: "+l(s.answer),1),i("li",null," Answer Part 2: "+l(s.answerB),1)],4),s.activePart==1?(p(),c("div",R,[i("div",null,[v(" answer: Answer Part 1: "+l(s.answer)+" ",1),I,v(" (gamma: "+l(s.gamma)+", epsilon: "+l(s.epsilon)+")",1),S,i("canvas",{id:"day3-result-canvas",width:s.canvasw,height:s.canvashr,style:{border:"1px solid red"}},null,8,j)]),i("div",k,[L,C,i("canvas",{id:"day3-input-canvas",width:s.canvasw,height:s.canvash,style:{border:"1px solid gray"}},null,8,T)])])):(p(),c("div",M,[i("div",B,[i("div",{style:u(s.cands.oxy.length==1?{color:"red"}:{color:"gray"})},"oxygen: "+l(s.oxygenNumber),5),i("canvas",{id:"day3-result-oxygen",width:s.canvasw,height:s.canvash,style:{border:"1px solid blue"}},null,8,F)]),i("div",$,[i("div",{style:u(s.cands.co2.length==1?{color:"red"}:{color:"gray"})}," co2: "+l(s.co2Number),5),i("canvas",{id:"day3-result-co2",width:s.canvasw,height:s.canvash,style:{border:"1px solid red"}},null,8,A)])]))])}var E=b(x,[["render",D],["__scopeId","data-v-7fc531cb"]]);export{E as default};
