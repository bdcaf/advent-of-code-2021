var dist={},isPlainObj=e=>{if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const r=Object.getPrototypeOf(e);return r===null||r===Object.prototype};Object.defineProperty(dist,"__esModule",{value:!0});dist.valueToEstree=void 0;const isPlainObject$1=isPlainObj;function valueToEstree(e,r={}){if(e===void 0)return{type:"Identifier",name:"undefined"};if(e==null)return{type:"Literal",value:null,raw:"null"};if(e===Number.POSITIVE_INFINITY)return{type:"Identifier",name:"Infinity"};if(Number.isNaN(e))return{type:"Identifier",name:"NaN"};if(typeof e=="boolean")return{type:"Literal",value:e,raw:String(e)};if(typeof e=="bigint")return e>=0?{type:"Literal",value:e,raw:`${e}n`,bigint:String(e)}:{type:"UnaryExpression",operator:"-",prefix:!0,argument:valueToEstree(-e,r)};if(typeof e=="number")return e>=0?{type:"Literal",value:e,raw:String(e)}:{type:"UnaryExpression",operator:"-",prefix:!0,argument:valueToEstree(-e,r)};if(typeof e=="string")return{type:"Literal",value:e,raw:JSON.stringify(e)};if(typeof e=="symbol"){if(e.description&&e===Symbol.for(e.description))return{type:"CallExpression",optional:!1,callee:{type:"MemberExpression",computed:!1,optional:!1,object:{type:"Identifier",name:"Symbol"},property:{type:"Identifier",name:"for"}},arguments:[valueToEstree(e.description,r)]};throw new TypeError(`Only global symbols are supported, got: ${String(e)}`)}if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n+=1)t.push(n in e?valueToEstree(e[n],r):null);return{type:"ArrayExpression",elements:t}}if(e instanceof RegExp)return{type:"Literal",value:e,raw:String(e),regex:{pattern:e.source,flags:e.flags}};if(e instanceof Date)return{type:"NewExpression",callee:{type:"Identifier",name:"Date"},arguments:[valueToEstree(e.getTime(),r)]};if(e instanceof Map)return{type:"NewExpression",callee:{type:"Identifier",name:"Map"},arguments:[valueToEstree([...e.entries()],r)]};if(typeof Buffer!="undefined"&&Buffer.isBuffer(e))return{type:"CallExpression",optional:!1,callee:{type:"MemberExpression",computed:!1,optional:!1,object:{type:"Identifier",name:"Buffer"},property:{type:"Identifier",name:"from"}},arguments:[valueToEstree([...e.values()])]};if(e instanceof BigInt64Array||e instanceof BigUint64Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Set||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array)return{type:"NewExpression",callee:{type:"Identifier",name:e.constructor.name},arguments:[valueToEstree([...e],r)]};if(e instanceof URL||e instanceof URLSearchParams)return{type:"NewExpression",callee:{type:"Identifier",name:e.constructor.name},arguments:[valueToEstree(String(e),r)]};if(r.instanceAsObject||isPlainObject$1(e))return{type:"ObjectExpression",properties:Object.entries(e).map(([t,n])=>({type:"Property",method:!1,shorthand:!1,computed:!1,kind:"init",key:valueToEstree(t,r),value:valueToEstree(n,r)}))};throw new TypeError(`Unsupported value: ${String(e)}`)}dist.valueToEstree=valueToEstree;const{stringify:stringify$5}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");const OPERATOR_PRECEDENCE={"||":3,"&&":4,"|":5,"??":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},NEEDS_PARENTHESES=17,EXPRESSIONS_PRECEDENCE={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:NEEDS_PARENTHESES,ClassExpression:NEEDS_PARENTHESES,FunctionExpression:NEEDS_PARENTHESES,ObjectExpression:NEEDS_PARENTHESES,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function formatSequence(e,r){const{generator:t}=e;if(e.write("("),r!=null&&r.length>0){t[r[0].type](r[0],e);const{length:n}=r;for(let a=1;a<n;a++){const o=r[a];e.write(", "),t[o.type](o,e)}}e.write(")")}function expressionNeedsParenthesis(e,r,t,n){const a=e.expressionsPrecedence[r.type];if(a===NEEDS_PARENTHESES)return!0;const o=e.expressionsPrecedence[t.type];return a!==o?!n&&a===15&&o===14&&t.operator==="**"||a<o:a!==13&&a!==14?!1:r.operator==="**"&&t.operator==="**"?!n:n?OPERATOR_PRECEDENCE[r.operator]<=OPERATOR_PRECEDENCE[t.operator]:OPERATOR_PRECEDENCE[r.operator]<OPERATOR_PRECEDENCE[t.operator]}function formatExpression(e,r,t,n){const{generator:a}=e;expressionNeedsParenthesis(e,r,t,n)?(e.write("("),a[r.type](r,e),e.write(")")):a[r.type](r,e)}function reindent(e,r,t,n){const a=r.split(`
`),o=a.length-1;if(e.write(a[0].trim()),o>0){e.write(n);for(let s=1;s<o;s++)e.write(t+a[s].trim()+n);e.write(t+a[o].trim())}}function formatComments(e,r,t,n){const{length:a}=r;for(let o=0;o<a;o++){const s=r[o];e.write(t),s.type[0]==="L"?e.write("// "+s.value.trim()+`
`,s):(e.write("/*"),reindent(e,s.value,t,n),e.write("*/"+n))}}function hasCallExpression(e){let r=e;for(;r!=null;){const{type:t}=r;if(t[0]==="C"&&t[1]==="a")return!0;if(t[0]==="M"&&t[1]==="e"&&t[2]==="m")r=r.object;else return!1}}function formatVariableDeclaration(e,r){const{generator:t}=e,{declarations:n}=r;e.write(r.kind+" ");const{length:a}=n;if(a>0){t.VariableDeclarator(n[0],e);for(let o=1;o<a;o++)e.write(", "),t.VariableDeclarator(n[o],e)}}let ForInStatement,FunctionDeclaration,RestElement,BinaryExpression,ArrayExpression,BlockStatement;const GENERATOR$1={Program(e,r){const t=r.indent.repeat(r.indentLevel),{lineEnd:n,writeComments:a}=r;a&&e.comments!=null&&formatComments(r,e.comments,t,n);const o=e.body,{length:s}=o;for(let l=0;l<s;l++){const u=o[l];a&&u.comments!=null&&formatComments(r,u.comments,t,n),r.write(t),this[u.type](u,r),r.write(n)}a&&e.trailingComments!=null&&formatComments(r,e.trailingComments,t,n)},BlockStatement:BlockStatement=function(e,r){const t=r.indent.repeat(r.indentLevel++),{lineEnd:n,writeComments:a}=r,o=t+r.indent;r.write("{");const s=e.body;if(s!=null&&s.length>0){r.write(n),a&&e.comments!=null&&formatComments(r,e.comments,o,n);const{length:l}=s;for(let u=0;u<l;u++){const f=s[u];a&&f.comments!=null&&formatComments(r,f.comments,o,n),r.write(o),this[f.type](f,r),r.write(n)}r.write(t)}else a&&e.comments!=null&&(r.write(n),formatComments(r,e.comments,o,n),r.write(t));a&&e.trailingComments!=null&&formatComments(r,e.trailingComments,o,n),r.write("}"),r.indentLevel--},ClassBody:BlockStatement,StaticBlock(e,r){r.write("static "),this.BlockStatement(e,r)},EmptyStatement(e,r){r.write(";")},ExpressionStatement(e,r){const t=r.expressionsPrecedence[e.expression.type];t===NEEDS_PARENTHESES||t===3&&e.expression.left.type[0]==="O"?(r.write("("),this[e.expression.type](e.expression,r),r.write(")")):this[e.expression.type](e.expression,r),r.write(";")},IfStatement(e,r){r.write("if ("),this[e.test.type](e.test,r),r.write(") "),this[e.consequent.type](e.consequent,r),e.alternate!=null&&(r.write(" else "),this[e.alternate.type](e.alternate,r))},LabeledStatement(e,r){this[e.label.type](e.label,r),r.write(": "),this[e.body.type](e.body,r)},BreakStatement(e,r){r.write("break"),e.label!=null&&(r.write(" "),this[e.label.type](e.label,r)),r.write(";")},ContinueStatement(e,r){r.write("continue"),e.label!=null&&(r.write(" "),this[e.label.type](e.label,r)),r.write(";")},WithStatement(e,r){r.write("with ("),this[e.object.type](e.object,r),r.write(") "),this[e.body.type](e.body,r)},SwitchStatement(e,r){const t=r.indent.repeat(r.indentLevel++),{lineEnd:n,writeComments:a}=r;r.indentLevel++;const o=t+r.indent,s=o+r.indent;r.write("switch ("),this[e.discriminant.type](e.discriminant,r),r.write(") {"+n);const{cases:l}=e,{length:u}=l;for(let f=0;f<u;f++){const d=l[f];a&&d.comments!=null&&formatComments(r,d.comments,o,n),d.test?(r.write(o+"case "),this[d.test.type](d.test,r),r.write(":"+n)):r.write(o+"default:"+n);const{consequent:v}=d,{length:g}=v;for(let m=0;m<g;m++){const b=v[m];a&&b.comments!=null&&formatComments(r,b.comments,s,n),r.write(s),this[b.type](b,r),r.write(n)}}r.indentLevel-=2,r.write(t+"}")},ReturnStatement(e,r){r.write("return"),e.argument&&(r.write(" "),this[e.argument.type](e.argument,r)),r.write(";")},ThrowStatement(e,r){r.write("throw "),this[e.argument.type](e.argument,r),r.write(";")},TryStatement(e,r){if(r.write("try "),this[e.block.type](e.block,r),e.handler){const{handler:t}=e;t.param==null?r.write(" catch "):(r.write(" catch ("),this[t.param.type](t.param,r),r.write(") ")),this[t.body.type](t.body,r)}e.finalizer&&(r.write(" finally "),this[e.finalizer.type](e.finalizer,r))},WhileStatement(e,r){r.write("while ("),this[e.test.type](e.test,r),r.write(") "),this[e.body.type](e.body,r)},DoWhileStatement(e,r){r.write("do "),this[e.body.type](e.body,r),r.write(" while ("),this[e.test.type](e.test,r),r.write(");")},ForStatement(e,r){if(r.write("for ("),e.init!=null){const{init:t}=e;t.type[0]==="V"?formatVariableDeclaration(r,t):this[t.type](t,r)}r.write("; "),e.test&&this[e.test.type](e.test,r),r.write("; "),e.update&&this[e.update.type](e.update,r),r.write(") "),this[e.body.type](e.body,r)},ForInStatement:ForInStatement=function(e,r){r.write(`for ${e.await?"await ":""}(`);const{left:t}=e;t.type[0]==="V"?formatVariableDeclaration(r,t):this[t.type](t,r),r.write(e.type[3]==="I"?" in ":" of "),this[e.right.type](e.right,r),r.write(") "),this[e.body.type](e.body,r)},ForOfStatement:ForInStatement,DebuggerStatement(e,r){r.write("debugger;",e)},FunctionDeclaration:FunctionDeclaration=function(e,r){r.write((e.async?"async ":"")+(e.generator?"function* ":"function ")+(e.id?e.id.name:""),e),formatSequence(r,e.params),r.write(" "),this[e.body.type](e.body,r)},FunctionExpression:FunctionDeclaration,VariableDeclaration(e,r){formatVariableDeclaration(r,e),r.write(";")},VariableDeclarator(e,r){this[e.id.type](e.id,r),e.init!=null&&(r.write(" = "),this[e.init.type](e.init,r))},ClassDeclaration(e,r){if(r.write("class "+(e.id?`${e.id.name} `:""),e),e.superClass){r.write("extends ");const{superClass:t}=e,{type:n}=t,a=r.expressionsPrecedence[n];(n[0]!=="C"||n[1]!=="l"||n[5]!=="E")&&(a===NEEDS_PARENTHESES||a<r.expressionsPrecedence.ClassExpression)?(r.write("("),this[e.superClass.type](t,r),r.write(")")):this[t.type](t,r),r.write(" ")}this.ClassBody(e.body,r)},ImportDeclaration(e,r){r.write("import ");const{specifiers:t}=e,{length:n}=t;let a=0;if(n>0){for(;a<n;){a>0&&r.write(", ");const o=t[a],s=o.type[6];if(s==="D")r.write(o.local.name,o),a++;else if(s==="N")r.write("* as "+o.local.name,o),a++;else break}if(a<n){for(r.write("{");;){const o=t[a],{name:s}=o.imported;if(r.write(s,o),s!==o.local.name&&r.write(" as "+o.local.name),++a<n)r.write(", ");else break}r.write("}")}r.write(" from ")}this.Literal(e.source,r),r.write(";")},ImportExpression(e,r){r.write("import("),this[e.source.type](e.source,r),r.write(")")},ExportDefaultDeclaration(e,r){r.write("export default "),this[e.declaration.type](e.declaration,r),r.expressionsPrecedence[e.declaration.type]!=null&&e.declaration.type[0]!=="F"&&r.write(";")},ExportNamedDeclaration(e,r){if(r.write("export "),e.declaration)this[e.declaration.type](e.declaration,r);else{r.write("{");const{specifiers:t}=e,{length:n}=t;if(n>0)for(let a=0;;){const o=t[a],{name:s}=o.local;if(r.write(s,o),s!==o.exported.name&&r.write(" as "+o.exported.name),++a<n)r.write(", ");else break}r.write("}"),e.source&&(r.write(" from "),this.Literal(e.source,r)),r.write(";")}},ExportAllDeclaration(e,r){e.exported!=null?r.write("export * as "+e.exported.name+" from "):r.write("export * from "),this.Literal(e.source,r),r.write(";")},MethodDefinition(e,r){e.static&&r.write("static ");const t=e.kind[0];(t==="g"||t==="s")&&r.write(e.kind+" "),e.value.async&&r.write("async "),e.value.generator&&r.write("*"),e.computed?(r.write("["),this[e.key.type](e.key,r),r.write("]")):this[e.key.type](e.key,r),formatSequence(r,e.value.params),r.write(" "),this[e.value.body.type](e.value.body,r)},ClassExpression(e,r){this.ClassDeclaration(e,r)},ArrowFunctionExpression(e,r){r.write(e.async?"async ":"",e);const{params:t}=e;t!=null&&(t.length===1&&t[0].type[0]==="I"?r.write(t[0].name,t[0]):formatSequence(r,e.params)),r.write(" => "),e.body.type[0]==="O"?(r.write("("),this.ObjectExpression(e.body,r),r.write(")")):this[e.body.type](e.body,r)},ThisExpression(e,r){r.write("this",e)},Super(e,r){r.write("super",e)},RestElement:RestElement=function(e,r){r.write("..."),this[e.argument.type](e.argument,r)},SpreadElement:RestElement,YieldExpression(e,r){r.write(e.delegate?"yield*":"yield"),e.argument&&(r.write(" "),this[e.argument.type](e.argument,r))},AwaitExpression(e,r){r.write("await ",e),formatExpression(r,e.argument,e)},TemplateLiteral(e,r){const{quasis:t,expressions:n}=e;r.write("`");const{length:a}=n;for(let s=0;s<a;s++){const l=n[s],u=t[s];r.write(u.value.raw,u),r.write("${"),this[l.type](l,r),r.write("}")}const o=t[t.length-1];r.write(o.value.raw,o),r.write("`")},TemplateElement(e,r){r.write(e.value.raw,e)},TaggedTemplateExpression(e,r){formatExpression(r,e.tag,e),this[e.quasi.type](e.quasi,r)},ArrayExpression:ArrayExpression=function(e,r){if(r.write("["),e.elements.length>0){const{elements:t}=e,{length:n}=t;for(let a=0;;){const o=t[a];if(o!=null&&this[o.type](o,r),++a<n)r.write(", ");else{o==null&&r.write(", ");break}}}r.write("]")},ArrayPattern:ArrayExpression,ObjectExpression(e,r){const t=r.indent.repeat(r.indentLevel++),{lineEnd:n,writeComments:a}=r,o=t+r.indent;if(r.write("{"),e.properties.length>0){r.write(n),a&&e.comments!=null&&formatComments(r,e.comments,o,n);const s=","+n,{properties:l}=e,{length:u}=l;for(let f=0;;){const d=l[f];if(a&&d.comments!=null&&formatComments(r,d.comments,o,n),r.write(o),this[d.type](d,r),++f<u)r.write(s);else break}r.write(n),a&&e.trailingComments!=null&&formatComments(r,e.trailingComments,o,n),r.write(t+"}")}else a?e.comments!=null?(r.write(n),formatComments(r,e.comments,o,n),e.trailingComments!=null&&formatComments(r,e.trailingComments,o,n),r.write(t+"}")):e.trailingComments!=null?(r.write(n),formatComments(r,e.trailingComments,o,n),r.write(t+"}")):r.write("}"):r.write("}");r.indentLevel--},Property(e,r){e.method||e.kind[0]!=="i"?this.MethodDefinition(e,r):(e.shorthand||(e.computed?(r.write("["),this[e.key.type](e.key,r),r.write("]")):this[e.key.type](e.key,r),r.write(": ")),this[e.value.type](e.value,r))},PropertyDefinition(e,r){e.static&&r.write("static "),this[e.key.type](e.key,r),r.write(" = "),this[e.value.type](e.value,r)},ObjectPattern(e,r){if(r.write("{"),e.properties.length>0){const{properties:t}=e,{length:n}=t;for(let a=0;this[t[a].type](t[a],r),++a<n;)r.write(", ")}r.write("}")},SequenceExpression(e,r){formatSequence(r,e.expressions)},UnaryExpression(e,r){if(e.prefix){const{operator:t,argument:n,argument:{type:a}}=e;r.write(t);const o=expressionNeedsParenthesis(r,n,e);!o&&(t.length>1||a[0]==="U"&&(a[1]==="n"||a[1]==="p")&&n.prefix&&n.operator[0]===t&&(t==="+"||t==="-"))&&r.write(" "),o?(r.write(t.length>1?" (":"("),this[a](n,r),r.write(")")):this[a](n,r)}else this[e.argument.type](e.argument,r),r.write(e.operator)},UpdateExpression(e,r){e.prefix?(r.write(e.operator),this[e.argument.type](e.argument,r)):(this[e.argument.type](e.argument,r),r.write(e.operator))},AssignmentExpression(e,r){this[e.left.type](e.left,r),r.write(" "+e.operator+" "),this[e.right.type](e.right,r)},AssignmentPattern(e,r){this[e.left.type](e.left,r),r.write(" = "),this[e.right.type](e.right,r)},BinaryExpression:BinaryExpression=function(e,r){const t=e.operator==="in";t&&r.write("("),formatExpression(r,e.left,e,!1),r.write(" "+e.operator+" "),formatExpression(r,e.right,e,!0),t&&r.write(")")},LogicalExpression:BinaryExpression,ConditionalExpression(e,r){const{test:t}=e,n=r.expressionsPrecedence[t.type];n===NEEDS_PARENTHESES||n<=r.expressionsPrecedence.ConditionalExpression?(r.write("("),this[t.type](t,r),r.write(")")):this[t.type](t,r),r.write(" ? "),this[e.consequent.type](e.consequent,r),r.write(" : "),this[e.alternate.type](e.alternate,r)},NewExpression(e,r){r.write("new ");const t=r.expressionsPrecedence[e.callee.type];t===NEEDS_PARENTHESES||t<r.expressionsPrecedence.CallExpression||hasCallExpression(e.callee)?(r.write("("),this[e.callee.type](e.callee,r),r.write(")")):this[e.callee.type](e.callee,r),formatSequence(r,e.arguments)},CallExpression(e,r){const t=r.expressionsPrecedence[e.callee.type];t===NEEDS_PARENTHESES||t<r.expressionsPrecedence.CallExpression?(r.write("("),this[e.callee.type](e.callee,r),r.write(")")):this[e.callee.type](e.callee,r),e.optional&&r.write("?."),formatSequence(r,e.arguments)},ChainExpression(e,r){this[e.expression.type](e.expression,r)},MemberExpression(e,r){const t=r.expressionsPrecedence[e.object.type];t===NEEDS_PARENTHESES||t<r.expressionsPrecedence.MemberExpression?(r.write("("),this[e.object.type](e.object,r),r.write(")")):this[e.object.type](e.object,r),e.computed?(e.optional&&r.write("?."),r.write("["),this[e.property.type](e.property,r),r.write("]")):(e.optional?r.write("?."):r.write("."),this[e.property.type](e.property,r))},MetaProperty(e,r){r.write(e.meta.name+"."+e.property.name,e)},Identifier(e,r){r.write(e.name,e)},PrivateIdentifier(e,r){r.write(`#${e.name}`,e)},Literal(e,r){e.raw!=null?r.write(e.raw,e):e.regex!=null?this.RegExpLiteral(e,r):e.bigint!=null?r.write(e.bigint+"n",e):r.write(stringify$5(e.value),e)},RegExpLiteral(e,r){const{regex:t}=e;r.write(`/${t.pattern}/${t.flags}`,e)}},EMPTY_OBJECT={},baseGenerator=GENERATOR$1;class State{constructor(r){const t=r??EMPTY_OBJECT;this.output="",t.output!=null?(this.output=t.output,this.write=this.writeToStream):this.output="",this.generator=t.generator!=null?t.generator:GENERATOR$1,this.expressionsPrecedence=t.expressionsPrecedence!=null?t.expressionsPrecedence:EXPRESSIONS_PRECEDENCE,this.indent=t.indent!=null?t.indent:"  ",this.lineEnd=t.lineEnd!=null?t.lineEnd:`
`,this.indentLevel=t.startingIndentLevel!=null?t.startingIndentLevel:0,this.writeComments=t.comments?t.comments:!1,t.sourceMap!=null&&(this.write=t.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=t.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:t.sourceMap.file||t.sourceMap._file})}write(r){this.output+=r}writeToStream(r){this.output.write(r)}writeAndMap(r,t){this.output+=r,this.map(r,t)}writeToStreamAndMap(r,t){this.output.write(r),this.map(r,t)}map(r,t){if(t!=null){const{type:o}=t;if(o[0]==="L"&&o[2]==="n"){this.column=0,this.line++;return}if(t.loc!=null){const{mapping:s}=this;s.original=t.loc.start,s.name=t.name,this.sourceMap.addMapping(s)}if(o[0]==="T"&&o[8]==="E"||o[0]==="L"&&o[1]==="i"&&typeof t.value=="string"){const{length:s}=r;let{column:l,line:u}=this;for(let f=0;f<s;f++)r[f]===`
`?(l=0,u++):l++;this.column=l,this.line=u;return}}const{length:n}=r,{lineEnd:a}=this;n>0&&(this.lineEndSize>0&&(a.length===1?r[n-1]===a:r.endsWith(a))?(this.line+=this.lineEndSize,this.column=0):this.column+=n)}toString(){return this.output}}function generate$1(e,r){const t=new State(r);return t.generator[e.type](e,t),t.output}var astring=Object.freeze(Object.defineProperty({__proto__:null,NEEDS_PARENTHESES,EXPRESSIONS_PRECEDENCE,GENERATOR:GENERATOR$1,baseGenerator,generate:generate$1},Symbol.toStringTag,{value:"Module"}));function serializeListValue(e){const r={};return t(e),Object.keys(r).join(" ");function t(n){n&&typeof n.forEach=="function"?n.forEach(t):n===Object(n)?Object.keys(n).forEach(a=>{n[a]&&t(a)}):(n=n==null?"":String(n).trim(),n&&n.split(/\s+/).forEach(a=>{r[a]=!0}))}}function hydrationSpecifier(e){return`astro/client/${e}.js`}var __defProp$1=Object.defineProperty,__defProps$1=Object.defineProperties,__getOwnPropDescs$1=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(e,r,t)=>r in e?__defProp$1(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,__spreadValues$1=(e,r)=>{for(var t in r||(r={}))__hasOwnProp$1.call(r,t)&&__defNormalProp$1(e,t,r[t]);if(__getOwnPropSymbols$1)for(var t of __getOwnPropSymbols$1(r))__propIsEnum$1.call(r,t)&&__defNormalProp$1(e,t,r[t]);return e},__spreadProps$1=(e,r)=>__defProps$1(e,__getOwnPropDescs$1(r));const{generate,GENERATOR}=astring;__spreadProps$1(__spreadValues$1({},GENERATOR),{Literal(e,r){e.raw!=null?r.write(e.raw.replace("<\/script>","<\\/script>")):GENERATOR.Literal(e,r)}});class Metadata{constructor(r,t){this.modules=t.modules,this.hoisted=t.hoisted,this.hydratedComponents=t.hydratedComponents,this.hydrationDirectives=t.hydrationDirectives,this.mockURL=new URL(r,"http://example.com"),this.metadataCache=new Map}resolvePath(r){return r.startsWith(".")?new URL(r,this.mockURL).pathname:r}getPath(r){const t=this.getComponentMetadata(r);return(t==null?void 0:t.componentUrl)||null}getExport(r){const t=this.getComponentMetadata(r);return(t==null?void 0:t.componentExport)||null}*hydratedComponentPaths(){const r=new Set;for(const t of this.deepMetadata())for(const n of t.hydratedComponents){const a=t.getPath(n);a&&!r.has(a)&&(r.add(a),yield a)}}*hydrationDirectiveSpecifiers(){const r=new Set;for(const t of this.deepMetadata())for(const n of t.hydrationDirectives)r.has(n)||(r.add(n),yield hydrationSpecifier(n))}*hoistedScriptPaths(){for(const r of this.deepMetadata()){let t=0,n=r.mockURL.pathname;for(;t<r.hoisted.length;)yield`${n}?astro&type=script&index=${t}`,t++}}*deepMetadata(){yield this;const r=new Set;for(const{module:t}of this.modules)if(typeof t.$$metadata!="undefined"){const n=t.$$metadata;for(const a of n.deepMetadata())r.has(a)||(r.add(a),yield a)}}getComponentMetadata(r){if(this.metadataCache.has(r))return this.metadataCache.get(r);const t=this.findComponentMetadata(r);return this.metadataCache.set(r,t),t}findComponentMetadata(r){const t=typeof r=="string";for(const{module:n,specifier:a}of this.modules){const o=this.resolvePath(a);for(const[s,l]of Object.entries(n))if(t){if(s==="tagName"&&r===l)return{componentExport:s,componentUrl:o}}else if(r===l)return{componentExport:s,componentUrl:o}}return null}}function createMetadata(e,r){return new Metadata(e,r)}var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,r,t)=>r in e?__defProp(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,__spreadValues=(e,r)=>{for(var t in r||(r={}))__hasOwnProp.call(r,t)&&__defNormalProp(e,t,r[t]);if(__getOwnPropSymbols)for(var t of __getOwnPropSymbols(r))__propIsEnum.call(r,t)&&__defNormalProp(e,t,r[t]);return e},__spreadProps=(e,r)=>__defProps(e,__getOwnPropDescs(r));async function _render(e){if(e=await e,Array.isArray(e))return(await Promise.all(e.map(r=>_render(r)))).join("");if(typeof e=="function")return _render(e());if(typeof e=="string")return e;if(!(!e&&e!==0))return e instanceof AstroComponent||Object.prototype.toString.call(e)==="[object AstroComponent]"?await renderAstroComponent(e):e}class AstroComponent{constructor(r,t){this.htmlParts=r,this.expressions=t}get[Symbol.toStringTag](){return"AstroComponent"}*[Symbol.iterator](){const{htmlParts:r,expressions:t}=this;for(let n=0;n<r.length;n++){const a=r[n],o=t[n];yield _render(a),yield _render(o)}}}async function render$e(e,...r){return new AstroComponent(e,r)}function createComponent(e){return e.isAstroComponentFactory=!0,e}function createFetchContentFn(e){return t=>{let n=[...Object.entries(t)];if(n.length===0)throw new Error(`[${e.pathname}] Astro.fetchContent() no matches found.`);return n.map(([a,o])=>{if(!o.frontmatter)return;const s=new URL(a,e).pathname;return __spreadProps(__spreadValues({},o.frontmatter),{Content:o.default,content:o.metadata,file:new URL(a,e),url:s.includes("/pages/")?s.replace(/^.*\/pages\//,"/").replace(/(\/index)?\.md$/,""):void 0})}).filter(Boolean)}}function createAstro(e,r,t){const n=new URL(e,r),a=new URL(t),o=createFetchContentFn(n);return{site:new URL(r),fetchContent:o,resolve(...s){let l=s.reduce((u,f)=>new URL(f,u),n).pathname;return l.startsWith(a.pathname)&&(l="/"+l.substr(a.pathname.length)),l}}}const toAttributeString=e=>String(e).replace(/&/g,"&#38;").replace(/"/g,"&#34;"),STATIC_DIRECTIVES=new Set(["set:html","set:text"]);function addAttribute(e,r){return e==null||e===!1?"":STATIC_DIRECTIVES.has(r)?(console.warn(`[astro] The "${r}" directive cannot be applied dynamically at runtime. It will not be rendered as an attribute.

Make sure to use the static attribute syntax (\`${r}={value}\`) instead of the dynamic spread syntax (\`{...{ "${r}": value }}\`).`),""):r==="class:list"?` ${r.slice(0,-5)}="${toAttributeString(serializeListValue(e))}"`:e===!0&&r.startsWith("data-")?` ${r}`:` ${r}="${toAttributeString(e)}"`}async function renderAstroComponent(e){let r="";for await(const t of e)(t||t===0)&&(r+=t);return r}function makeMap(e,r){const t=Object.create(null),n=e.split(",");for(let a=0;a<n.length;a++)t[n[a]]=!0;return r?a=>!!t[a.toLowerCase()]:a=>!!t[a]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function normalizeStyle(e){if(isArray$e(e)){const r={};for(let t=0;t<e.length;t++){const n=e[t],a=isString$1(n)?parseStringStyle(n):normalizeStyle(n);if(a)for(const o in a)r[o]=a[o]}return r}else{if(isString$1(e))return e;if(isObject$l(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(e){const r={};return e.split(listDelimiterRE).forEach(t=>{if(t){const n=t.split(propertyDelimiterRE);n.length>1&&(r[n[0].trim()]=n[1].trim())}}),r}function normalizeClass(e){let r="";if(isString$1(e))r=e;else if(isArray$e(e))for(let t=0;t<e.length;t++){const n=normalizeClass(e[t]);n&&(r+=n+" ")}else if(isObject$l(e))for(const t in e)e[t]&&(r+=t+" ");return r.trim()}function looseCompareArrays(e,r){if(e.length!==r.length)return!1;let t=!0;for(let n=0;t&&n<e.length;n++)t=looseEqual(e[n],r[n]);return t}function looseEqual(e,r){if(e===r)return!0;let t=isDate(e),n=isDate(r);if(t||n)return t&&n?e.getTime()===r.getTime():!1;if(t=isArray$e(e),n=isArray$e(r),t||n)return t&&n?looseCompareArrays(e,r):!1;if(t=isObject$l(e),n=isObject$l(r),t||n){if(!t||!n)return!1;const a=Object.keys(e).length,o=Object.keys(r).length;if(a!==o)return!1;for(const s in e){const l=e.hasOwnProperty(s),u=r.hasOwnProperty(s);if(l&&!u||!l&&u||!looseEqual(e[s],r[s]))return!1}}return String(e)===String(r)}function looseIndexOf(e,r){return e.findIndex(t=>looseEqual(t,r))}const toDisplayString=e=>isString$1(e)?e:e==null?"":isArray$e(e)||isObject$l(e)&&(e.toString===objectToString$2||!isFunction(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,r)=>r&&r.__v_isRef?replacer(e,r.value):isMap(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((t,[n,a])=>(t[`${n} =>`]=a,t),{})}:isSet(r)?{[`Set(${r.size})`]:[...r.values()]}:isObject$l(r)&&!isArray$e(r)&&!isPlainObject(r)?String(r):r,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend$3=Object.assign,remove$1=(e,r)=>{const t=e.indexOf(r);t>-1&&e.splice(t,1)},hasOwnProperty$2=Object.prototype.hasOwnProperty,hasOwn=(e,r)=>hasOwnProperty$2.call(e,r),isArray$e=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isDate=e=>e instanceof Date,isFunction=e=>typeof e=="function",isString$1=e=>typeof e=="string",isSymbol$6=e=>typeof e=="symbol",isObject$l=e=>e!==null&&typeof e=="object",isPromise=e=>isObject$l(e)&&isFunction(e.then)&&isFunction(e.catch),objectToString$2=Object.prototype.toString,toTypeString=e=>objectToString$2.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString$1(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const r=Object.create(null);return t=>r[t]||(r[t]=e(t))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(r,t)=>t?t.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,r)=>!Object.is(e,r),invokeArrayFns=(e,r)=>{for(let t=0;t<e.length;t++)e[t](r)},def=(e,r,t)=>{Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value:t})},toNumber=e=>{const r=parseFloat(e);return isNaN(r)?e:r};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let activeEffectScope;class EffectScope{constructor(r=!1){this.active=!0,this.effects=[],this.cleanups=[],!r&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(r){if(this.active)try{return activeEffectScope=this,r()}finally{activeEffectScope=this.parent}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(r){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!r){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.active=!1}}}function recordEffectScope(e,r=activeEffectScope){r&&r.active&&r.effects.push(e)}const createDep=e=>{const r=new Set(e);return r.w=0,r.n=0,r},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let r=0;r<e.length;r++)e[r].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:r}=e;if(r.length){let t=0;for(let n=0;n<r.length;n++){const a=r[n];wasTracked(a)&&!newTracked(a)?a.delete(e):r[t++]=a,a.w&=~trackOpBit,a.n&=~trackOpBit}r.length=t}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(r,t=null,n){this.fn=r,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,n)}run(){if(!this.active)return this.fn();let r=activeEffect,t=shouldTrack;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=t,this.parent=void 0}}stop(){this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:r}=e;if(r.length){for(let t=0;t<r.length;t++)r[t].delete(e);r.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,r,t){if(shouldTrack&&activeEffect){let n=targetMap.get(e);n||targetMap.set(e,n=new Map);let a=n.get(t);a||n.set(t,a=createDep()),trackEffects(a)}}function trackEffects(e,r){let t=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,t=!wasTracked(e)):t=!e.has(activeEffect),t&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger$1(e,r,t,n,a,o){const s=targetMap.get(e);if(!s)return;let l=[];if(r==="clear")l=[...s.values()];else if(t==="length"&&isArray$e(e))s.forEach((u,f)=>{(f==="length"||f>=n)&&l.push(u)});else switch(t!==void 0&&l.push(s.get(t)),r){case"add":isArray$e(e)?isIntegerKey(t)&&l.push(s.get("length")):(l.push(s.get(ITERATE_KEY)),isMap(e)&&l.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$e(e)||(l.push(s.get(ITERATE_KEY)),isMap(e)&&l.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&l.push(s.get(ITERATE_KEY));break}if(l.length===1)l[0]&&triggerEffects(l[0]);else{const u=[];for(const f of l)f&&u.push(...f);triggerEffects(createDep(u))}}function triggerEffects(e,r){for(const t of isArray$e(e)?e:[...e])(t!==activeEffect||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(isSymbol$6)),get$7=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(r=>{e[r]=function(...t){const n=toRaw(this);for(let o=0,s=this.length;o<s;o++)track(n,"get",o+"");const a=n[r](...t);return a===-1||a===!1?n[r](...t.map(toRaw)):a}}),["push","pop","shift","unshift","splice"].forEach(r=>{e[r]=function(...t){pauseTracking();const n=toRaw(this)[r].apply(this,t);return resetTracking(),n}}),e}function createGetter(e=!1,r=!1){return function(n,a,o){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_isShallow")return r;if(a==="__v_raw"&&o===(e?r?shallowReadonlyMap:readonlyMap:r?shallowReactiveMap:reactiveMap).get(n))return n;const s=isArray$e(n);if(!e&&s&&hasOwn(arrayInstrumentations,a))return Reflect.get(arrayInstrumentations,a,o);const l=Reflect.get(n,a,o);return(isSymbol$6(a)?builtInSymbols.has(a):isNonTrackableKeys(a))||(e||track(n,"get",a),r)?l:isRef(l)?!s||!isIntegerKey(a)?l.value:l:isObject$l(l)?e?readonly(l):reactive(l):l}}const set$5=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(t,n,a,o){let s=t[n];if(isReadonly(s)&&isRef(s)&&!isRef(a))return!1;if(!e&&!isReadonly(a)&&(isShallow(a)||(a=toRaw(a),s=toRaw(s)),!isArray$e(t)&&isRef(s)&&!isRef(a)))return s.value=a,!0;const l=isArray$e(t)&&isIntegerKey(n)?Number(n)<t.length:hasOwn(t,n),u=Reflect.set(t,n,a,o);return t===toRaw(o)&&(l?hasChanged(a,s)&&trigger$1(t,"set",n,a):trigger$1(t,"add",n,a)),u}}function deleteProperty(e,r){const t=hasOwn(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&t&&trigger$1(e,"delete",r,void 0),n}function has$e(e,r){const t=Reflect.has(e,r);return(!isSymbol$6(r)||!builtInSymbols.has(r))&&track(e,"has",r),t}function ownKeys$8(e){return track(e,"iterate",isArray$e(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$7,set:set$5,deleteProperty,has:has$e,ownKeys:ownKeys$8},readonlyHandlers={get:readonlyGet,set(e,r){return!0},deleteProperty(e,r){return!0}},shallowReactiveHandlers=extend$3({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$1$1(e,r,t=!1,n=!1){e=e.__v_raw;const a=toRaw(e),o=toRaw(r);r!==o&&!t&&track(a,"get",r),!t&&track(a,"get",o);const{has:s}=getProto(a),l=n?toShallow:t?toReadonly:toReactive;if(s.call(a,r))return l(e.get(r));if(s.call(a,o))return l(e.get(o));e!==a&&e.get(r)}function has$1$2(e,r=!1){const t=this.__v_raw,n=toRaw(t),a=toRaw(e);return e!==a&&!r&&track(n,"has",e),!r&&track(n,"has",a),e===a?t.has(e):t.has(e)||t.has(a)}function size(e,r=!1){return e=e.__v_raw,!r&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const r=toRaw(this);return getProto(r).has.call(r,e)||(r.add(e),trigger$1(r,"add",e,e)),this}function set$1$2(e,r){r=toRaw(r);const t=toRaw(this),{has:n,get:a}=getProto(t);let o=n.call(t,e);o||(e=toRaw(e),o=n.call(t,e));const s=a.call(t,e);return t.set(e,r),o?hasChanged(r,s)&&trigger$1(t,"set",e,r):trigger$1(t,"add",e,r),this}function deleteEntry(e){const r=toRaw(this),{has:t,get:n}=getProto(r);let a=t.call(r,e);a||(e=toRaw(e),a=t.call(r,e)),n&&n.call(r,e);const o=r.delete(e);return a&&trigger$1(r,"delete",e,void 0),o}function clear(){const e=toRaw(this),r=e.size!==0,t=e.clear();return r&&trigger$1(e,"clear",void 0,void 0),t}function createForEach(e,r){return function(n,a){const o=this,s=o.__v_raw,l=toRaw(s),u=r?toShallow:e?toReadonly:toReactive;return!e&&track(l,"iterate",ITERATE_KEY),s.forEach((f,d)=>n.call(a,u(f),u(d),o))}}function createIterableMethod(e,r,t){return function(...n){const a=this.__v_raw,o=toRaw(a),s=isMap(o),l=e==="entries"||e===Symbol.iterator&&s,u=e==="keys"&&s,f=a[e](...n),d=t?toShallow:r?toReadonly:toReactive;return!r&&track(o,"iterate",u?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:v,done:g}=f.next();return g?{value:v,done:g}:{value:l?[d(v[0]),d(v[1])]:d(v),done:g}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...r){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(o){return get$1$1(this,o)},get size(){return size(this)},has:has$1$2,add,set:set$1$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},r={get(o){return get$1$1(this,o,!1,!0)},get size(){return size(this)},has:has$1$2,add,set:set$1$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},t={get(o){return get$1$1(this,o,!0)},get size(){return size(this,!0)},has(o){return has$1$2.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},n={get(o){return get$1$1(this,o,!0,!0)},get size(){return size(this,!0)},has(o){return has$1$2.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=createIterableMethod(o,!1,!1),t[o]=createIterableMethod(o,!0,!1),r[o]=createIterableMethod(o,!1,!0),n[o]=createIterableMethod(o,!0,!0)}),[e,t,r,n]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,r){const t=r?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(n,a,o)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(hasOwn(t,a)&&a in n?t:n,a,o)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,r,t,n,a){if(!isObject$l(e)||e.__v_raw&&!(r&&e.__v_isReactive))return e;const o=a.get(e);if(o)return o;const s=getTargetType(e);if(s===0)return e;const l=new Proxy(e,s===2?n:t);return a.set(e,l),l}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const r=e&&e.__v_raw;return r?toRaw(r):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject$l(e)?reactive(e):e,toReadonly=e=>isObject$l(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,r){e=toRaw(e),e.dep&&triggerEffects(e.dep)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function createRef(e,r){return isRef(e)?e:new RefImpl(e,r)}class RefImpl{constructor(r,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?r:toRaw(r),this._value=t?r:toReactive(r)}get value(){return trackRefValue(this),this._value}set value(r){r=this.__v_isShallow?r:toRaw(r),hasChanged(r,this._rawValue)&&(this._rawValue=r,this._value=this.__v_isShallow?r:toReactive(r),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,r,t)=>unref(Reflect.get(e,r,t)),set:(e,r,t,n)=>{const a=e[r];return isRef(a)&&!isRef(t)?(a.value=t,!0):Reflect.set(e,r,t,n)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(r,t,n,a){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(r,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=n}get value(){const r=toRaw(this);return trackRefValue(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}function computed$1(e,r,t=!1){let n,a;const o=isFunction(e);return o?(n=e,a=NOOP):(n=e.get,a=e.set),new ComputedRefImpl(n,a,o||!a,t)}Promise.resolve();function callWithErrorHandling(e,r,t,n){let a;try{a=n?e(...n):e()}catch(o){handleError(o,r,t)}return a}function callWithAsyncErrorHandling(e,r,t,n){if(isFunction(e)){const o=callWithErrorHandling(e,r,t,n);return o&&isPromise(o)&&o.catch(s=>{handleError(s,r,t)}),o}const a=[];for(let o=0;o<e.length;o++)a.push(callWithAsyncErrorHandling(e[o],r,t,n));return a}function handleError(e,r,t,n=!0){const a=r?r.vnode:null;if(r){let o=r.parent;const s=r.proxy,l=t;for(;o;){const f=o.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,s,l)===!1)return}o=o.parent}const u=r.appContext.config.errorHandler;if(u){callWithErrorHandling(u,null,10,[e,s,l]);return}}logError(e,t,a,n)}function logError(e,r,t,n=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(e){const r=currentFlushPromise||resolvedPromise;return e?r.then(this?e.bind(this):e):r}function findInsertionIndex(e){let r=flushIndex+1,t=queue.length;for(;r<t;){const n=r+t>>>1;getId(queue[n])<e?r=n+1:t=n}return r}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&e!==currentPreFlushParentJob&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const r=queue.indexOf(e);r>flushIndex&&queue.splice(r,1)}function queueCb(e,r,t,n){isArray$e(e)?t.push(...e):(!r||!r.includes(e,e.allowRecurse?n+1:n))&&t.push(e),queueFlush()}function queuePreFlushCb(e){queueCb(e,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(e){queueCb(e,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(e,r=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=r,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(e,r)}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const r=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...r);return}for(activePostFlushCbs=r,activePostFlushCbs.sort((t,n)=>getId(t)-getId(n)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id;function flushJobs(e){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(e),queue.sort((t,n)=>getId(t)-getId(n));const r=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&t.active!==!1&&callWithErrorHandling(t,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(e)}}function emit$1(e,r,...t){const n=e.vnode.props||EMPTY_OBJ;let a=t;const o=r.startsWith("update:"),s=o&&r.slice(7);if(s&&s in n){const d=`${s==="modelValue"?"model":s}Modifiers`,{number:v,trim:g}=n[d]||EMPTY_OBJ;g?a=t.map(m=>m.trim()):v&&(a=t.map(toNumber))}let l,u=n[l=toHandlerKey(r)]||n[l=toHandlerKey(camelize(r))];!u&&o&&(u=n[l=toHandlerKey(hyphenate(r))]),u&&callWithAsyncErrorHandling(u,e,6,a);const f=n[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,callWithAsyncErrorHandling(f,e,6,a)}}function normalizeEmitsOptions(e,r,t=!1){const n=r.emitsCache,a=n.get(e);if(a!==void 0)return a;const o=e.emits;let s={},l=!1;if(!isFunction(e)){const u=f=>{const d=normalizeEmitsOptions(f,r,!0);d&&(l=!0,extend$3(s,d))};!t&&r.mixins.length&&r.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!l?(n.set(e,null),null):(isArray$e(o)?o.forEach(u=>s[u]=null):extend$3(s,o),n.set(e,s),s)}function isEmitListener(e,r){return!e||!isOn(r)?!1:(r=r.slice(2).replace(/Once$/,""),hasOwn(e,r[0].toLowerCase()+r.slice(1))||hasOwn(e,hyphenate(r))||hasOwn(e,r))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const r=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,r}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}function withCtx(e,r=currentRenderingInstance,t){if(!r||e._n)return e;const n=(...a)=>{n._d&&setBlockTracking(-1);const o=setCurrentRenderingInstance(r),s=e(...a);return setCurrentRenderingInstance(o),n._d&&setBlockTracking(1),s};return n._n=!0,n._c=!0,n._d=!0,n}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:r,vnode:t,proxy:n,withProxy:a,props:o,propsOptions:[s],slots:l,attrs:u,emit:f,render:d,renderCache:v,data:g,setupState:m,ctx:b,inheritAttrs:E}=e;let w,_;const O=setCurrentRenderingInstance(e);try{if(t.shapeFlag&4){const T=a||n;w=normalizeVNode(d.call(T,T,v,o,m,g,b)),_=u}else{const T=r;w=normalizeVNode(T.length>1?T(o,{attrs:u,slots:l,emit:f}):T(o,null)),_=r.props?u:getFunctionalFallthrough(u)}}catch(T){blockStack.length=0,handleError(T,e,1),w=createVNode(Comment)}let S=w;if(_&&E!==!1){const T=Object.keys(_),{shapeFlag:I}=S;T.length&&I&(1|6)&&(s&&T.some(isModelListener)&&(_=filterModelListeners(_,s)),S=cloneVNode(S,_))}return t.dirs&&(S.dirs=S.dirs?S.dirs.concat(t.dirs):t.dirs),t.transition&&(S.transition=t.transition),w=S,setCurrentRenderingInstance(O),w}const getFunctionalFallthrough=e=>{let r;for(const t in e)(t==="class"||t==="style"||isOn(t))&&((r||(r={}))[t]=e[t]);return r},filterModelListeners=(e,r)=>{const t={};for(const n in e)(!isModelListener(n)||!(n.slice(9)in r))&&(t[n]=e[n]);return t};function shouldUpdateComponent(e,r,t){const{props:n,children:a,component:o}=e,{props:s,children:l,patchFlag:u}=r,f=o.emitsOptions;if(r.dirs||r.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return n?hasPropsChanged(n,s,f):!!s;if(u&8){const d=r.dynamicProps;for(let v=0;v<d.length;v++){const g=d[v];if(s[g]!==n[g]&&!isEmitListener(f,g))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:n===s?!1:n?s?hasPropsChanged(n,s,f):!0:!!s;return!1}function hasPropsChanged(e,r,t){const n=Object.keys(r);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const o=n[a];if(r[o]!==e[o]&&!isEmitListener(t,o))return!0}return!1}function updateHOCHostEl({vnode:e,parent:r},t){for(;r&&r.subTree===e;)(e=r.vnode).el=t,r=r.parent}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,r){r&&r.pendingBranch?isArray$e(e)?r.effects.push(...e):r.effects.push(e):queuePostFlushCb(e)}function provide(e,r){if(currentInstance){let t=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===t&&(t=currentInstance.provides=Object.create(n)),t[e]=r}}function inject(e,r,t=!1){const n=currentInstance||currentRenderingInstance;if(n){const a=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(a&&e in a)return a[e];if(arguments.length>1)return t&&isFunction(r)?r.call(n.proxy):r}}const INITIAL_WATCHER_VALUE={};function watch(e,r,t){return doWatch(e,r,t)}function doWatch(e,r,{immediate:t,deep:n,flush:a,onTrack:o,onTrigger:s}=EMPTY_OBJ){const l=currentInstance;let u,f=!1,d=!1;if(isRef(e)?(u=()=>e.value,f=isShallow(e)):isReactive(e)?(u=()=>e,n=!0):isArray$e(e)?(d=!0,f=e.some(isReactive),u=()=>e.map(_=>{if(isRef(_))return _.value;if(isReactive(_))return traverse(_);if(isFunction(_))return callWithErrorHandling(_,l,2)})):isFunction(e)?r?u=()=>callWithErrorHandling(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return v&&v(),callWithAsyncErrorHandling(e,l,3,[g])}:u=NOOP,r&&n){const _=u;u=()=>traverse(_())}let v,g=_=>{v=w.onStop=()=>{callWithErrorHandling(_,l,4)}};if(isInSSRComponentSetup)return g=NOOP,r?t&&callWithAsyncErrorHandling(r,l,3,[u(),d?[]:void 0,g]):u(),NOOP;let m=d?[]:INITIAL_WATCHER_VALUE;const b=()=>{if(!!w.active)if(r){const _=w.run();(n||f||(d?_.some((O,S)=>hasChanged(O,m[S])):hasChanged(_,m)))&&(v&&v(),callWithAsyncErrorHandling(r,l,3,[_,m===INITIAL_WATCHER_VALUE?void 0:m,g]),m=_)}else w.run()};b.allowRecurse=!!r;let E;a==="sync"?E=b:a==="post"?E=()=>queuePostRenderEffect(b,l&&l.suspense):E=()=>{!l||l.isMounted?queuePreFlushCb(b):b()};const w=new ReactiveEffect(u,E);return r?t?b():m=w.run():a==="post"?queuePostRenderEffect(w.run.bind(w),l&&l.suspense):w.run(),()=>{w.stop(),l&&l.scope&&remove$1(l.scope.effects,w)}}function instanceWatch(e,r,t){const n=this.proxy,a=isString$1(e)?e.includes(".")?createPathGetter(n,e):()=>n[e]:e.bind(n,n);let o;isFunction(r)?o=r:(o=r.handler,t=r);const s=currentInstance;setCurrentInstance(this);const l=doWatch(a,o.bind(n),t);return s?setCurrentInstance(s):unsetCurrentInstance(),l}function createPathGetter(e,r){const t=r.split(".");return()=>{let n=e;for(let a=0;a<t.length&&n;a++)n=n[t[a]];return n}}function traverse(e,r){if(!isObject$l(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),isRef(e))traverse(e.value,r);else if(isArray$e(e))for(let t=0;t<e.length;t++)traverse(e[t],r);else if(isSet(e)||isMap(e))e.forEach(t=>{traverse(t,r)});else if(isPlainObject(e))for(const t in e)traverse(e[t],r);return e}function defineComponent(e){return isFunction(e)?{setup:e,name:e.name}:e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,r){registerKeepAliveHook(e,"a",r)}function onDeactivated(e,r){registerKeepAliveHook(e,"da",r)}function registerKeepAliveHook(e,r,t=currentInstance){const n=e.__wdc||(e.__wdc=()=>{let a=t;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(injectHook(r,n,t),t){let a=t.parent;for(;a&&a.parent;)isKeepAlive(a.parent.vnode)&&injectToKeepAliveRoot(n,r,t,a),a=a.parent}}function injectToKeepAliveRoot(e,r,t,n){const a=injectHook(r,e,n,!0);onUnmounted(()=>{remove$1(n[r],a)},t)}function injectHook(e,r,t=currentInstance,n=!1){if(t){const a=t[e]||(t[e]=[]),o=r.__weh||(r.__weh=(...s)=>{if(t.isUnmounted)return;pauseTracking(),setCurrentInstance(t);const l=callWithAsyncErrorHandling(r,t,e,s);return unsetCurrentInstance(),resetTracking(),l});return n?a.unshift(o):a.push(o),o}}const createHook=e=>(r,t=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,r,t),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,r=currentInstance){injectHook("ec",e,r)}let shouldCacheAccess=!0;function applyOptions(e){const r=resolveMergedOptions(e),t=e.proxy,n=e.ctx;shouldCacheAccess=!1,r.beforeCreate&&callHook(r.beforeCreate,e,"bc");const{data:a,computed:o,methods:s,watch:l,provide:u,inject:f,created:d,beforeMount:v,mounted:g,beforeUpdate:m,updated:b,activated:E,deactivated:w,beforeDestroy:_,beforeUnmount:O,destroyed:S,unmounted:T,render:I,renderTracked:k,renderTriggered:N,errorCaptured:R,serverPrefetch:C,expose:A,inheritAttrs:F,components:D,directives:B,filters:Z}=r;if(f&&resolveInjections(f,n,null,e.appContext.config.unwrapInjectedRef),s)for(const ee in s){const j=s[ee];isFunction(j)&&(n[ee]=j.bind(t))}if(a){const ee=a.call(t,t);isObject$l(ee)&&(e.data=reactive(ee))}if(shouldCacheAccess=!0,o)for(const ee in o){const j=o[ee],L=isFunction(j)?j.bind(t,t):isFunction(j.get)?j.get.bind(t,t):NOOP,G=!isFunction(j)&&isFunction(j.set)?j.set.bind(t):NOOP,Q=computed({get:L,set:G});Object.defineProperty(n,ee,{enumerable:!0,configurable:!0,get:()=>Q.value,set:Y=>Q.value=Y})}if(l)for(const ee in l)createWatcher(l[ee],n,t,ee);if(u){const ee=isFunction(u)?u.call(t):u;Reflect.ownKeys(ee).forEach(j=>{provide(j,ee[j])})}d&&callHook(d,e,"c");function te(ee,j){isArray$e(j)?j.forEach(L=>ee(L.bind(t))):j&&ee(j.bind(t))}if(te(onBeforeMount,v),te(onMounted,g),te(onBeforeUpdate,m),te(onUpdated,b),te(onActivated,E),te(onDeactivated,w),te(onErrorCaptured,R),te(onRenderTracked,k),te(onRenderTriggered,N),te(onBeforeUnmount,O),te(onUnmounted,T),te(onServerPrefetch,C),isArray$e(A))if(A.length){const ee=e.exposed||(e.exposed={});A.forEach(j=>{Object.defineProperty(ee,j,{get:()=>t[j],set:L=>t[j]=L})})}else e.exposed||(e.exposed={});I&&e.render===NOOP&&(e.render=I),F!=null&&(e.inheritAttrs=F),D&&(e.components=D),B&&(e.directives=B)}function resolveInjections(e,r,t=NOOP,n=!1){isArray$e(e)&&(e=normalizeInject(e));for(const a in e){const o=e[a];let s;isObject$l(o)?"default"in o?s=inject(o.from||a,o.default,!0):s=inject(o.from||a):s=inject(o),isRef(s)&&n?Object.defineProperty(r,a,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):r[a]=s}}function callHook(e,r,t){callWithAsyncErrorHandling(isArray$e(e)?e.map(n=>n.bind(r.proxy)):e.bind(r.proxy),r,t)}function createWatcher(e,r,t,n){const a=n.includes(".")?createPathGetter(t,n):()=>t[n];if(isString$1(e)){const o=r[e];isFunction(o)&&watch(a,o)}else if(isFunction(e))watch(a,e.bind(t));else if(isObject$l(e))if(isArray$e(e))e.forEach(o=>createWatcher(o,r,t,n));else{const o=isFunction(e.handler)?e.handler.bind(t):r[e.handler];isFunction(o)&&watch(a,o,e)}}function resolveMergedOptions(e){const r=e.type,{mixins:t,extends:n}=r,{mixins:a,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,l=o.get(r);let u;return l?u=l:!a.length&&!t&&!n?u=r:(u={},a.length&&a.forEach(f=>mergeOptions$1(u,f,s,!0)),mergeOptions$1(u,r,s)),o.set(r,u),u}function mergeOptions$1(e,r,t,n=!1){const{mixins:a,extends:o}=r;o&&mergeOptions$1(e,o,t,!0),a&&a.forEach(s=>mergeOptions$1(e,s,t,!0));for(const s in r)if(!(n&&s==="expose")){const l=internalOptionMergeStrats[s]||t&&t[s];e[s]=l?l(e[s],r[s]):r[s]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,r){return r?e?function(){return extend$3(isFunction(e)?e.call(this,this):e,isFunction(r)?r.call(this,this):r)}:r:e}function mergeInject(e,r){return mergeObjectOptions(normalizeInject(e),normalizeInject(r))}function normalizeInject(e){if(isArray$e(e)){const r={};for(let t=0;t<e.length;t++)r[e[t]]=e[t];return r}return e}function mergeAsArray(e,r){return e?[...new Set([].concat(e,r))]:r}function mergeObjectOptions(e,r){return e?extend$3(extend$3(Object.create(null),e),r):r}function mergeWatchOptions(e,r){if(!e)return r;if(!r)return e;const t=extend$3(Object.create(null),e);for(const n in r)t[n]=mergeAsArray(e[n],r[n]);return t}function initProps(e,r,t,n=!1){const a={},o={};def(o,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,r,a,o);for(const s in e.propsOptions[0])s in a||(a[s]=void 0);t?e.props=n?a:shallowReactive(a):e.type.props?e.props=a:e.props=o,e.attrs=o}function updateProps(e,r,t,n){const{props:a,attrs:o,vnode:{patchFlag:s}}=e,l=toRaw(a),[u]=e.propsOptions;let f=!1;if((n||s>0)&&!(s&16)){if(s&8){const d=e.vnode.dynamicProps;for(let v=0;v<d.length;v++){let g=d[v];const m=r[g];if(u)if(hasOwn(o,g))m!==o[g]&&(o[g]=m,f=!0);else{const b=camelize(g);a[b]=resolvePropValue(u,l,b,m,e,!1)}else m!==o[g]&&(o[g]=m,f=!0)}}}else{setFullProps(e,r,a,o)&&(f=!0);let d;for(const v in l)(!r||!hasOwn(r,v)&&((d=hyphenate(v))===v||!hasOwn(r,d)))&&(u?t&&(t[v]!==void 0||t[d]!==void 0)&&(a[v]=resolvePropValue(u,l,v,void 0,e,!0)):delete a[v]);if(o!==l)for(const v in o)(!r||!hasOwn(r,v)&&!0)&&(delete o[v],f=!0)}f&&trigger$1(e,"set","$attrs")}function setFullProps(e,r,t,n){const[a,o]=e.propsOptions;let s=!1,l;if(r)for(let u in r){if(isReservedProp(u))continue;const f=r[u];let d;a&&hasOwn(a,d=camelize(u))?!o||!o.includes(d)?t[d]=f:(l||(l={}))[d]=f:isEmitListener(e.emitsOptions,u)||(!(u in n)||f!==n[u])&&(n[u]=f,s=!0)}if(o){const u=toRaw(t),f=l||EMPTY_OBJ;for(let d=0;d<o.length;d++){const v=o[d];t[v]=resolvePropValue(a,u,v,f[v],e,!hasOwn(f,v))}}return s}function resolvePropValue(e,r,t,n,a,o){const s=e[t];if(s!=null){const l=hasOwn(s,"default");if(l&&n===void 0){const u=s.default;if(s.type!==Function&&isFunction(u)){const{propsDefaults:f}=a;t in f?n=f[t]:(setCurrentInstance(a),n=f[t]=u.call(null,r),unsetCurrentInstance())}else n=u}s[0]&&(o&&!l?n=!1:s[1]&&(n===""||n===hyphenate(t))&&(n=!0))}return n}function normalizePropsOptions(e,r,t=!1){const n=r.propsCache,a=n.get(e);if(a)return a;const o=e.props,s={},l=[];let u=!1;if(!isFunction(e)){const d=v=>{u=!0;const[g,m]=normalizePropsOptions(v,r,!0);extend$3(s,g),m&&l.push(...m)};!t&&r.mixins.length&&r.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!u)return n.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$e(o))for(let d=0;d<o.length;d++){const v=camelize(o[d]);validatePropName(v)&&(s[v]=EMPTY_OBJ)}else if(o)for(const d in o){const v=camelize(d);if(validatePropName(v)){const g=o[d],m=s[v]=isArray$e(g)||isFunction(g)?{type:g}:g;if(m){const b=getTypeIndex(Boolean,m.type),E=getTypeIndex(String,m.type);m[0]=b>-1,m[1]=E<0||b<E,(b>-1||hasOwn(m,"default"))&&l.push(v)}}}const f=[s,l];return n.set(e,f),f}function validatePropName(e){return e[0]!=="$"}function getType(e){const r=e&&e.toString().match(/^\s*function (\w+)/);return r?r[1]:e===null?"null":""}function isSameType(e,r){return getType(e)===getType(r)}function getTypeIndex(e,r){return isArray$e(r)?r.findIndex(t=>isSameType(t,e)):isFunction(r)&&isSameType(r,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$e(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,r,t)=>{const n=withCtx((...a)=>normalizeSlotValue(r(...a)),t);return n._c=!1,n},normalizeObjectSlots=(e,r,t)=>{const n=e._ctx;for(const a in e){if(isInternalKey(a))continue;const o=e[a];if(isFunction(o))r[a]=normalizeSlot(a,o,n);else if(o!=null){const s=normalizeSlotValue(o);r[a]=()=>s}}},normalizeVNodeSlots=(e,r)=>{const t=normalizeSlotValue(r);e.slots.default=()=>t},initSlots=(e,r)=>{if(e.vnode.shapeFlag&32){const t=r._;t?(e.slots=toRaw(r),def(r,"_",t)):normalizeObjectSlots(r,e.slots={})}else e.slots={},r&&normalizeVNodeSlots(e,r);def(e.slots,InternalObjectKey,1)},updateSlots=(e,r,t)=>{const{vnode:n,slots:a}=e;let o=!0,s=EMPTY_OBJ;if(n.shapeFlag&32){const l=r._;l?t&&l===1?o=!1:(extend$3(a,r),!t&&l===1&&delete a._):(o=!r.$stable,normalizeObjectSlots(r,a)),s=r}else r&&(normalizeVNodeSlots(e,r),s={default:1});if(o)for(const l in a)!isInternalKey(l)&&!(l in s)&&delete a[l]};function withDirectives(e,r){const t=currentRenderingInstance;if(t===null)return e;const n=t.proxy,a=e.dirs||(e.dirs=[]);for(let o=0;o<r.length;o++){let[s,l,u,f=EMPTY_OBJ]=r[o];isFunction(s)&&(s={mounted:s,updated:s}),s.deep&&traverse(l),a.push({dir:s,instance:n,value:l,oldValue:void 0,arg:u,modifiers:f})}return e}function invokeDirectiveHook(e,r,t,n){const a=e.dirs,o=r&&r.dirs;for(let s=0;s<a.length;s++){const l=a[s];o&&(l.oldValue=o[s].value);let u=l.dir[n];u&&(pauseTracking(),callWithAsyncErrorHandling(u,t,8,[e.el,l,e,r]),resetTracking())}}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$6=0;function createAppAPI(e,r){return function(n,a=null){a!=null&&!isObject$l(a)&&(a=null);const o=createAppContext(),s=new Set;let l=!1;const u=o.app={_uid:uid$6++,_component:n,_props:a,_container:null,_context:o,_instance:null,version:version$2,get config(){return o.config},set config(f){},use(f,...d){return s.has(f)||(f&&isFunction(f.install)?(s.add(f),f.install(u,...d)):isFunction(f)&&(s.add(f),f(u,...d))),u},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),u},component(f,d){return d?(o.components[f]=d,u):o.components[f]},directive(f,d){return d?(o.directives[f]=d,u):o.directives[f]},mount(f,d,v){if(!l){const g=createVNode(n,a);return g.appContext=o,d&&r?r(g,f):e(g,f,v),l=!0,u._container=f,f.__vue_app__=u,getExposeProxy(g.component)||g.component.proxy}},unmount(){l&&(e(null,u._container),delete u._container.__vue_app__)},provide(f,d){return o.provides[f]=d,u}};return u}}function setRef(e,r,t,n,a=!1){if(isArray$e(e)){e.forEach((g,m)=>setRef(g,r&&(isArray$e(r)?r[m]:r),t,n,a));return}if(isAsyncWrapper(n)&&!a)return;const o=n.shapeFlag&4?getExposeProxy(n.component)||n.component.proxy:n.el,s=a?null:o,{i:l,r:u}=e,f=r&&r.r,d=l.refs===EMPTY_OBJ?l.refs={}:l.refs,v=l.setupState;if(f!=null&&f!==u&&(isString$1(f)?(d[f]=null,hasOwn(v,f)&&(v[f]=null)):isRef(f)&&(f.value=null)),isFunction(u))callWithErrorHandling(u,l,12,[s,d]);else{const g=isString$1(u),m=isRef(u);if(g||m){const b=()=>{if(e.f){const E=g?d[u]:u.value;a?isArray$e(E)&&remove$1(E,o):isArray$e(E)?E.includes(o)||E.push(o):g?d[u]=[o]:(u.value=[o],e.k&&(d[e.k]=u.value))}else g?(d[u]=s,hasOwn(v,u)&&(v[u]=s)):isRef(u)&&(u.value=s,e.k&&(d[e.k]=s))};s?(b.id=-1,queuePostRenderEffect(b,t)):b()}}}let hasMismatch=!1;const isSVGContainer=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",isComment=e=>e.nodeType===8;function createHydrationFunctions(e){const{mt:r,p:t,o:{patchProp:n,nextSibling:a,parentNode:o,remove:s,insert:l,createComment:u}}=e,f=(w,_)=>{if(!_.hasChildNodes()){t(null,w,_),flushPostFlushCbs();return}hasMismatch=!1,d(_.firstChild,w,null,null,null),flushPostFlushCbs(),hasMismatch&&console.error("Hydration completed but contains mismatches.")},d=(w,_,O,S,T,I=!1)=>{const k=isComment(w)&&w.data==="[",N=()=>b(w,_,O,S,T,k),{type:R,ref:C,shapeFlag:A}=_,F=w.nodeType;_.el=w;let D=null;switch(R){case Text$1:F!==3?D=N():(w.data!==_.children&&(hasMismatch=!0,w.data=_.children),D=a(w));break;case Comment:F!==8||k?D=N():D=a(w);break;case Static:if(F!==1)D=N();else{D=w;const B=!_.children.length;for(let Z=0;Z<_.staticCount;Z++)B&&(_.children+=D.outerHTML),Z===_.staticCount-1&&(_.anchor=D),D=a(D);return D}break;case Fragment:k?D=m(w,_,O,S,T,I):D=N();break;default:if(A&1)F!==1||_.type.toLowerCase()!==w.tagName.toLowerCase()?D=N():D=v(w,_,O,S,T,I);else if(A&6){_.slotScopeIds=T;const B=o(w);if(r(_,B,null,O,S,isSVGContainer(B),I),D=k?E(w):a(w),isAsyncWrapper(_)){let Z;k?(Z=createVNode(Fragment),Z.anchor=D?D.previousSibling:B.lastChild):Z=w.nodeType===3?createTextVNode(""):createVNode("div"),Z.el=w,_.component.subTree=Z}}else A&64?F!==8?D=N():D=_.type.hydrate(w,_,O,S,T,I,e,g):A&128&&(D=_.type.hydrate(w,_,O,S,isSVGContainer(o(w)),T,I,e,d))}return C!=null&&setRef(C,null,S,_),D},v=(w,_,O,S,T,I)=>{I=I||!!_.dynamicChildren;const{type:k,props:N,patchFlag:R,shapeFlag:C,dirs:A}=_,F=k==="input"&&A||k==="option";if(F||R!==-1){if(A&&invokeDirectiveHook(_,null,O,"created"),N)if(F||!I||R&(16|32))for(const B in N)(F&&B.endsWith("value")||isOn(B)&&!isReservedProp(B))&&n(w,B,null,N[B],!1,void 0,O);else N.onClick&&n(w,"onClick",null,N.onClick,!1,void 0,O);let D;if((D=N&&N.onVnodeBeforeMount)&&invokeVNodeHook(D,O,_),A&&invokeDirectiveHook(_,null,O,"beforeMount"),((D=N&&N.onVnodeMounted)||A)&&queueEffectWithSuspense(()=>{D&&invokeVNodeHook(D,O,_),A&&invokeDirectiveHook(_,null,O,"mounted")},S),C&16&&!(N&&(N.innerHTML||N.textContent))){let B=g(w.firstChild,_,w,O,S,T,I);for(;B;){hasMismatch=!0;const Z=B;B=B.nextSibling,s(Z)}}else C&8&&w.textContent!==_.children&&(hasMismatch=!0,w.textContent=_.children)}return w.nextSibling},g=(w,_,O,S,T,I,k)=>{k=k||!!_.dynamicChildren;const N=_.children,R=N.length;for(let C=0;C<R;C++){const A=k?N[C]:N[C]=normalizeVNode(N[C]);if(w)w=d(w,A,S,T,I,k);else{if(A.type===Text$1&&!A.children)continue;hasMismatch=!0,t(null,A,O,null,S,T,isSVGContainer(O),I)}}return w},m=(w,_,O,S,T,I)=>{const{slotScopeIds:k}=_;k&&(T=T?T.concat(k):k);const N=o(w),R=g(a(w),_,N,O,S,T,I);return R&&isComment(R)&&R.data==="]"?a(_.anchor=R):(hasMismatch=!0,l(_.anchor=u("]"),N,R),R)},b=(w,_,O,S,T,I)=>{if(hasMismatch=!0,_.el=null,I){const R=E(w);for(;;){const C=a(w);if(C&&C!==R)s(C);else break}}const k=a(w),N=o(w);return s(w),t(null,_,N,k,O,S,isSVGContainer(N),T),k},E=w=>{let _=0;for(;w;)if(w=a(w),w&&isComment(w)&&(w.data==="["&&_++,w.data==="]")){if(_===0)return a(w);_--}return w};return[f,d]}const queuePostRenderEffect=queueEffectWithSuspense;function createHydrationRenderer(e){return baseCreateRenderer(e,createHydrationFunctions)}function baseCreateRenderer(e,r){const t=getGlobalThis();t.__VUE__=!0;const{insert:n,remove:a,patchProp:o,createElement:s,createText:l,createComment:u,setText:f,setElementText:d,parentNode:v,nextSibling:g,setScopeId:m=NOOP,cloneNode:b,insertStaticContent:E}=e,w=(P,M,z,V=null,H=null,q=null,J=!1,W=null,X=!!M.dynamicChildren)=>{if(P===M)return;P&&!isSameVNodeType(P,M)&&(V=ve(P),se(P,H,q,!0),P=null),M.patchFlag===-2&&(X=!1,M.dynamicChildren=null);const{type:U,ref:ae,shapeFlag:ne}=M;switch(U){case Text$1:_(P,M,z,V);break;case Comment:O(P,M,z,V);break;case Static:P==null&&S(M,z,V,J);break;case Fragment:B(P,M,z,V,H,q,J,W,X);break;default:ne&1?k(P,M,z,V,H,q,J,W,X):ne&6?Z(P,M,z,V,H,q,J,W,X):(ne&64||ne&128)&&U.process(P,M,z,V,H,q,J,W,X,me)}ae!=null&&H&&setRef(ae,P&&P.ref,q,M||P,!M)},_=(P,M,z,V)=>{if(P==null)n(M.el=l(M.children),z,V);else{const H=M.el=P.el;M.children!==P.children&&f(H,M.children)}},O=(P,M,z,V)=>{P==null?n(M.el=u(M.children||""),z,V):M.el=P.el},S=(P,M,z,V)=>{[P.el,P.anchor]=E(P.children,M,z,V,P.el,P.anchor)},T=({el:P,anchor:M},z,V)=>{let H;for(;P&&P!==M;)H=g(P),n(P,z,V),P=H;n(M,z,V)},I=({el:P,anchor:M})=>{let z;for(;P&&P!==M;)z=g(P),a(P),P=z;a(M)},k=(P,M,z,V,H,q,J,W,X)=>{J=J||M.type==="svg",P==null?N(M,z,V,H,q,J,W,X):A(P,M,H,q,J,W,X)},N=(P,M,z,V,H,q,J,W)=>{let X,U;const{type:ae,props:ne,shapeFlag:oe,transition:ue,patchFlag:he,dirs:ge}=P;if(P.el&&b!==void 0&&he===-1)X=P.el=b(P.el);else{if(X=P.el=s(P.type,q,ne&&ne.is,ne),oe&8?d(X,P.children):oe&16&&C(P.children,X,null,V,H,q&&ae!=="foreignObject",J,W),ge&&invokeDirectiveHook(P,null,V,"created"),ne){for(const $e in ne)$e!=="value"&&!isReservedProp($e)&&o(X,$e,null,ne[$e],q,P.children,V,H,ce);"value"in ne&&o(X,"value",null,ne.value),(U=ne.onVnodeBeforeMount)&&invokeVNodeHook(U,V,P)}R(X,P,P.scopeId,J,V)}ge&&invokeDirectiveHook(P,null,V,"beforeMount");const pe=(!H||H&&!H.pendingBranch)&&ue&&!ue.persisted;pe&&ue.beforeEnter(X),n(X,M,z),((U=ne&&ne.onVnodeMounted)||pe||ge)&&queuePostRenderEffect(()=>{U&&invokeVNodeHook(U,V,P),pe&&ue.enter(X),ge&&invokeDirectiveHook(P,null,V,"mounted")},H)},R=(P,M,z,V,H)=>{if(z&&m(P,z),V)for(let q=0;q<V.length;q++)m(P,V[q]);if(H){let q=H.subTree;if(M===q){const J=H.vnode;R(P,J,J.scopeId,J.slotScopeIds,H.parent)}}},C=(P,M,z,V,H,q,J,W,X=0)=>{for(let U=X;U<P.length;U++){const ae=P[U]=W?cloneIfMounted(P[U]):normalizeVNode(P[U]);w(null,ae,M,z,V,H,q,J,W)}},A=(P,M,z,V,H,q,J)=>{const W=M.el=P.el;let{patchFlag:X,dynamicChildren:U,dirs:ae}=M;X|=P.patchFlag&16;const ne=P.props||EMPTY_OBJ,oe=M.props||EMPTY_OBJ;let ue;z&&toggleRecurse(z,!1),(ue=oe.onVnodeBeforeUpdate)&&invokeVNodeHook(ue,z,M,P),ae&&invokeDirectiveHook(M,P,z,"beforeUpdate"),z&&toggleRecurse(z,!0);const he=H&&M.type!=="foreignObject";if(U?F(P.dynamicChildren,U,W,z,V,he,q):J||L(P,M,W,null,z,V,he,q,!1),X>0){if(X&16)D(W,M,ne,oe,z,V,H);else if(X&2&&ne.class!==oe.class&&o(W,"class",null,oe.class,H),X&4&&o(W,"style",ne.style,oe.style,H),X&8){const ge=M.dynamicProps;for(let pe=0;pe<ge.length;pe++){const $e=ge[pe],we=ne[$e],Se=oe[$e];(Se!==we||$e==="value")&&o(W,$e,we,Se,H,P.children,z,V,ce)}}X&1&&P.children!==M.children&&d(W,M.children)}else!J&&U==null&&D(W,M,ne,oe,z,V,H);((ue=oe.onVnodeUpdated)||ae)&&queuePostRenderEffect(()=>{ue&&invokeVNodeHook(ue,z,M,P),ae&&invokeDirectiveHook(M,P,z,"updated")},V)},F=(P,M,z,V,H,q,J)=>{for(let W=0;W<M.length;W++){const X=P[W],U=M[W],ae=X.el&&(X.type===Fragment||!isSameVNodeType(X,U)||X.shapeFlag&(6|64))?v(X.el):z;w(X,U,ae,null,V,H,q,J,!0)}},D=(P,M,z,V,H,q,J)=>{if(z!==V){for(const W in V){if(isReservedProp(W))continue;const X=V[W],U=z[W];X!==U&&W!=="value"&&o(P,W,U,X,J,M.children,H,q,ce)}if(z!==EMPTY_OBJ)for(const W in z)!isReservedProp(W)&&!(W in V)&&o(P,W,z[W],null,J,M.children,H,q,ce);"value"in V&&o(P,"value",z.value,V.value)}},B=(P,M,z,V,H,q,J,W,X)=>{const U=M.el=P?P.el:l(""),ae=M.anchor=P?P.anchor:l("");let{patchFlag:ne,dynamicChildren:oe,slotScopeIds:ue}=M;ue&&(W=W?W.concat(ue):ue),P==null?(n(U,z,V),n(ae,z,V),C(M.children,z,ae,H,q,J,W,X)):ne>0&&ne&64&&oe&&P.dynamicChildren?(F(P.dynamicChildren,oe,z,H,q,J,W),(M.key!=null||H&&M===H.subTree)&&traverseStaticChildren(P,M,!0)):L(P,M,z,ae,H,q,J,W,X)},Z=(P,M,z,V,H,q,J,W,X)=>{M.slotScopeIds=W,P==null?M.shapeFlag&512?H.ctx.activate(M,z,V,J,X):ie(M,z,V,H,q,J,X):te(P,M,X)},ie=(P,M,z,V,H,q,J)=>{const W=P.component=createComponentInstance(P,V,H);if(isKeepAlive(P)&&(W.ctx.renderer=me),setupComponent(W),W.asyncDep){if(H&&H.registerDep(W,ee),!P.el){const X=W.subTree=createVNode(Comment);O(null,X,M,z)}return}ee(W,P,M,z,H,q,J)},te=(P,M,z)=>{const V=M.component=P.component;if(shouldUpdateComponent(P,M,z))if(V.asyncDep&&!V.asyncResolved){j(V,M,z);return}else V.next=M,invalidateJob(V.update),V.update();else M.component=P.component,M.el=P.el,V.vnode=M},ee=(P,M,z,V,H,q,J)=>{const W=()=>{if(P.isMounted){let{next:ae,bu:ne,u:oe,parent:ue,vnode:he}=P,ge=ae,pe;toggleRecurse(P,!1),ae?(ae.el=he.el,j(P,ae,J)):ae=he,ne&&invokeArrayFns(ne),(pe=ae.props&&ae.props.onVnodeBeforeUpdate)&&invokeVNodeHook(pe,ue,ae,he),toggleRecurse(P,!0);const $e=renderComponentRoot(P),we=P.subTree;P.subTree=$e,w(we,$e,v(we.el),ve(we),P,H,q),ae.el=$e.el,ge===null&&updateHOCHostEl(P,$e.el),oe&&queuePostRenderEffect(oe,H),(pe=ae.props&&ae.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(pe,ue,ae,he),H)}else{let ae;const{el:ne,props:oe}=M,{bm:ue,m:he,parent:ge}=P,pe=isAsyncWrapper(M);if(toggleRecurse(P,!1),ue&&invokeArrayFns(ue),!pe&&(ae=oe&&oe.onVnodeBeforeMount)&&invokeVNodeHook(ae,ge,M),toggleRecurse(P,!0),ne&&Ie){const $e=()=>{P.subTree=renderComponentRoot(P),Ie(ne,P.subTree,P,H,null)};pe?M.type.__asyncLoader().then(()=>!P.isUnmounted&&$e()):$e()}else{const $e=P.subTree=renderComponentRoot(P);w(null,$e,z,V,P,H,q),M.el=$e.el}if(he&&queuePostRenderEffect(he,H),!pe&&(ae=oe&&oe.onVnodeMounted)){const $e=M;queuePostRenderEffect(()=>invokeVNodeHook(ae,ge,$e),H)}M.shapeFlag&256&&P.a&&queuePostRenderEffect(P.a,H),P.isMounted=!0,M=z=V=null}},X=P.effect=new ReactiveEffect(W,()=>queueJob(P.update),P.scope),U=P.update=X.run.bind(X);U.id=P.uid,toggleRecurse(P,!0),U()},j=(P,M,z)=>{M.component=P;const V=P.vnode.props;P.vnode=M,P.next=null,updateProps(P,M.props,V,z),updateSlots(P,M.children,z),pauseTracking(),flushPreFlushCbs(void 0,P.update),resetTracking()},L=(P,M,z,V,H,q,J,W,X=!1)=>{const U=P&&P.children,ae=P?P.shapeFlag:0,ne=M.children,{patchFlag:oe,shapeFlag:ue}=M;if(oe>0){if(oe&128){Q(U,ne,z,V,H,q,J,W,X);return}else if(oe&256){G(U,ne,z,V,H,q,J,W,X);return}}ue&8?(ae&16&&ce(U,H,q),ne!==U&&d(z,ne)):ae&16?ue&16?Q(U,ne,z,V,H,q,J,W,X):ce(U,H,q,!0):(ae&8&&d(z,""),ue&16&&C(ne,z,V,H,q,J,W,X))},G=(P,M,z,V,H,q,J,W,X)=>{P=P||EMPTY_ARR,M=M||EMPTY_ARR;const U=P.length,ae=M.length,ne=Math.min(U,ae);let oe;for(oe=0;oe<ne;oe++){const ue=M[oe]=X?cloneIfMounted(M[oe]):normalizeVNode(M[oe]);w(P[oe],ue,z,null,H,q,J,W,X)}U>ae?ce(P,H,q,!0,!1,ne):C(M,z,V,H,q,J,W,X,ne)},Q=(P,M,z,V,H,q,J,W,X)=>{let U=0;const ae=M.length;let ne=P.length-1,oe=ae-1;for(;U<=ne&&U<=oe;){const ue=P[U],he=M[U]=X?cloneIfMounted(M[U]):normalizeVNode(M[U]);if(isSameVNodeType(ue,he))w(ue,he,z,null,H,q,J,W,X);else break;U++}for(;U<=ne&&U<=oe;){const ue=P[ne],he=M[oe]=X?cloneIfMounted(M[oe]):normalizeVNode(M[oe]);if(isSameVNodeType(ue,he))w(ue,he,z,null,H,q,J,W,X);else break;ne--,oe--}if(U>ne){if(U<=oe){const ue=oe+1,he=ue<ae?M[ue].el:V;for(;U<=oe;)w(null,M[U]=X?cloneIfMounted(M[U]):normalizeVNode(M[U]),z,he,H,q,J,W,X),U++}}else if(U>oe)for(;U<=ne;)se(P[U],H,q,!0),U++;else{const ue=U,he=U,ge=new Map;for(U=he;U<=oe;U++){const _e=M[U]=X?cloneIfMounted(M[U]):normalizeVNode(M[U]);_e.key!=null&&ge.set(_e.key,U)}let pe,$e=0;const we=oe-he+1;let Se=!1,Pe=0;const Te=new Array(we);for(U=0;U<we;U++)Te[U]=0;for(U=ue;U<=ne;U++){const _e=P[U];if($e>=we){se(_e,H,q,!0);continue}let Ee;if(_e.key!=null)Ee=ge.get(_e.key);else for(pe=he;pe<=oe;pe++)if(Te[pe-he]===0&&isSameVNodeType(_e,M[pe])){Ee=pe;break}Ee===void 0?se(_e,H,q,!0):(Te[Ee-he]=U+1,Ee>=Pe?Pe=Ee:Se=!0,w(_e,M[Ee],z,null,H,q,J,W,X),$e++)}const Ce=Se?getSequence(Te):EMPTY_ARR;for(pe=Ce.length-1,U=we-1;U>=0;U--){const _e=he+U,Ee=M[_e],Ae=_e+1<ae?M[_e+1].el:V;Te[U]===0?w(null,Ee,z,Ae,H,q,J,W,X):Se&&(pe<0||U!==Ce[pe]?Y(Ee,z,Ae,2):pe--)}}},Y=(P,M,z,V,H=null)=>{const{el:q,type:J,transition:W,children:X,shapeFlag:U}=P;if(U&6){Y(P.component.subTree,M,z,V);return}if(U&128){P.suspense.move(M,z,V);return}if(U&64){J.move(P,M,z,me);return}if(J===Fragment){n(q,M,z);for(let ne=0;ne<X.length;ne++)Y(X[ne],M,z,V);n(P.anchor,M,z);return}if(J===Static){T(P,M,z);return}if(V!==2&&U&1&&W)if(V===0)W.beforeEnter(q),n(q,M,z),queuePostRenderEffect(()=>W.enter(q),H);else{const{leave:ne,delayLeave:oe,afterLeave:ue}=W,he=()=>n(q,M,z),ge=()=>{ne(q,()=>{he(),ue&&ue()})};oe?oe(q,he,ge):ge()}else n(q,M,z)},se=(P,M,z,V=!1,H=!1)=>{const{type:q,props:J,ref:W,children:X,dynamicChildren:U,shapeFlag:ae,patchFlag:ne,dirs:oe}=P;if(W!=null&&setRef(W,null,z,P,!0),ae&256){M.ctx.deactivate(P);return}const ue=ae&1&&oe,he=!isAsyncWrapper(P);let ge;if(he&&(ge=J&&J.onVnodeBeforeUnmount)&&invokeVNodeHook(ge,M,P),ae&6)ye(P.component,z,V);else{if(ae&128){P.suspense.unmount(z,V);return}ue&&invokeDirectiveHook(P,null,M,"beforeUnmount"),ae&64?P.type.remove(P,M,z,H,me,V):U&&(q!==Fragment||ne>0&&ne&64)?ce(U,M,z,!1,!0):(q===Fragment&&ne&(128|256)||!H&&ae&16)&&ce(X,M,z),V&&le(P)}(he&&(ge=J&&J.onVnodeUnmounted)||ue)&&queuePostRenderEffect(()=>{ge&&invokeVNodeHook(ge,M,P),ue&&invokeDirectiveHook(P,null,M,"unmounted")},z)},le=P=>{const{type:M,el:z,anchor:V,transition:H}=P;if(M===Fragment){fe(z,V);return}if(M===Static){I(P);return}const q=()=>{a(z),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(P.shapeFlag&1&&H&&!H.persisted){const{leave:J,delayLeave:W}=H,X=()=>J(z,q);W?W(P.el,q,X):X()}else q()},fe=(P,M)=>{let z;for(;P!==M;)z=g(P),a(P),P=z;a(M)},ye=(P,M,z)=>{const{bum:V,scope:H,update:q,subTree:J,um:W}=P;V&&invokeArrayFns(V),H.stop(),q&&(q.active=!1,se(J,P,M,z)),W&&queuePostRenderEffect(W,M),queuePostRenderEffect(()=>{P.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},ce=(P,M,z,V=!1,H=!1,q=0)=>{for(let J=q;J<P.length;J++)se(P[J],M,z,V,H)},ve=P=>P.shapeFlag&6?ve(P.component.subTree):P.shapeFlag&128?P.suspense.next():g(P.anchor||P.el),be=(P,M,z)=>{P==null?M._vnode&&se(M._vnode,null,null,!0):w(M._vnode||null,P,M,null,null,null,z),flushPostFlushCbs(),M._vnode=P},me={p:w,um:se,m:Y,r:le,mt:ie,mc:C,pc:L,pbc:F,n:ve,o:e};let Oe,Ie;return r&&([Oe,Ie]=r(me)),{render:be,hydrate:Oe,createApp:createAppAPI(be,Oe)}}function toggleRecurse({effect:e,update:r},t){e.allowRecurse=r.allowRecurse=t}function traverseStaticChildren(e,r,t=!1){const n=e.children,a=r.children;if(isArray$e(n)&&isArray$e(a))for(let o=0;o<n.length;o++){const s=n[o];let l=a[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[o]=cloneIfMounted(a[o]),l.el=s.el),t||traverseStaticChildren(s,l))}}function getSequence(e){const r=e.slice(),t=[0];let n,a,o,s,l;const u=e.length;for(n=0;n<u;n++){const f=e[n];if(f!==0){if(a=t[t.length-1],e[a]<f){r[n]=a,t.push(n);continue}for(o=0,s=t.length-1;o<s;)l=o+s>>1,e[t[l]]<f?o=l+1:s=l;f<e[t[o]]&&(o>0&&(r[n]=t[o-1]),t[o]=n)}}for(o=t.length,s=t[o-1];o-- >0;)t[o]=s,s=r[s];return t}const isTeleport=e=>e.__isTeleport,COMPONENTS="components";function resolveComponent(e,r){return resolveAsset(COMPONENTS,e,!0,r)||e}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(e,r,t=!0,n=!1){const a=currentRenderingInstance||currentInstance;if(a){const o=a.type;if(e===COMPONENTS){const l=getComponentName(o);if(l&&(l===r||l===camelize(r)||l===capitalize(camelize(r))))return o}const s=resolve(a[e]||o[e],r)||resolve(a.appContext[e],r);return!s&&n?o:s}}function resolve(e,r){return e&&(e[r]||e[camelize(r)]||e[capitalize(camelize(r))])}const Fragment=Symbol(void 0),Text$1=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,r,t,n,a,o){return setupBlock(createBaseVNode(e,r,t,n,a,o,!0))}function createBlock(e,r,t,n,a){return setupBlock(createVNode(e,r,t,n,a,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,r){return e.type===r.type&&e.key===r.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:r,ref_for:t})=>e!=null?isString$1(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:r,f:!!t}:e:null;function createBaseVNode(e,r=null,t=null,n=0,a=null,o=e===Fragment?0:1,s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:r,key:r&&normalizeKey(r),ref:r&&normalizeRef(r),scopeId:currentScopeId,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null};return l?(normalizeChildren(u,t),o&128&&e.normalize(u)):t&&(u.shapeFlag|=isString$1(t)?8:16),isBlockTreeEnabled>0&&!s&&currentBlock&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&currentBlock.push(u),u}const createVNode=_createVNode;function _createVNode(e,r=null,t=null,n=0,a=null,o=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const l=cloneVNode(e,r,!0);return t&&normalizeChildren(l,t),l}if(isClassComponent(e)&&(e=e.__vccOpts),r){r=guardReactiveProps(r);let{class:l,style:u}=r;l&&!isString$1(l)&&(r.class=normalizeClass(l)),isObject$l(u)&&(isProxy(u)&&!isArray$e(u)&&(u=extend$3({},u)),r.style=normalizeStyle(u))}const s=isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$l(e)?4:isFunction(e)?2:0;return createBaseVNode(e,r,t,n,a,s,o,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend$3({},e):e:null}function cloneVNode(e,r,t=!1){const{props:n,ref:a,patchFlag:o,children:s}=e,l=r?mergeProps(n||{},r):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&normalizeKey(l),ref:r&&r.ref?t&&a?isArray$e(a)?a.concat(normalizeRef(r)):[a,normalizeRef(r)]:normalizeRef(r):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:r&&e.type!==Fragment?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor}}function createTextVNode(e=" ",r=0){return createVNode(Text$1,null,e,r)}function createCommentVNode(e="",r=!1){return r?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$e(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text$1,null,String(e))}function cloneIfMounted(e){return e.el===null||e.memo?e:cloneVNode(e)}function normalizeChildren(e,r){let t=0;const{shapeFlag:n}=e;if(r==null)r=null;else if(isArray$e(r))t=16;else if(typeof r=="object")if(n&(1|64)){const a=r.default;a&&(a._c&&(a._d=!1),normalizeChildren(e,a()),a._c&&(a._d=!0));return}else{t=32;const a=r._;!a&&!(InternalObjectKey in r)?r._ctx=currentRenderingInstance:a===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?r._=1:(r._=2,e.patchFlag|=1024))}else isFunction(r)?(r={default:r,_ctx:currentRenderingInstance},t=32):(r=String(r),n&64?(t=16,r=[createTextVNode(r)]):t=8);e.children=r,e.shapeFlag|=t}function mergeProps(...e){const r={};for(let t=0;t<e.length;t++){const n=e[t];for(const a in n)if(a==="class")r.class!==n.class&&(r.class=normalizeClass([r.class,n.class]));else if(a==="style")r.style=normalizeStyle([r.style,n.style]);else if(isOn(a)){const o=r[a],s=n[a];s&&o!==s&&!(isArray$e(o)&&o.includes(s))&&(r[a]=o?[].concat(o,s):s)}else a!==""&&(r[a]=n[a])}return r}function invokeVNodeHook(e,r,t,n=null){callWithAsyncErrorHandling(e,r,7,[t,n])}function renderList(e,r,t,n){let a;const o=t&&t[n];if(isArray$e(e)||isString$1(e)){a=new Array(e.length);for(let s=0,l=e.length;s<l;s++)a[s]=r(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){a=new Array(e);for(let s=0;s<e;s++)a[s]=r(s+1,s,void 0,o&&o[s])}else if(isObject$l(e))if(e[Symbol.iterator])a=Array.from(e,(s,l)=>r(s,l,void 0,o&&o[l]));else{const s=Object.keys(e);a=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const f=s[l];a[l]=r(e[f],f,l,o&&o[l])}}else a=[];return t&&(t[n]=a),a}function renderSlot(e,r,t={},n,a){if(currentRenderingInstance.isCE)return createVNode("slot",r==="default"?null:{name:r},n&&n());let o=e[r];o&&o._c&&(o._d=!1),openBlock();const s=o&&ensureValidVNode(o(t)),l=createBlock(Fragment,{key:t.key||`_${r}`},s||(n?n():[]),s&&e._===1?64:-2);return!a&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function ensureValidVNode(e){return e.some(r=>isVNode(r)?!(r.type===Comment||r.type===Fragment&&!ensureValidVNode(r.children)):!0)?e:null}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend$3(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>()=>queueJob(e.update),$nextTick:e=>nextTick.bind(e.proxy),$watch:e=>instanceWatch.bind(e)}),PublicInstanceProxyHandlers={get({_:e},r){const{ctx:t,setupState:n,data:a,props:o,accessCache:s,type:l,appContext:u}=e;let f;if(r[0]!=="$"){const m=s[r];if(m!==void 0)switch(m){case 1:return n[r];case 2:return a[r];case 4:return t[r];case 3:return o[r]}else{if(n!==EMPTY_OBJ&&hasOwn(n,r))return s[r]=1,n[r];if(a!==EMPTY_OBJ&&hasOwn(a,r))return s[r]=2,a[r];if((f=e.propsOptions[0])&&hasOwn(f,r))return s[r]=3,o[r];if(t!==EMPTY_OBJ&&hasOwn(t,r))return s[r]=4,t[r];shouldCacheAccess&&(s[r]=0)}}const d=publicPropertiesMap[r];let v,g;if(d)return r==="$attrs"&&track(e,"get",r),d(e);if((v=l.__cssModules)&&(v=v[r]))return v;if(t!==EMPTY_OBJ&&hasOwn(t,r))return s[r]=4,t[r];if(g=u.config.globalProperties,hasOwn(g,r))return g[r]},set({_:e},r,t){const{data:n,setupState:a,ctx:o}=e;return a!==EMPTY_OBJ&&hasOwn(a,r)?(a[r]=t,!0):n!==EMPTY_OBJ&&hasOwn(n,r)?(n[r]=t,!0):hasOwn(e.props,r)||r[0]==="$"&&r.slice(1)in e?!1:(o[r]=t,!0)},has({_:{data:e,setupState:r,accessCache:t,ctx:n,appContext:a,propsOptions:o}},s){let l;return!!t[s]||e!==EMPTY_OBJ&&hasOwn(e,s)||r!==EMPTY_OBJ&&hasOwn(r,s)||(l=o[0])&&hasOwn(l,s)||hasOwn(n,s)||hasOwn(publicPropertiesMap,s)||hasOwn(a.config.globalProperties,s)},defineProperty(e,r,t){return t.get!=null?this.set(e,r,t.get(),null):t.value!=null&&this.set(e,r,t.value,null),Reflect.defineProperty(e,r,t)}},emptyAppContext=createAppContext();let uid$1$2=0;function createComponentInstance(e,r,t){const n=e.type,a=(r?r.appContext:e.appContext)||emptyAppContext,o={uid:uid$1$2++,vnode:e,type:n,parent:r,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,a),emitsOptions:normalizeEmitsOptions(n,a),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=r?r.root:o,o.emit=emit$1.bind(null,o),e.ce&&e.ce(o),o}let currentInstance=null;const setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,r=!1){isInSSRComponentSetup=r;const{props:t,children:n}=e.vnode,a=isStatefulComponent(e);initProps(e,t,a,r),initSlots(e,n);const o=a?setupStatefulComponent(e,r):void 0;return isInSSRComponentSetup=!1,o}function setupStatefulComponent(e,r){const t=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:n}=t;if(n){const a=e.setupContext=n.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const o=callWithErrorHandling(n,e,0,[e.props,a]);if(resetTracking(),unsetCurrentInstance(),isPromise(o)){if(o.then(unsetCurrentInstance,unsetCurrentInstance),r)return o.then(s=>{handleSetupResult(e,s,r)}).catch(s=>{handleError(s,e,0)});e.asyncDep=o}else handleSetupResult(e,o,r)}else finishComponentSetup(e,r)}function handleSetupResult(e,r,t){isFunction(r)?e.type.__ssrInlineRender?e.ssrRender=r:e.render=r:isObject$l(r)&&(e.setupState=proxyRefs(r)),finishComponentSetup(e,t)}let compile;function finishComponentSetup(e,r,t){const n=e.type;if(!e.render){if(!r&&compile&&!n.render){const a=n.template;if(a){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:l,compilerOptions:u}=n,f=extend$3(extend$3({isCustomElement:o,delimiters:l},s),u);n.render=compile(a,f)}}e.render=n.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(e){return new Proxy(e.attrs,{get(r,t){return track(e,"get","$attrs"),r[t]}})}function createSetupContext(e){const r=n=>{e.exposed=n||{}};let t;return{get attrs(){return t||(t=createAttrsProxy(e))},slots:e.slots,emit:e.emit,expose:r}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(r,t){if(t in r)return r[t];if(t in publicPropertiesMap)return publicPropertiesMap[t](e)}}))}function getComponentName(e){return isFunction(e)&&e.displayName||e.name}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,r)=>computed$1(e,r,isInSSRComponentSetup);function h(e,r,t){const n=arguments.length;return n===2?isObject$l(r)&&!isArray$e(r)?isVNode(r)?createVNode(e,null,[r]):createVNode(e,r):createVNode(e,null,r):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&isVNode(t)&&(t=[t]),createVNode(e,r,t))}const version$2="3.2.31",svgNS="http://www.w3.org/2000/svg",doc=typeof document!="undefined"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,r,t)=>{r.insertBefore(e,t||null)},remove:e=>{const r=e.parentNode;r&&r.removeChild(e)},createElement:(e,r,t,n)=>{const a=r?doc.createElementNS(svgNS,e):doc.createElement(e,t?{is:t}:void 0);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,r)=>{e.nodeValue=r},setElementText:(e,r)=>{e.textContent=r},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,r){e.setAttribute(r,"")},cloneNode(e){const r=e.cloneNode(!0);return"_value"in e&&(r._value=e._value),r},insertStaticContent(e,r,t,n,a,o){const s=t?t.previousSibling:r.lastChild;if(a&&(a===o||a.nextSibling))for(;r.insertBefore(a.cloneNode(!0),t),!(a===o||!(a=a.nextSibling)););else{templateContainer.innerHTML=n?`<svg>${e}</svg>`:e;const l=templateContainer.content;if(n){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}r.insertBefore(l,t)}return[s?s.nextSibling:r.firstChild,t?t.previousSibling:r.lastChild]}};function patchClass(e,r,t){const n=e._vtc;n&&(r=(r?[r,...n]:[...n]).join(" ")),r==null?e.removeAttribute("class"):t?e.setAttribute("class",r):e.className=r}function patchStyle(e,r,t){const n=e.style,a=isString$1(t);if(t&&!a){for(const o in t)setStyle(n,o,t[o]);if(r&&!isString$1(r))for(const o in r)t[o]==null&&setStyle(n,o,"")}else{const o=n.display;a?r!==t&&(n.cssText=t):r&&e.removeAttribute("style"),"_vod"in e&&(n.display=o)}}const importantRE=/\s*!important$/;function setStyle(e,r,t){if(isArray$e(t))t.forEach(n=>setStyle(e,r,n));else if(r.startsWith("--"))e.setProperty(r,t);else{const n=autoPrefix(e,r);importantRE.test(t)?e.setProperty(hyphenate(n),t.replace(importantRE,""),"important"):e[n]=t}}const prefixes$1=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,r){const t=prefixCache[r];if(t)return t;let n=camelize(r);if(n!=="filter"&&n in e)return prefixCache[r]=n;n=capitalize(n);for(let a=0;a<prefixes$1.length;a++){const o=prefixes$1[a]+n;if(o in e)return prefixCache[r]=o}return r}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,r,t,n,a){if(n&&r.startsWith("xlink:"))t==null?e.removeAttributeNS(xlinkNS,r.slice(6,r.length)):e.setAttributeNS(xlinkNS,r,t);else{const o=isSpecialBooleanAttr(r);t==null||o&&!includeBooleanAttr(t)?e.removeAttribute(r):e.setAttribute(r,o?"":t)}}function patchDOMProp(e,r,t,n,a,o,s){if(r==="innerHTML"||r==="textContent"){n&&s(n,a,o),e[r]=t??"";return}if(r==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=t;const l=t??"";(e.value!==l||e.tagName==="OPTION")&&(e.value=l),t==null&&e.removeAttribute(r);return}if(t===""||t==null){const l=typeof e[r];if(l==="boolean"){e[r]=includeBooleanAttr(t);return}else if(t==null&&l==="string"){e[r]="",e.removeAttribute(r);return}else if(l==="number"){try{e[r]=0}catch{}e.removeAttribute(r);return}}try{e[r]=t}catch{}}let _getNow=Date.now,skipTimestampCheck=!1;if(typeof window!="undefined"){_getNow()>document.createEvent("Event").timeStamp&&(_getNow=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);skipTimestampCheck=!!(e&&Number(e[1])<=53)}let cachedNow=0;const p=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p.then(reset),cachedNow=_getNow());function addEventListener$1(e,r,t,n){e.addEventListener(r,t,n)}function removeEventListener$1(e,r,t,n){e.removeEventListener(r,t,n)}function patchEvent(e,r,t,n,a=null){const o=e._vei||(e._vei={}),s=o[r];if(n&&s)s.value=n;else{const[l,u]=parseName(r);if(n){const f=o[r]=createInvoker(n,a);addEventListener$1(e,l,f,u)}else s&&(removeEventListener$1(e,l,s,u),o[r]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let r;if(optionsModifierRE.test(e)){r={};let t;for(;t=e.match(optionsModifierRE);)e=e.slice(0,e.length-t[0].length),r[t[0].toLowerCase()]=!0}return[hyphenate(e.slice(2)),r]}function createInvoker(e,r){const t=n=>{const a=n.timeStamp||_getNow();(skipTimestampCheck||a>=t.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(n,t.value),r,5,[n])};return t.value=e,t.attached=getNow(),t}function patchStopImmediatePropagation(e,r){if(isArray$e(r)){const t=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{t.call(e),e._stopped=!0},r.map(n=>a=>!a._stopped&&n&&n(a))}else return r}const nativeOnRE=/^on[a-z]/,patchProp=(e,r,t,n,a=!1,o,s,l,u)=>{r==="class"?patchClass(e,n,a):r==="style"?patchStyle(e,t,n):isOn(r)?isModelListener(r)||patchEvent(e,r,t,n,s):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):shouldSetAsProp(e,r,n,a))?patchDOMProp(e,r,n,o,s,l,u):(r==="true-value"?e._trueValue=n:r==="false-value"&&(e._falseValue=n),patchAttr(e,r,n,a))};function shouldSetAsProp(e,r,t,n){return n?!!(r==="innerHTML"||r==="textContent"||r in e&&nativeOnRE.test(r)&&isFunction(t)):r==="spellcheck"||r==="draggable"||r==="form"||r==="list"&&e.tagName==="INPUT"||r==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(r)&&isString$1(t)?!1:r in e}const getModelAssigner=e=>{const r=e.props["onUpdate:modelValue"];return isArray$e(r)?t=>invokeArrayFns(r,t):r};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const r=e.target;r.composing&&(r.composing=!1,trigger(r,"input"))}function trigger(e,r){const t=document.createEvent("HTMLEvents");t.initEvent(r,!0,!0),e.dispatchEvent(t)}const vModelText={created(e,{modifiers:{lazy:r,trim:t,number:n}},a){e._assign=getModelAssigner(a);const o=n||a.props&&a.props.type==="number";addEventListener$1(e,r?"change":"input",s=>{if(s.target.composing)return;let l=e.value;t?l=l.trim():o&&(l=toNumber(l)),e._assign(l)}),t&&addEventListener$1(e,"change",()=>{e.value=e.value.trim()}),r||(addEventListener$1(e,"compositionstart",onCompositionStart),addEventListener$1(e,"compositionend",onCompositionEnd),addEventListener$1(e,"change",onCompositionEnd))},mounted(e,{value:r}){e.value=r??""},beforeUpdate(e,{value:r,modifiers:{lazy:t,trim:n,number:a}},o){if(e._assign=getModelAssigner(o),e.composing||document.activeElement===e&&(t||n&&e.value.trim()===r||(a||e.type==="number")&&toNumber(e.value)===r))return;const s=r??"";e.value!==s&&(e.value=s)}},vModelCheckbox={deep:!0,created(e,r,t){e._assign=getModelAssigner(t),addEventListener$1(e,"change",()=>{const n=e._modelValue,a=getValue(e),o=e.checked,s=e._assign;if(isArray$e(n)){const l=looseIndexOf(n,a),u=l!==-1;if(o&&!u)s(n.concat(a));else if(!o&&u){const f=[...n];f.splice(l,1),s(f)}}else if(isSet(n)){const l=new Set(n);o?l.add(a):l.delete(a),s(l)}else s(getCheckboxValue(e,o))})},mounted:setChecked,beforeUpdate(e,r,t){e._assign=getModelAssigner(t),setChecked(e,r,t)}};function setChecked(e,{value:r,oldValue:t},n){e._modelValue=r,isArray$e(r)?e.checked=looseIndexOf(r,n.props.value)>-1:isSet(r)?e.checked=r.has(n.props.value):r!==t&&(e.checked=looseEqual(r,getCheckboxValue(e,!0)))}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,r){const t=r?"_trueValue":"_falseValue";return t in e?e[t]:r}const rendererOptions=extend$3({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const createSSRApp=(...e)=>{const r=ensureHydrationRenderer().createApp(...e),{mount:t}=r;return r.mount=n=>{const a=normalizeContainer(n);if(a)return t(a,!0,a instanceof SVGElement)},r};function normalizeContainer(e){return isString$1(e)?document.querySelector(e):e}function _isPlaceholder(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function _curry1(e){return function r(t){return arguments.length===0||_isPlaceholder(t)?r:e.apply(this,arguments)}}function _curry2(e){return function r(t,n){switch(arguments.length){case 0:return r;case 1:return _isPlaceholder(t)?r:_curry1(function(a){return e(t,a)});default:return _isPlaceholder(t)&&_isPlaceholder(n)?r:_isPlaceholder(t)?_curry1(function(a){return e(a,n)}):_isPlaceholder(n)?_curry1(function(a){return e(t,a)}):e(t,n)}}}function _arity(e,r){switch(e){case 0:return function(){return r.apply(this,arguments)};case 1:return function(t){return r.apply(this,arguments)};case 2:return function(t,n){return r.apply(this,arguments)};case 3:return function(t,n,a){return r.apply(this,arguments)};case 4:return function(t,n,a,o){return r.apply(this,arguments)};case 5:return function(t,n,a,o,s){return r.apply(this,arguments)};case 6:return function(t,n,a,o,s,l){return r.apply(this,arguments)};case 7:return function(t,n,a,o,s,l,u){return r.apply(this,arguments)};case 8:return function(t,n,a,o,s,l,u,f){return r.apply(this,arguments)};case 9:return function(t,n,a,o,s,l,u,f,d){return r.apply(this,arguments)};case 10:return function(t,n,a,o,s,l,u,f,d,v){return r.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function _curryN(e,r,t){return function(){for(var n=[],a=0,o=e,s=0;s<r.length||a<arguments.length;){var l;s<r.length&&(!_isPlaceholder(r[s])||a>=arguments.length)?l=r[s]:(l=arguments[a],a+=1),n[s]=l,_isPlaceholder(l)||(o-=1),s+=1}return o<=0?t.apply(this,n):_arity(o,_curryN(e,n,t))}}var curryN=_curry2(function(r,t){return r===1?_curry1(t):_arity(r,_curryN(r,[],t))}),curryN$1=curryN;function _curry3(e){return function r(t,n,a){switch(arguments.length){case 0:return r;case 1:return _isPlaceholder(t)?r:_curry2(function(o,s){return e(t,o,s)});case 2:return _isPlaceholder(t)&&_isPlaceholder(n)?r:_isPlaceholder(t)?_curry2(function(o,s){return e(o,n,s)}):_isPlaceholder(n)?_curry2(function(o,s){return e(t,o,s)}):_curry1(function(o){return e(t,n,o)});default:return _isPlaceholder(t)&&_isPlaceholder(n)&&_isPlaceholder(a)?r:_isPlaceholder(t)&&_isPlaceholder(n)?_curry2(function(o,s){return e(o,s,a)}):_isPlaceholder(t)&&_isPlaceholder(a)?_curry2(function(o,s){return e(o,n,s)}):_isPlaceholder(n)&&_isPlaceholder(a)?_curry2(function(o,s){return e(t,o,s)}):_isPlaceholder(t)?_curry1(function(o){return e(o,n,a)}):_isPlaceholder(n)?_curry1(function(o){return e(t,o,a)}):_isPlaceholder(a)?_curry1(function(o){return e(t,n,o)}):e(t,n,a)}}}var _isArray=Array.isArray||function(r){return r!=null&&r.length>=0&&Object.prototype.toString.call(r)==="[object Array]"};function _isTransformer(e){return e!=null&&typeof e["@@transducer/step"]=="function"}function _dispatchable(e,r,t){return function(){if(arguments.length===0)return t();var n=Array.prototype.slice.call(arguments,0),a=n.pop();if(!_isArray(a)){for(var o=0;o<e.length;){if(typeof a[e[o]]=="function")return a[e[o]].apply(a,n);o+=1}if(_isTransformer(a)){var s=r.apply(null,n);return s(a)}}return t.apply(this,arguments)}}var _xfBase={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};function _map(e,r){for(var t=0,n=r.length,a=Array(n);t<n;)a[t]=e(r[t]),t+=1;return a}function _isString(e){return Object.prototype.toString.call(e)==="[object String]"}var _isArrayLike=_curry1(function(r){return _isArray(r)?!0:!r||typeof r!="object"||_isString(r)?!1:r.nodeType===1?!!r.length:r.length===0?!0:r.length>0?r.hasOwnProperty(0)&&r.hasOwnProperty(r.length-1):!1}),_isArrayLike$1=_isArrayLike,XWrap=function(){function e(r){this.f=r}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(r){return r},e.prototype["@@transducer/step"]=function(r,t){return this.f(r,t)},e}();function _xwrap(e){return new XWrap(e)}var bind$d=_curry2(function(r,t){return _arity(r.length,function(){return r.apply(t,arguments)})}),bind$1$2=bind$d;function _arrayReduce(e,r,t){for(var n=0,a=t.length;n<a;){if(r=e["@@transducer/step"](r,t[n]),r&&r["@@transducer/reduced"]){r=r["@@transducer/value"];break}n+=1}return e["@@transducer/result"](r)}function _iterableReduce(e,r,t){for(var n=t.next();!n.done;){if(r=e["@@transducer/step"](r,n.value),r&&r["@@transducer/reduced"]){r=r["@@transducer/value"];break}n=t.next()}return e["@@transducer/result"](r)}function _methodReduce(e,r,t,n){return e["@@transducer/result"](t[n](bind$1$2(e["@@transducer/step"],e),r))}var symIterator=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator";function _reduce(e,r,t){if(typeof e=="function"&&(e=_xwrap(e)),_isArrayLike$1(t))return _arrayReduce(e,r,t);if(typeof t["fantasy-land/reduce"]=="function")return _methodReduce(e,r,t,"fantasy-land/reduce");if(t[symIterator]!=null)return _iterableReduce(e,r,t[symIterator]());if(typeof t.next=="function")return _iterableReduce(e,r,t);if(typeof t.reduce=="function")return _methodReduce(e,r,t,"reduce");throw new TypeError("reduce: list must be array or iterable")}var XMap=function(){function e(r,t){this.xf=t,this.f=r}return e.prototype["@@transducer/init"]=_xfBase.init,e.prototype["@@transducer/result"]=_xfBase.result,e.prototype["@@transducer/step"]=function(r,t){return this.xf["@@transducer/step"](r,this.f(t))},e}(),_xmap=_curry2(function(r,t){return new XMap(r,t)}),_xmap$1=_xmap;function _has(e,r){return Object.prototype.hasOwnProperty.call(r,e)}var toString$2$2=Object.prototype.toString,_isArguments=function(){return toString$2$2.call(arguments)==="[object Arguments]"?function(r){return toString$2$2.call(r)==="[object Arguments]"}:function(r){return _has("callee",r)}}(),_isArguments$1=_isArguments,hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],hasArgsEnumBug=function(){return arguments.propertyIsEnumerable("length")}(),contains=function(r,t){for(var n=0;n<r.length;){if(r[n]===t)return!0;n+=1}return!1},keys$9=_curry1(typeof Object.keys=="function"&&!hasArgsEnumBug?function(r){return Object(r)!==r?[]:Object.keys(r)}:function(r){if(Object(r)!==r)return[];var t,n,a=[],o=hasArgsEnumBug&&_isArguments$1(r);for(t in r)_has(t,r)&&(!o||t!=="length")&&(a[a.length]=t);if(hasEnumBug)for(n=nonEnumerableProps.length-1;n>=0;)t=nonEnumerableProps[n],_has(t,r)&&!contains(a,t)&&(a[a.length]=t),n-=1;return a}),keys$1$2=keys$9,map$1$2=_curry2(_dispatchable(["fantasy-land/map","map"],_xmap$1,function(r,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return curryN$1(t.length,function(){return r.call(this,t.apply(this,arguments))});case"[object Object]":return _reduce(function(n,a){return n[a]=r(t[a]),n},{},keys$1$2(t));default:return _map(r,t)}})),map$2$2=map$1$2,_isInteger=Number.isInteger||function(r){return r<<0===r},nth=_curry2(function(r,t){var n=r<0?t.length+r:r;return _isString(t)?t.charAt(n):t[n]}),nth$1=nth,paths=_curry2(function(r,t){return r.map(function(n){for(var a=t,o=0,s;o<n.length;){if(a==null)return;s=n[o],a=_isInteger(s)?nth$1(s,a):a[s],o+=1}return a})}),paths$1=paths,path$1$2=_curry2(function(r,t){return paths$1([r],t)[0]}),path$2$2=path$1$2,prop=_curry2(function(r,t){return path$2$2([r],t)}),prop$1=prop,reduce$5=_curry3(_reduce),reduce$1$2=reduce$5,values$5=_curry1(function(r){for(var t=keys$1$2(r),n=t.length,a=[],o=0;o<n;)a[o]=r[t[o]],o+=1;return a}),values$1$2=values$5;function _isFunction(e){var r=Object.prototype.toString.call(e);return r==="[object Function]"||r==="[object AsyncFunction]"||r==="[object GeneratorFunction]"||r==="[object AsyncGeneratorFunction]"}var curry=_curry1(function(r){return curryN$1(r.length,r)}),curry$1=curry,type=_curry1(function(r){return r===null?"Null":r===void 0?"Undefined":Object.prototype.toString.call(r).slice(8,-1)}),type$1=type;function _pipe(e,r){return function(){return r.call(this,e.apply(this,arguments))}}function _checkForMethod(e,r){return function(){var t=arguments.length;if(t===0)return r();var n=arguments[t-1];return _isArray(n)||typeof n[e]!="function"?r.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,t-1))}}var slice$9=_curry3(_checkForMethod("slice",function(r,t,n){return Array.prototype.slice.call(n,r,t)})),slice$1$2=slice$9,tail=_curry1(_checkForMethod("tail",slice$1$2(1,1/0))),tail$1=tail;function pipe(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return _arity(arguments[0].length,reduce$1$2(_pipe,arguments[0],tail$1(arguments)))}function _arrayFromIterator(e){for(var r=[],t;!(t=e.next()).done;)r.push(t.value);return r}function _includesWith(e,r,t){for(var n=0,a=t.length;n<a;){if(e(r,t[n]))return!0;n+=1}return!1}function _functionName(e){var r=String(e).match(/^function (\w*)/);return r==null?"":r[1]}function _objectIs(e,r){return e===r?e!==0||1/e==1/r:e!==e&&r!==r}var _objectIs$1=typeof Object.is=="function"?Object.is:_objectIs;function _uniqContentEquals(e,r,t,n){var a=_arrayFromIterator(e),o=_arrayFromIterator(r);function s(l,u){return _equals(l,u,t.slice(),n.slice())}return!_includesWith(function(l,u){return!_includesWith(s,u,l)},o,a)}function _equals(e,r,t,n){if(_objectIs$1(e,r))return!0;var a=type$1(e);if(a!==type$1(r)||e==null||r==null)return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof r["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](r)&&typeof r["fantasy-land/equals"]=="function"&&r["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof r.equals=="function")return typeof e.equals=="function"&&e.equals(r)&&typeof r.equals=="function"&&r.equals(e);switch(a){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&_functionName(e.constructor)==="Promise")return e===r;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof r&&_objectIs$1(e.valueOf(),r.valueOf())))return!1;break;case"Date":if(!_objectIs$1(e.valueOf(),r.valueOf()))return!1;break;case"Error":return e.name===r.name&&e.message===r.message;case"RegExp":if(!(e.source===r.source&&e.global===r.global&&e.ignoreCase===r.ignoreCase&&e.multiline===r.multiline&&e.sticky===r.sticky&&e.unicode===r.unicode))return!1;break}for(var o=t.length-1;o>=0;){if(t[o]===e)return n[o]===r;o-=1}switch(a){case"Map":return e.size!==r.size?!1:_uniqContentEquals(e.entries(),r.entries(),t.concat([e]),n.concat([r]));case"Set":return e.size!==r.size?!1:_uniqContentEquals(e.values(),r.values(),t.concat([e]),n.concat([r]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=keys$1$2(e);if(s.length!==keys$1$2(r).length)return!1;var l=t.concat([e]),u=n.concat([r]);for(o=s.length-1;o>=0;){var f=s[o];if(!(_has(f,r)&&_equals(r[f],e[f],l,u)))return!1;o-=1}return!0}var equals=_curry2(function(r,t){return _equals(r,t,[],[])}),equals$1=equals;function _indexOf(e,r,t){var n,a;if(typeof e.indexOf=="function")switch(typeof r){case"number":if(r===0){for(n=1/r;t<e.length;){if(a=e[t],a===0&&1/a===n)return t;t+=1}return-1}else if(r!==r){for(;t<e.length;){if(a=e[t],typeof a=="number"&&a!==a)return t;t+=1}return-1}return e.indexOf(r,t);case"string":case"boolean":case"function":case"undefined":return e.indexOf(r,t);case"object":if(r===null)return e.indexOf(r,t)}for(;t<e.length;){if(equals$1(e[t],r))return t;t+=1}return-1}function _includes(e,r){return _indexOf(r,e,0)>=0}function _quote(e){var r=e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+r.replace(/"/g,'\\"')+'"'}var pad=function(r){return(r<10?"0":"")+r},_toISOString=typeof Date.prototype.toISOString=="function"?function(r){return r.toISOString()}:function(r){return r.getUTCFullYear()+"-"+pad(r.getUTCMonth()+1)+"-"+pad(r.getUTCDate())+"T"+pad(r.getUTCHours())+":"+pad(r.getUTCMinutes())+":"+pad(r.getUTCSeconds())+"."+(r.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},_toISOString$1=_toISOString;function _complement(e){return function(){return!e.apply(this,arguments)}}function _filter(e,r){for(var t=0,n=r.length,a=[];t<n;)e(r[t])&&(a[a.length]=r[t]),t+=1;return a}function _isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}var XFilter=function(){function e(r,t){this.xf=t,this.f=r}return e.prototype["@@transducer/init"]=_xfBase.init,e.prototype["@@transducer/result"]=_xfBase.result,e.prototype["@@transducer/step"]=function(r,t){return this.f(t)?this.xf["@@transducer/step"](r,t):r},e}(),_xfilter=_curry2(function(r,t){return new XFilter(r,t)}),_xfilter$1=_xfilter,filter$1$2=_curry2(_dispatchable(["filter"],_xfilter$1,function(e,r){return _isObject(r)?_reduce(function(t,n){return e(r[n])&&(t[n]=r[n]),t},{},keys$1$2(r)):_filter(e,r)})),filter$2$2=filter$1$2,reject=_curry2(function(r,t){return filter$2$2(_complement(r),t)}),reject$1=reject;function _toString(e,r){var t=function(s){var l=r.concat([e]);return _includes(s,l)?"<Circular>":_toString(s,l)},n=function(o,s){return _map(function(l){return _quote(l)+": "+t(o[l])},s.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+_map(t,e).join(", ")+"))";case"[object Array]":return"["+_map(t,e).concat(n(e,reject$1(function(o){return/^\d+$/.test(o)},keys$1$2(e)))).join(", ")+"]";case"[object Boolean]":return typeof e=="object"?"new Boolean("+t(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?t(NaN):_quote(_toISOString$1(e)))+")";case"[object Null]":return"null";case"[object Number]":return typeof e=="object"?"new Number("+t(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return typeof e=="object"?"new String("+t(e.valueOf())+")":_quote(e);case"[object Undefined]":return"undefined";default:if(typeof e.toString=="function"){var a=e.toString();if(a!=="[object Object]")return a}return"{"+n(e,keys$1$2(e)).join(", ")+"}"}}var toString$c=_curry1(function(r){return _toString(r,[])}),toString$1$2=toString$c,invoker=_curry2(function(r,t){return curryN$1(r+1,function(){var n=arguments[r];if(n!=null&&_isFunction(n[t]))return n[t].apply(n,Array.prototype.slice.call(arguments,0,r));throw new TypeError(toString$1$2(n)+' does not have a method named "'+t+'"')})}),invoker$1=invoker,is=_curry2(function(r,t){return t!=null&&t.constructor===r||t instanceof r}),is$1=is,join=invoker$1(1,"join"),join$1=join,mergeWithKey=_curry3(function(r,t,n){var a={},o;for(o in t)_has(o,t)&&(a[o]=_has(o,n)?r(o,t[o],n[o]):t[o]);for(o in n)_has(o,n)&&!_has(o,a)&&(a[o]=n[o]);return a}),mergeWithKey$1=mergeWithKey,mergeDeepWithKey=_curry3(function e(r,t,n){return mergeWithKey$1(function(a,o,s){return _isObject(o)&&_isObject(s)?e(r,o,s):r(a,o,s)},t,n)}),mergeDeepWithKey$1=mergeDeepWithKey,mergeDeepLeft=_curry2(function(r,t){return mergeDeepWithKey$1(function(n,a,o){return a},r,t)}),mergeDeepLeft$1=mergeDeepLeft,omit=_curry2(function(r,t){for(var n={},a={},o=0,s=r.length;o<s;)a[r[o]]=1,o+=1;for(var l in t)a.hasOwnProperty(l)||(n[l]=t[l]);return n}),omit$1=omit,pickBy=_curry2(function(r,t){var n={};for(var a in t)r(t[a],a,t)&&(n[a]=t[a]);return n}),pickBy$1=pickBy,split$2=invoker$1(1,"split"),split$1$1=split$2,toLower=invoker$1(0,"toLowerCase"),toLower$1=toLower,zipObj=_curry2(function(r,t){for(var n=0,a=Math.min(r.length,t.length),o={};n<a;)o[r[n]]=t[n],n+=1;return o}),zipObj$1=zipObj;pipe(toLower$1,split$1$1(" "),join$1("-"));const getCol=curry$1((e,r)=>is$1(Number)?map$2$2(t=>nth$1(e,t)||"",r).filter(t=>t!==""):map$2$2(prop$1(e),r)),mapKeys=(e,r)=>zipObj$1(map$2$2(e,keys$1$2(r)),values$1$2(r)),kebabize=e=>e.split("").map((r,t)=>r.toUpperCase()===r?`${t!==0?"-":""}${r.toLowerCase()}`:r).join("");function ascending$1(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function bisector(e){let r=e,t=e,n=e;e.length!==2&&(r=(l,u)=>e(l)-u,t=ascending$1,n=(l,u)=>ascending$1(e(l),u));function a(l,u,f=0,d=l.length){if(f<d){if(t(u,u)!==0)return d;do{const v=f+d>>>1;n(l[v],u)<0?f=v+1:d=v}while(f<d)}return f}function o(l,u,f=0,d=l.length){if(f<d){if(t(u,u)!==0)return d;do{const v=f+d>>>1;n(l[v],u)<=0?f=v+1:d=v}while(f<d)}return f}function s(l,u,f=0,d=l.length){const v=a(l,u,f,d-1);return v>f&&r(l[v-1],u)>-r(l[v],u)?v-1:v}return{left:a,center:s,right:o}}function number$2(e){return e===null?NaN:+e}const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right,bisectCenter=bisector(number$2).center;function descending$1(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function extent(e,r){let t,n;if(r===void 0)for(const a of e)a!=null&&(t===void 0?a>=a&&(t=n=a):(t>a&&(t=a),n<a&&(n=a)));else{let a=-1;for(let o of e)(o=r(o,++a,e))!=null&&(t===void 0?o>=o&&(t=n=o):(t>o&&(t=o),n<o&&(n=o)))}return[t,n]}class InternMap extends Map{constructor(r,t=keyof){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),r!=null)for(const[n,a]of r)this.set(n,a)}get(r){return super.get(intern_get(this,r))}has(r){return super.has(intern_get(this,r))}set(r,t){return super.set(intern_set(this,r),t)}delete(r){return super.delete(intern_delete(this,r))}}function intern_get({_intern:e,_key:r},t){const n=r(t);return e.has(n)?e.get(n):t}function intern_set({_intern:e,_key:r},t){const n=r(t);return e.has(n)?e.get(n):(e.set(n,t),t)}function intern_delete({_intern:e,_key:r},t){const n=r(t);return e.has(n)&&(t=e.get(n),e.delete(n)),t}function keyof(e){return e!==null&&typeof e=="object"?e.valueOf():e}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function ticks(e,r,t){var n,a=-1,o,s,l;if(r=+r,e=+e,t=+t,e===r&&t>0)return[e];if((n=r<e)&&(o=e,e=r,r=o),(l=tickIncrement(e,r,t))===0||!isFinite(l))return[];if(l>0){let u=Math.round(e/l),f=Math.round(r/l);for(u*l<e&&++u,f*l>r&&--f,s=new Array(o=f-u+1);++a<o;)s[a]=(u+a)*l}else{l=-l;let u=Math.round(e*l),f=Math.round(r*l);for(u/l<e&&++u,f/l>r&&--f,s=new Array(o=f-u+1);++a<o;)s[a]=(u+a)/l}return n&&s.reverse(),s}function tickIncrement(e,r,t){var n=(r-e)/Math.max(0,t),a=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,a);return a>=0?(o>=e10?10:o>=e5?5:o>=e2?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=e10?10:o>=e5?5:o>=e2?2:1)}function tickStep(e,r,t){var n=Math.abs(r-e)/Math.max(0,t),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/a;return o>=e10?a*=10:o>=e5?a*=5:o>=e2&&(a*=2),r<e?-a:a}function max$1$2(e,r){let t;if(r===void 0)for(const n of e)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);else{let n=-1;for(let a of e)(a=r(a,++n,e))!=null&&(t<a||t===void 0&&a>=a)&&(t=a)}return t}function min$1$2(e,r){let t;if(r===void 0)for(const n of e)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);else{let n=-1;for(let a of e)(a=r(a,++n,e))!=null&&(t>a||t===void 0&&a>=a)&&(t=a)}return t}function range(e,r,t){e=+e,r=+r,t=(a=arguments.length)<2?(r=e,e=0,1):a<3?1:+t;for(var n=-1,a=Math.max(0,Math.ceil((r-e)/t))|0,o=new Array(a);++n<a;)o[n]=e+n*t;return o}function initRange(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function initInterpolator(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const implicit=Symbol("implicit");function ordinal(){var e=new InternMap,r=[],t=[],n=implicit;function a(o){let s=e.get(o);if(s===void 0){if(n!==implicit)return n;e.set(o,s=r.push(o)-1)}return t[s%t.length]}return a.domain=function(o){if(!arguments.length)return r.slice();r=[],e=new InternMap;for(const s of o)e.has(s)||e.set(s,r.push(s)-1);return a},a.range=function(o){return arguments.length?(t=Array.from(o),a):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return ordinal(r,t).unknown(n)},initRange.apply(a,arguments),a}function band(){var e=ordinal().unknown(void 0),r=e.domain,t=e.range,n=0,a=1,o,s,l=!1,u=0,f=0,d=.5;delete e.unknown;function v(){var g=r().length,m=a<n,b=m?a:n,E=m?n:a;o=(E-b)/Math.max(1,g-u+f*2),l&&(o=Math.floor(o)),b+=(E-b-o*(g-u))*d,s=o*(1-u),l&&(b=Math.round(b),s=Math.round(s));var w=range(g).map(function(_){return b+o*_});return t(m?w.reverse():w)}return e.domain=function(g){return arguments.length?(r(g),v()):r()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,v()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,l=!0,v()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(g){return arguments.length?(l=!!g,v()):l},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),v()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),v()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,v()):f},e.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),v()):d},e.copy=function(){return band(r(),[n,a]).round(l).paddingInner(u).paddingOuter(f).align(d)},initRange.apply(v(),arguments)}function define(e,r,t){e.prototype=r.prototype=t,t.constructor=e}function extend$2(e,r){var t=Object.create(e.prototype);for(var n in r)t[n]=r[n];return t}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var r,t;return e=(e+"").trim().toLowerCase(),(r=reHex.exec(e))?(t=r[1].length,r=parseInt(r[1],16),t===6?rgbn(r):t===3?new Rgb(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):t===8?rgba(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):t===4?rgba(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=reRgbInteger.exec(e))?new Rgb(r[1],r[2],r[3],1):(r=reRgbPercent.exec(e))?new Rgb(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=reRgbaInteger.exec(e))?rgba(r[1],r[2],r[3],r[4]):(r=reRgbaPercent.exec(e))?rgba(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=reHslPercent.exec(e))?hsla(r[1],r[2]/100,r[3]/100,1):(r=reHslaPercent.exec(e))?hsla(r[1],r[2]/100,r[3]/100,r[4]):named.hasOwnProperty(e)?rgbn(named[e]):e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,e&255,1)}function rgba(e,r,t,n){return n<=0&&(e=r=t=NaN),new Rgb(e,r,t,n)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb$1(e,r,t,n){return arguments.length===1?rgbConvert(e):new Rgb(e,r,t,n??1)}function Rgb(e,r,t,n){this.r=+e,this.g=+r,this.b=+t,this.opacity=+n}define(Rgb,rgb$1,extend$2(Color,{brighter:function(e){return e=e==null?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return"#"+hex$2(this.r)+hex$2(this.g)+hex$2(this.b)}function rgb_formatRgb(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function hex$2(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function hsla(e,r,t,n){return n<=0?e=r=t=NaN:t<=0||t>=1?e=r=NaN:r<=0&&(e=NaN),new Hsl(e,r,t,n)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var r=e.r/255,t=e.g/255,n=e.b/255,a=Math.min(r,t,n),o=Math.max(r,t,n),s=NaN,l=o-a,u=(o+a)/2;return l?(r===o?s=(t-n)/l+(t<n)*6:t===o?s=(n-r)/l+2:s=(r-t)/l+4,l/=u<.5?o+a:2-o-a,s*=60):l=u>0&&u<1?0:s,new Hsl(s,l,u,e.opacity)}function hsl(e,r,t,n){return arguments.length===1?hslConvert(e):new Hsl(e,r,t,n??1)}function Hsl(e,r,t,n){this.h=+e,this.s=+r,this.l=+t,this.opacity=+n}define(Hsl,hsl,extend$2(Color,{brighter:function(e){return e=e==null?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*r,a=2*t-n;return new Rgb(hsl2rgb(e>=240?e-240:e+120,a,n),hsl2rgb(e,a,n),hsl2rgb(e<120?e+240:e-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function hsl2rgb(e,r,t){return(e<60?r+(t-r)*e/60:e<180?t:e<240?r+(t-r)*(240-e)/60:r)*255}const radians=Math.PI/180,degrees=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(e){if(e instanceof Lab)return new Lab(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl)return hcl2lab(e);e instanceof Rgb||(e=rgbConvert(e));var r=rgb2lrgb(e.r),t=rgb2lrgb(e.g),n=rgb2lrgb(e.b),a=xyz2lab((.2225045*r+.7168786*t+.0606169*n)/Yn),o,s;return r===t&&t===n?o=s=a:(o=xyz2lab((.4360747*r+.3850649*t+.1430804*n)/Xn),s=xyz2lab((.0139322*r+.0971045*t+.7141733*n)/Zn)),new Lab(116*a-16,500*(o-a),200*(a-s),e.opacity)}function lab(e,r,t,n){return arguments.length===1?labConvert(e):new Lab(e,r,t,n??1)}function Lab(e,r,t,n){this.l=+e,this.a=+r,this.b=+t,this.opacity=+n}define(Lab,lab,extend$2(Color,{brighter:function(e){return new Lab(this.l+K*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new Lab(this.l-K*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,r=isNaN(this.a)?e:e+this.a/500,t=isNaN(this.b)?e:e-this.b/200;return r=Xn*lab2xyz(r),e=Yn*lab2xyz(e),t=Zn*lab2xyz(t),new Rgb(lrgb2rgb(3.1338561*r-1.6168667*e-.4906146*t),lrgb2rgb(-.9787684*r+1.9161415*e+.033454*t),lrgb2rgb(.0719453*r-.2289914*e+1.4052427*t),this.opacity)}}));function xyz2lab(e){return e>t3?Math.pow(e,1/3):e/t2+t0}function lab2xyz(e){return e>t1?e*e*e:t2*(e-t0)}function lrgb2rgb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2lrgb(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hclConvert(e){if(e instanceof Hcl)return new Hcl(e.h,e.c,e.l,e.opacity);if(e instanceof Lab||(e=labConvert(e)),e.a===0&&e.b===0)return new Hcl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var r=Math.atan2(e.b,e.a)*degrees;return new Hcl(r<0?r+360:r,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hcl$1(e,r,t,n){return arguments.length===1?hclConvert(e):new Hcl(e,r,t,n??1)}function Hcl(e,r,t,n){this.h=+e,this.c=+r,this.l=+t,this.opacity=+n}function hcl2lab(e){if(isNaN(e.h))return new Lab(e.l,0,0,e.opacity);var r=e.h*radians;return new Lab(e.l,Math.cos(r)*e.c,Math.sin(r)*e.c,e.opacity)}define(Hcl,hcl$1,extend$2(Color,{brighter:function(e){return new Hcl(this.h,this.c,this.l+K*(e??1),this.opacity)},darker:function(e){return new Hcl(this.h,this.c,this.l-K*(e??1),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}));var constant$3=e=>()=>e;function linear$1(e,r){return function(t){return e+t*r}}function exponential(e,r,t){return e=Math.pow(e,t),r=Math.pow(r,t)-e,t=1/t,function(n){return Math.pow(e+n*r,t)}}function hue(e,r){var t=r-e;return t?linear$1(e,t>180||t<-180?t-360*Math.round(t/360):t):constant$3(isNaN(e)?r:e)}function gamma(e){return(e=+e)==1?nogamma:function(r,t){return t-r?exponential(r,t,e):constant$3(isNaN(r)?t:r)}}function nogamma(e,r){var t=r-e;return t?linear$1(e,t):constant$3(isNaN(e)?r:e)}var rgb=function e(r){var t=gamma(r);function n(a,o){var s=t((a=rgb$1(a)).r,(o=rgb$1(o)).r),l=t(a.g,o.g),u=t(a.b,o.b),f=nogamma(a.opacity,o.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=u(d),a.opacity=f(d),a+""}}return n.gamma=e,n}(1);function numberArray(e,r){r||(r=[]);var t=e?Math.min(r.length,e.length):0,n=r.slice(),a;return function(o){for(a=0;a<t;++a)n[a]=e[a]*(1-o)+r[a]*o;return n}}function isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function genericArray(e,r){var t=r?r.length:0,n=e?Math.min(t,e.length):0,a=new Array(n),o=new Array(t),s;for(s=0;s<n;++s)a[s]=interpolate(e[s],r[s]);for(;s<t;++s)o[s]=r[s];return function(l){for(s=0;s<n;++s)o[s]=a[s](l);return o}}function date(e,r){var t=new Date;return e=+e,r=+r,function(n){return t.setTime(e*(1-n)+r*n),t}}function interpolateNumber(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}function object$1(e,r){var t={},n={},a;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in e?t[a]=interpolate(e[a],r[a]):n[a]=r[a];return function(o){for(a in t)n[a]=t[a](o);return n}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one(e){return function(r){return e(r)+""}}function string$1(e,r){var t=reA.lastIndex=reB.lastIndex=0,n,a,o,s=-1,l=[],u=[];for(e=e+"",r=r+"";(n=reA.exec(e))&&(a=reB.exec(r));)(o=a.index)>t&&(o=r.slice(t,o),l[s]?l[s]+=o:l[++s]=o),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,u.push({i:s,x:interpolateNumber(n,a)})),t=reB.lastIndex;return t<r.length&&(o=r.slice(t),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?one(u[0].x):zero(r):(r=u.length,function(f){for(var d=0,v;d<r;++d)l[(v=u[d]).i]=v.x(f);return l.join("")})}function interpolate(e,r){var t=typeof r,n;return r==null||t==="boolean"?constant$3(r):(t==="number"?interpolateNumber:t==="string"?(n=color(r))?(r=n,rgb):string$1:r instanceof color?rgb:r instanceof Date?date:isNumberArray(r)?numberArray:Array.isArray(r)?genericArray:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?object$1:interpolateNumber)(e,r)}function interpolateRound(e,r){return e=+e,r=+r,function(t){return Math.round(e*(1-t)+r*t)}}function hcl(e){return function(r,t){var n=e((r=hcl$1(r)).h,(t=hcl$1(t)).h),a=nogamma(r.c,t.c),o=nogamma(r.l,t.l),s=nogamma(r.opacity,t.opacity);return function(l){return r.h=n(l),r.c=a(l),r.l=o(l),r.opacity=s(l),r+""}}}var interpolateHcl=hcl(hue);function constants(e){return function(){return e}}function number$1(e){return+e}var unit=[0,1];function identity$3(e){return e}function normalize$1$1(e,r){return(r-=e=+e)?function(t){return(t-e)/r}:constants(isNaN(r)?NaN:.5)}function clamper(e,r){var t;return e>r&&(t=e,e=r,r=t),function(n){return Math.max(e,Math.min(r,n))}}function bimap(e,r,t){var n=e[0],a=e[1],o=r[0],s=r[1];return a<n?(n=normalize$1$1(a,n),o=t(s,o)):(n=normalize$1$1(n,a),o=t(o,s)),function(l){return o(n(l))}}function polymap(e,r,t){var n=Math.min(e.length,r.length)-1,a=new Array(n),o=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++s<n;)a[s]=normalize$1$1(e[s],e[s+1]),o[s]=t(r[s],r[s+1]);return function(l){var u=bisectRight(e,l,1,n)-1;return o[u](a[u](l))}}function copy$1(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function transformer$1(){var e=unit,r=unit,t=interpolate,n,a,o,s=identity$3,l,u,f;function d(){var g=Math.min(e.length,r.length);return s!==identity$3&&(s=clamper(e[0],e[g-1])),l=g>2?polymap:bimap,u=f=null,v}function v(g){return g==null||isNaN(g=+g)?o:(u||(u=l(e.map(n),r,t)))(n(s(g)))}return v.invert=function(g){return s(a((f||(f=l(r,e.map(n),interpolateNumber)))(g)))},v.domain=function(g){return arguments.length?(e=Array.from(g,number$1),d()):e.slice()},v.range=function(g){return arguments.length?(r=Array.from(g),d()):r.slice()},v.rangeRound=function(g){return r=Array.from(g),t=interpolateRound,d()},v.clamp=function(g){return arguments.length?(s=g?!0:identity$3,d()):s!==identity$3},v.interpolate=function(g){return arguments.length?(t=g,d()):t},v.unknown=function(g){return arguments.length?(o=g,v):o},function(g,m){return n=g,a=m,d()}}function continuous(){return transformer$1()(identity$3,identity$3)}function formatDecimal(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function formatDecimalParts(e,r){if((t=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var t,n=e.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+e.slice(t+1)]}function exponent(e){return e=formatDecimalParts(Math.abs(e)),e?e[1]:NaN}function formatGroup(e,r){return function(t,n){for(var a=t.length,o=[],s=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),o.push(t.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[s=(s+1)%e.length];return o.reverse().join(r)}}function formatNumerals(e){return function(r){return r.replace(/[0-9]/g,function(t){return e[+t]})}}var re$2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){if(!(r=re$2.exec(e)))throw new Error("invalid format: "+e);var r;return new FormatSpecifier({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(e){e:for(var r=e.length,t=1,n=-1,a;t<r;++t)switch(e[t]){case".":n=a=t;break;case"0":n===0&&(n=t),a=t;break;default:if(!+e[t])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var prefixExponent;function formatPrefixAuto(e,r){var t=formatDecimalParts(e,r);if(!t)return e+"";var n=t[0],a=t[1],o=a-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+formatDecimalParts(e,Math.max(0,r+o-1))[0]}function formatRounded(e,r){var t=formatDecimalParts(e,r);if(!t)return e+"";var n=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var formatTypes={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:formatDecimal,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>formatRounded(e*100,r),r:formatRounded,s:formatPrefixAuto,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function identity$2(e){return e}var map$8=Array.prototype.map,prefixes=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function formatLocale(e){var r=e.grouping===void 0||e.thousands===void 0?identity$2:formatGroup(map$8.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?identity$2:formatNumerals(map$8.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(v){v=formatSpecifier(v);var g=v.fill,m=v.align,b=v.sign,E=v.symbol,w=v.zero,_=v.width,O=v.comma,S=v.precision,T=v.trim,I=v.type;I==="n"?(O=!0,I="g"):formatTypes[I]||(S===void 0&&(S=12),T=!0,I="g"),(w||g==="0"&&m==="=")&&(w=!0,g="0",m="=");var k=E==="$"?t:E==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",N=E==="$"?n:/[%p]/.test(I)?s:"",R=formatTypes[I],C=/[defgprs%]/.test(I);S=S===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function A(F){var D=k,B=N,Z,ie,te;if(I==="c")B=R(F)+B,F="";else{F=+F;var ee=F<0||1/F<0;if(F=isNaN(F)?u:R(Math.abs(F),S),T&&(F=formatTrim(F)),ee&&+F==0&&b!=="+"&&(ee=!1),D=(ee?b==="("?b:l:b==="-"||b==="("?"":b)+D,B=(I==="s"?prefixes[8+prefixExponent/3]:"")+B+(ee&&b==="("?")":""),C){for(Z=-1,ie=F.length;++Z<ie;)if(te=F.charCodeAt(Z),48>te||te>57){B=(te===46?a+F.slice(Z+1):F.slice(Z))+B,F=F.slice(0,Z);break}}}O&&!w&&(F=r(F,1/0));var j=D.length+F.length+B.length,L=j<_?new Array(_-j+1).join(g):"";switch(O&&w&&(F=r(L+F,L.length?_-B.length:1/0),L=""),m){case"<":F=D+F+B+L;break;case"=":F=D+L+F+B;break;case"^":F=L.slice(0,j=L.length>>1)+D+F+B+L.slice(j);break;default:F=L+D+F+B;break}return o(F)}return A.toString=function(){return v+""},A}function d(v,g){var m=f((v=formatSpecifier(v),v.type="f",v)),b=Math.max(-8,Math.min(8,Math.floor(exponent(g)/3)))*3,E=Math.pow(10,-b),w=prefixes[8+b/3];return function(_){return m(E*_)+w}}return{format:f,formatPrefix:d}}var locale,format,formatPrefix;defaultLocale({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale(e){return locale=formatLocale(e),format=locale.format,formatPrefix=locale.formatPrefix,locale}function precisionFixed(e){return Math.max(0,-exponent(Math.abs(e)))}function precisionPrefix(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(r)/3)))*3-exponent(Math.abs(e)))}function precisionRound(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,exponent(r)-exponent(e))+1}function tickFormat(e,r,t,n){var a=tickStep(e,r,t),o;switch(n=formatSpecifier(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(r));return n.precision==null&&!isNaN(o=precisionPrefix(a,s))&&(n.precision=o),formatPrefix(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=precisionRound(a,Math.max(Math.abs(e),Math.abs(r))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=precisionFixed(a))&&(n.precision=o-(n.type==="%")*2);break}}return format(n)}function linearish(e){var r=e.domain;return e.ticks=function(t){var n=r();return ticks(n[0],n[n.length-1],t??10)},e.tickFormat=function(t,n){var a=r();return tickFormat(a[0],a[a.length-1],t??10,n)},e.nice=function(t){t==null&&(t=10);var n=r(),a=0,o=n.length-1,s=n[a],l=n[o],u,f,d=10;for(l<s&&(f=s,s=l,l=f,f=a,a=o,o=f);d-- >0;){if(f=tickIncrement(s,l,t),f===u)return n[a]=s,n[o]=l,r(n);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function linear(){var e=continuous();return e.copy=function(){return copy$1(e,linear())},initRange.apply(e,arguments),linearish(e)}function transformer(){var e=0,r=1,t,n,a,o,s=identity$3,l=!1,u;function f(v){return v==null||isNaN(v=+v)?u:s(a===0?.5:(v=(o(v)-t)*a,l?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([e,r]=v,t=o(e=+e),n=o(r=+r),a=t===n?0:1/(n-t),f):[e,r]},f.clamp=function(v){return arguments.length?(l=!!v,f):l},f.interpolator=function(v){return arguments.length?(s=v,f):s};function d(v){return function(g){var m,b;return arguments.length?([m,b]=g,s=v(m,b),f):[s(0),s(1)]}}return f.range=d(interpolate),f.rangeRound=d(interpolateRound),f.unknown=function(v){return arguments.length?(u=v,f):u},function(v){return o=v,t=v(e),n=v(r),a=t===n?0:1/(n-t),f}}function copy(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sequential(){var e=linearish(transformer()(identity$3));return e.copy=function(){return copy(e,sequential())},initInterpolator.apply(e,arguments)}class Scale{constructor(e){this.config=e,this.createScale(e.type)}createScale(e){switch(e){case"band":this.scale=band();break;case"linear":this.scale=linear();break}}changeConfig(e){this.createScale(e.type),this.config=e}get type(){return this.config.type}bandwidth(){return this.type==="band"?this.scale.bandwidth():0}updateRange(e){this.scale=this.scale.copy().range(e)}updateDomain(e,r,t){const n=this.config.type==="band"?this.categoryDomain(e,t):this.numericDomain(e,r,t);this.scale=this.scale.copy().domain(n)}map(e){return e.map(r=>this.mapOne(r))}mapOne(e){const{type:r}=this.config;return r==="band"?this.scale(e)+this.scale.bandwidth()/2:this.scale(e)}ticks(){const{type:e}=this.config;return this.config.tickValues!==void 0?this.config.tickValues:e==="band"?this.scale.domain():this.scale.ticks(this.config.ticks||5)}categoryDomain(e,r){const t=r.reduce((n,a)=>n.concat(getCol(a,e)),[]);return Array.from(new Set(t))}numericDomain(data,stackedData,keys){const{domain}=this.config,values=keys.reduce((e,r)=>e.concat(getCol(r,data)),[]),valueMax=max$1$2(stackedData,e=>max$1$2(e,r=>max$1$2(r)))||0,valueMin=min$1$2(stackedData,e=>min$1$2(e,r=>min$1$2(r)))||0,[dataMin,dataMax]=extent(Array.from(new Set(values.concat([valueMin,valueMax])))),yMin=eval(`
      let dataMin = ${dataMin||0}
      ${domain[0]}
    `),yMax=eval(`
      let dataMax = ${dataMax||0}
      ${domain[1]}
    `);return[yMin,yMax]}}class Scales{constructor(r){this.config=r,this.primary=new Scale(r.primary),this.secondary=new Scale(r.secondary)}changeConfig(r){this.config=r,this.primary.changeConfig(r.primary),this.secondary.changeConfig(r.secondary)}updateRange(r,t){t==="horizontal"?(this.primary.updateRange([r.x,r.width]),this.secondary.updateRange([r.height,r.y])):t==="vertical"&&(this.primary.updateRange([r.y,r.height]),this.secondary.updateRange([r.x,r.width]))}updateDomain(r,t,n){this.primary.updateDomain(r,t,getCol(0,n)),this.secondary.updateDomain(r,t,getCol(1,n))}}const pi$1=Math.PI,tau$1=2*pi$1,epsilon$2=1e-6,tauEpsilon=tau$1-epsilon$2;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path$z(){return new Path}Path.prototype=path$z.prototype={constructor:Path,moveTo:function(e,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,r){this._+="L"+(this._x1=+e)+","+(this._y1=+r)},quadraticCurveTo:function(e,r,t,n){this._+="Q"+ +e+","+ +r+","+(this._x1=+t)+","+(this._y1=+n)},bezierCurveTo:function(e,r,t,n,a,o){this._+="C"+ +e+","+ +r+","+ +t+","+ +n+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,r,t,n,a){e=+e,r=+r,t=+t,n=+n,a=+a;var o=this._x1,s=this._y1,l=t-e,u=n-r,f=o-e,d=s-r,v=f*f+d*d;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=r);else if(v>epsilon$2)if(!(Math.abs(d*l-u*f)>epsilon$2)||!a)this._+="L"+(this._x1=e)+","+(this._y1=r);else{var g=t-o,m=n-s,b=l*l+u*u,E=g*g+m*m,w=Math.sqrt(b),_=Math.sqrt(v),O=a*Math.tan((pi$1-Math.acos((b+v-E)/(2*w*_)))/2),S=O/_,T=O/w;Math.abs(S-1)>epsilon$2&&(this._+="L"+(e+S*f)+","+(r+S*d)),this._+="A"+a+","+a+",0,0,"+ +(d*g>f*m)+","+(this._x1=e+T*l)+","+(this._y1=r+T*u)}},arc:function(e,r,t,n,a,o){e=+e,r=+r,t=+t,o=!!o;var s=t*Math.cos(n),l=t*Math.sin(n),u=e+s,f=r+l,d=1^o,v=o?n-a:a-n;if(t<0)throw new Error("negative radius: "+t);this._x1===null?this._+="M"+u+","+f:(Math.abs(this._x1-u)>epsilon$2||Math.abs(this._y1-f)>epsilon$2)&&(this._+="L"+u+","+f),!!t&&(v<0&&(v=v%tau$1+tau$1),v>tauEpsilon?this._+="A"+t+","+t+",0,1,"+d+","+(e-s)+","+(r-l)+"A"+t+","+t+",0,1,"+d+","+(this._x1=u)+","+(this._y1=f):v>epsilon$2&&(this._+="A"+t+","+t+",0,"+ +(v>=pi$1)+","+d+","+(this._x1=e+t*Math.cos(a))+","+(this._y1=r+t*Math.sin(a))))},rect:function(e,r,t,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)+"h"+ +t+"v"+ +n+"h"+-t+"Z"},toString:function(){return this._}};function constant$2(e){return function(){return e}}const abs$3=Math.abs,atan2=Math.atan2,cos=Math.cos,max$4=Math.max,min$4=Math.min,sin=Math.sin,sqrt$1=Math.sqrt,epsilon$1=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(e){return e>1?0:e<-1?pi:Math.acos(e)}function asin(e){return e>=1?halfPi:e<=-1?-halfPi:Math.asin(e)}function arcInnerRadius(e){return e.innerRadius}function arcOuterRadius(e){return e.outerRadius}function arcStartAngle(e){return e.startAngle}function arcEndAngle(e){return e.endAngle}function arcPadAngle(e){return e&&e.padAngle}function intersect(e,r,t,n,a,o,s,l){var u=t-e,f=n-r,d=s-a,v=l-o,g=v*u-d*f;if(!(g*g<epsilon$1))return g=(d*(r-o)-v*(e-a))/g,[e+g*u,r+g*f]}function cornerTangents(e,r,t,n,a,o,s){var l=e-t,u=r-n,f=(s?o:-o)/sqrt$1(l*l+u*u),d=f*u,v=-f*l,g=e+d,m=r+v,b=t+d,E=n+v,w=(g+b)/2,_=(m+E)/2,O=b-g,S=E-m,T=O*O+S*S,I=a-o,k=g*E-b*m,N=(S<0?-1:1)*sqrt$1(max$4(0,I*I*T-k*k)),R=(k*S-O*N)/T,C=(-k*O-S*N)/T,A=(k*S+O*N)/T,F=(-k*O+S*N)/T,D=R-w,B=C-_,Z=A-w,ie=F-_;return D*D+B*B>Z*Z+ie*ie&&(R=A,C=F),{cx:R,cy:C,x01:-d,y01:-v,x11:R*(a/I-1),y11:C*(a/I-1)}}function arc(){var e=arcInnerRadius,r=arcOuterRadius,t=constant$2(0),n=null,a=arcStartAngle,o=arcEndAngle,s=arcPadAngle,l=null;function u(){var f,d,v=+e.apply(this,arguments),g=+r.apply(this,arguments),m=a.apply(this,arguments)-halfPi,b=o.apply(this,arguments)-halfPi,E=abs$3(b-m),w=b>m;if(l||(l=f=path$z()),g<v&&(d=g,g=v,v=d),!(g>epsilon$1))l.moveTo(0,0);else if(E>tau-epsilon$1)l.moveTo(g*cos(m),g*sin(m)),l.arc(0,0,g,m,b,!w),v>epsilon$1&&(l.moveTo(v*cos(b),v*sin(b)),l.arc(0,0,v,b,m,w));else{var _=m,O=b,S=m,T=b,I=E,k=E,N=s.apply(this,arguments)/2,R=N>epsilon$1&&(n?+n.apply(this,arguments):sqrt$1(v*v+g*g)),C=min$4(abs$3(g-v)/2,+t.apply(this,arguments)),A=C,F=C,D,B;if(R>epsilon$1){var Z=asin(R/v*sin(N)),ie=asin(R/g*sin(N));(I-=Z*2)>epsilon$1?(Z*=w?1:-1,S+=Z,T-=Z):(I=0,S=T=(m+b)/2),(k-=ie*2)>epsilon$1?(ie*=w?1:-1,_+=ie,O-=ie):(k=0,_=O=(m+b)/2)}var te=g*cos(_),ee=g*sin(_),j=v*cos(T),L=v*sin(T);if(C>epsilon$1){var G=g*cos(O),Q=g*sin(O),Y=v*cos(S),se=v*sin(S),le;if(E<pi&&(le=intersect(te,ee,Y,se,G,Q,j,L))){var fe=te-le[0],ye=ee-le[1],ce=G-le[0],ve=Q-le[1],be=1/sin(acos((fe*ce+ye*ve)/(sqrt$1(fe*fe+ye*ye)*sqrt$1(ce*ce+ve*ve)))/2),me=sqrt$1(le[0]*le[0]+le[1]*le[1]);A=min$4(C,(v-me)/(be-1)),F=min$4(C,(g-me)/(be+1))}}k>epsilon$1?F>epsilon$1?(D=cornerTangents(Y,se,te,ee,g,F,w),B=cornerTangents(G,Q,j,L,g,F,w),l.moveTo(D.cx+D.x01,D.cy+D.y01),F<C?l.arc(D.cx,D.cy,F,atan2(D.y01,D.x01),atan2(B.y01,B.x01),!w):(l.arc(D.cx,D.cy,F,atan2(D.y01,D.x01),atan2(D.y11,D.x11),!w),l.arc(0,0,g,atan2(D.cy+D.y11,D.cx+D.x11),atan2(B.cy+B.y11,B.cx+B.x11),!w),l.arc(B.cx,B.cy,F,atan2(B.y11,B.x11),atan2(B.y01,B.x01),!w))):(l.moveTo(te,ee),l.arc(0,0,g,_,O,!w)):l.moveTo(te,ee),!(v>epsilon$1)||!(I>epsilon$1)?l.lineTo(j,L):A>epsilon$1?(D=cornerTangents(j,L,G,Q,v,-A,w),B=cornerTangents(te,ee,Y,se,v,-A,w),l.lineTo(D.cx+D.x01,D.cy+D.y01),A<C?l.arc(D.cx,D.cy,A,atan2(D.y01,D.x01),atan2(B.y01,B.x01),!w):(l.arc(D.cx,D.cy,A,atan2(D.y01,D.x01),atan2(D.y11,D.x11),!w),l.arc(0,0,v,atan2(D.cy+D.y11,D.cx+D.x11),atan2(B.cy+B.y11,B.cx+B.x11),w),l.arc(B.cx,B.cy,A,atan2(B.y11,B.x11),atan2(B.y01,B.x01),!w))):l.arc(0,0,v,T,S,w)}if(l.closePath(),f)return l=null,f+""||null}return u.centroid=function(){var f=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,d=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-pi/2;return[cos(d)*f,sin(d)*f]},u.innerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:constant$2(+f),u):e},u.outerRadius=function(f){return arguments.length?(r=typeof f=="function"?f:constant$2(+f),u):r},u.cornerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:constant$2(+f),u):t},u.padRadius=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:constant$2(+f),u):n},u.startAngle=function(f){return arguments.length?(a=typeof f=="function"?f:constant$2(+f),u):a},u.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:constant$2(+f),u):o},u.padAngle=function(f){return arguments.length?(s=typeof f=="function"?f:constant$2(+f),u):s},u.context=function(f){return arguments.length?(l=f??null,u):l},u}function array$1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Linear(e){this._context=e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function curveLinear(e){return new Linear(e)}function x(e){return e[0]}function y(e){return e[1]}function line(e,r){var t=constant$2(!0),n=null,a=curveLinear,o=null;e=typeof e=="function"?e:e===void 0?x:constant$2(e),r=typeof r=="function"?r:r===void 0?y:constant$2(r);function s(l){var u,f=(l=array$1(l)).length,d,v=!1,g;for(n==null&&(o=a(g=path$z())),u=0;u<=f;++u)!(u<f&&t(d=l[u],u,l))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(d,u,l),+r(d,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:constant$2(+l),s):e},s.y=function(l){return arguments.length?(r=typeof l=="function"?l:constant$2(+l),s):r},s.defined=function(l){return arguments.length?(t=typeof l=="function"?l:constant$2(!!l),s):t},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function area(e,r,t){var n=null,a=constant$2(!0),o=null,s=curveLinear,l=null;e=typeof e=="function"?e:e===void 0?x:constant$2(+e),r=typeof r=="function"?r:constant$2(r===void 0?0:+r),t=typeof t=="function"?t:t===void 0?y:constant$2(+t);function u(d){var v,g,m,b=(d=array$1(d)).length,E,w=!1,_,O=new Array(b),S=new Array(b);for(o==null&&(l=s(_=path$z())),v=0;v<=b;++v){if(!(v<b&&a(E=d[v],v,d))===w)if(w=!w)g=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=v-1;m>=g;--m)l.point(O[m],S[m]);l.lineEnd(),l.areaEnd()}w&&(O[v]=+e(E,v,d),S[v]=+r(E,v,d),l.point(n?+n(E,v,d):O[v],t?+t(E,v,d):S[v]))}if(_)return l=null,_+""||null}function f(){return line().defined(a).curve(s).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:constant$2(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:constant$2(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:constant$2(+d),u):n},u.y=function(d){return arguments.length?(r=typeof d=="function"?d:constant$2(+d),t=null,u):r},u.y0=function(d){return arguments.length?(r=typeof d=="function"?d:constant$2(+d),u):r},u.y1=function(d){return arguments.length?(t=d==null?null:typeof d=="function"?d:constant$2(+d),u):t},u.lineX0=u.lineY0=function(){return f().x(e).y(r)},u.lineY1=function(){return f().x(e).y(t)},u.lineX1=function(){return f().x(n).y(r)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:constant$2(!!d),u):a},u.curve=function(d){return arguments.length?(s=d,o!=null&&(l=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=l=null:l=s(o=d),u):o},u}function descending(e,r){return r<e?-1:r>e?1:r>=e?0:NaN}function identity$1(e){return e}function pie(){var e=identity$1,r=descending,t=null,n=constant$2(0),a=constant$2(tau),o=constant$2(0);function s(l){var u,f=(l=array$1(l)).length,d,v,g=0,m=new Array(f),b=new Array(f),E=+n.apply(this,arguments),w=Math.min(tau,Math.max(-tau,a.apply(this,arguments)-E)),_,O=Math.min(Math.abs(w)/f,o.apply(this,arguments)),S=O*(w<0?-1:1),T;for(u=0;u<f;++u)(T=b[m[u]=u]=+e(l[u],u,l))>0&&(g+=T);for(r!=null?m.sort(function(I,k){return r(b[I],b[k])}):t!=null&&m.sort(function(I,k){return t(l[I],l[k])}),u=0,v=g?(w-f*S)/g:0;u<f;++u,E=_)d=m[u],T=b[d],_=E+(T>0?T*v:0)+S,b[d]={data:l[d],index:u,value:T,startAngle:E,endAngle:_,padAngle:O};return b}return s.value=function(l){return arguments.length?(e=typeof l=="function"?l:constant$2(+l),s):e},s.sortValues=function(l){return arguments.length?(r=l,t=null,s):r},s.sort=function(l){return arguments.length?(t=l,r=null,s):t},s.startAngle=function(l){return arguments.length?(n=typeof l=="function"?l:constant$2(+l),s):n},s.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:constant$2(+l),s):a},s.padAngle=function(l){return arguments.length?(o=typeof l=="function"?l:constant$2(+l),s):o},s}function sign(e){return e<0?-1:1}function slope3(e,r,t){var n=e._x1-e._x0,a=r-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),s=(t-e._y1)/(a||n<0&&-0),l=(o*a+s*n)/(n+a);return(sign(o)+sign(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function slope2(e,r){var t=e._x1-e._x0;return t?(3*(e._y1-e._y0)/t-r)/2:r}function point(e,r,t){var n=e._x0,a=e._y0,o=e._x1,s=e._y1,l=(o-n)/3;e._context.bezierCurveTo(n+l,a+l*r,o-l,s-l*t,o,s)}function MonotoneX(e){this._context=e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var t=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,t=slope3(this,e,r)),t);break;default:point(this,this._t0,t=slope3(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=t}}};function MonotoneY(e){this._context=new ReflectContext(e)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,r){MonotoneX.prototype.point.call(this,r,e)};function ReflectContext(e){this._context=e}ReflectContext.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,t,n,a,o){this._context.bezierCurveTo(r,e,n,t,o,a)}};function monotoneX(e){return new MonotoneX(e)}function monotoneY(e){return new MonotoneY(e)}function Natural(e){this._context=e}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,t=e.length;if(t)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),t===2)this._context.lineTo(e[1],r[1]);else for(var n=controlPoints(e),a=controlPoints(r),o=0,s=1;s<t;++o,++s)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[s],r[s]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function controlPoints(e){var r,t=e.length-1,n,a=new Array(t),o=new Array(t),s=new Array(t);for(a[0]=0,o[0]=2,s[0]=e[0]+2*e[1],r=1;r<t-1;++r)a[r]=1,o[r]=4,s[r]=4*e[r]+2*e[r+1];for(a[t-1]=2,o[t-1]=7,s[t-1]=8*e[t-1]+e[t],r=1;r<t;++r)n=a[r]/o[r-1],o[r]-=n,s[r]-=n*s[r-1];for(a[t-1]=s[t-1]/o[t-1],r=t-2;r>=0;--r)a[r]=(s[r]-a[r+1])/o[r];for(o[t-1]=(e[t]+a[t-1])/2,r=0;r<t-1;++r)o[r]=2*e[r+1]-a[r+1];return[a,o]}function curveNatural(e){return new Natural(e)}function Step(e,r){this._context=e,this._t=r}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var t=this._x*(1-this._t)+e*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,r)}break}}this._x=e,this._y=r}};function curveStep(e){return new Step(e,.5)}function stepAfter(e){return new Step(e,1)}function none$1(e,r){if((s=e.length)>1)for(var t=1,n,a,o=e[r[0]],s,l=o.length;t<s;++t)for(a=o,o=e[r[t]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function stackOrderNone(e){for(var r=e.length,t=new Array(r);--r>=0;)t[r]=r;return t}function stackValue(e,r){return e[r]}function stackSeries(e){const r=[];return r.key=e,r}function stack(){var e=constant$2([]),r=stackOrderNone,t=none$1,n=stackValue;function a(o){var s=Array.from(e.apply(this,arguments),stackSeries),l,u=s.length,f=-1,d;for(const v of o)for(l=0,++f;l<u;++l)(s[l][f]=[0,+n(v,s[l].key,f,o)]).data=v;for(l=0,d=array$1(r(s));l<u;++l)s[d[l]].index=l;return t(s,d),s}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:constant$2(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:constant$2(+o),a):n},a.order=function(o){return arguments.length?(r=o==null?stackOrderNone:typeof o=="function"?o:constant$2(Array.from(o)),a):r},a.offset=function(o){return arguments.length?(t=o??none$1,a):t},a}const defaultConfig={size:{width:500,height:400},margin:{top:0,right:0,bottom:0,left:0},direction:"horizontal",axis:{primary:{domain:["dataMin","dataMax"],type:"band"},secondary:{domain:["dataMin","dataMax"],type:"linear"}},axisSpace:{x:40,y:20}};class Chart{constructor(r,t){this.data=r,this.layers=[],this.config=mergeDeepLeft$1(pickBy$1(n=>n!==void 0,t),defaultConfig),this.scales=new Scales(this.config.axis),this.updates=ref(0)}get bandScale(){return this.scales.primary.type==="band"?this.scales.primary:this.scales.secondary.type==="band"?this.scales.secondary:null}get canvas(){const{margin:r,size:t}=this.config,n=this.config.axisSpace;return this.config.axis.primary.hide&&(n.y=0),this.config.axis.secondary.hide&&(n.x=0),{x:r.left+n.x,y:r.top,width:t.width-r.right,height:t.height-r.bottom-n.y}}getStackedData(r){return stack().keys(r).order(stackOrderNone)(this.data)}changeData(r){this.data=r,this.update("data")}changeConfig(r){this.config=mergeDeepLeft$1(pickBy$1(t=>t!==void 0,r),this.config),this.scales.changeConfig(this.config.axis),this.update("config")}addLayer(r){this.layers.push(r),this.update("layers")}removeLayer(r){this.layers=this.layers.filter(t=>t.id!==r),this.update("layers")}getLayers(r){return r?this.layers.filter(t=>t.type===r):this.layers}getData(r){return r.reduce((t,n)=>t.concat(getCol(n,this.data)),[])}getKeys(r=-1,t=null){const n=this.layers.filter(a=>t?a.type===t:!0).map(a=>a.dataKeys);return r===-1?n:getCol(r,n)}getStackedKeys(r=-1,t=null){const n=this.layers.filter(a=>t?a.type===t&&a.props.stacked:a.props.stacked).map(a=>a.dataKeys);return r===-1?n:getCol(r,n)}update(r){const t=this.getStackedData(this.getStackedKeys(1));this.scales.updateRange(this.canvas,this.config.direction),this.scales.updateDomain(this.data,t,this.getKeys()),this.updates.value+=1}}var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(e){var r=e+="",t=r.indexOf(":");return t>=0&&(r=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),namespaces.hasOwnProperty(r)?{space:namespaces[r],local:e}:e}function creatorInherit(e){return function(){var r=this.ownerDocument,t=this.namespaceURI;return t===xhtml&&r.documentElement.namespaceURI===xhtml?r.createElement(e):r.createElementNS(t,e)}}function creatorFixed(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function creator(e){var r=namespace(e);return(r.local?creatorFixed:creatorInherit)(r)}function none(){}function selector(e){return e==null?none:function(){return this.querySelector(e)}}function selection_select(e){typeof e!="function"&&(e=selector(e));for(var r=this._groups,t=r.length,n=new Array(t),a=0;a<t;++a)for(var o=r[a],s=o.length,l=n[a]=new Array(s),u,f,d=0;d<s;++d)(u=o[d])&&(f=e.call(u,u.__data__,d,o))&&("__data__"in u&&(f.__data__=u.__data__),l[d]=f);return new Selection(n,this._parents)}function array$2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function empty(){return[]}function selectorAll(e){return e==null?empty:function(){return this.querySelectorAll(e)}}function arrayAll(e){return function(){return array$2(e.apply(this,arguments))}}function selection_selectAll(e){typeof e=="function"?e=arrayAll(e):e=selectorAll(e);for(var r=this._groups,t=r.length,n=[],a=[],o=0;o<t;++o)for(var s=r[o],l=s.length,u,f=0;f<l;++f)(u=s[f])&&(n.push(e.call(u,u.__data__,f,s)),a.push(u));return new Selection(n,a)}function matcher(e){return function(){return this.matches(e)}}function childMatcher(e){return function(r){return r.matches(e)}}var find$1=Array.prototype.find;function childFind(e){return function(){return find$1.call(this.children,e)}}function childFirst(){return this.firstElementChild}function selection_selectChild(e){return this.select(e==null?childFirst:childFind(typeof e=="function"?e:childMatcher(e)))}var filter$5=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(e){return function(){return filter$5.call(this.children,e)}}function selection_selectChildren(e){return this.selectAll(e==null?children:childrenFilter(typeof e=="function"?e:childMatcher(e)))}function selection_filter(e){typeof e!="function"&&(e=matcher(e));for(var r=this._groups,t=r.length,n=new Array(t),a=0;a<t;++a)for(var o=r[a],s=o.length,l=n[a]=[],u,f=0;f<s;++f)(u=o[f])&&e.call(u,u.__data__,f,o)&&l.push(u);return new Selection(n,this._parents)}function sparse(e){return new Array(e.length)}function selection_enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}EnterNode.prototype={constructor:EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function constant$1(e){return function(){return e}}function bindIndex(e,r,t,n,a,o){for(var s=0,l,u=r.length,f=o.length;s<f;++s)(l=r[s])?(l.__data__=o[s],n[s]=l):t[s]=new EnterNode(e,o[s]);for(;s<u;++s)(l=r[s])&&(a[s]=l)}function bindKey(e,r,t,n,a,o,s){var l,u,f=new Map,d=r.length,v=o.length,g=new Array(d),m;for(l=0;l<d;++l)(u=r[l])&&(g[l]=m=s.call(u,u.__data__,l,r)+"",f.has(m)?a[l]=u:f.set(m,u));for(l=0;l<v;++l)m=s.call(e,o[l],l,o)+"",(u=f.get(m))?(n[l]=u,u.__data__=o[l],f.delete(m)):t[l]=new EnterNode(e,o[l]);for(l=0;l<d;++l)(u=r[l])&&f.get(g[l])===u&&(a[l]=u)}function datum(e){return e.__data__}function selection_data(e,r){if(!arguments.length)return Array.from(this,datum);var t=r?bindKey:bindIndex,n=this._parents,a=this._groups;typeof e!="function"&&(e=constant$1(e));for(var o=a.length,s=new Array(o),l=new Array(o),u=new Array(o),f=0;f<o;++f){var d=n[f],v=a[f],g=v.length,m=arraylike(e.call(d,d&&d.__data__,f,n)),b=m.length,E=l[f]=new Array(b),w=s[f]=new Array(b),_=u[f]=new Array(g);t(d,v,E,w,_,m,r);for(var O=0,S=0,T,I;O<b;++O)if(T=E[O]){for(O>=S&&(S=O+1);!(I=w[S])&&++S<b;);T._next=I||null}}return s=new Selection(s,n),s._enter=l,s._exit=u,s}function arraylike(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function selection_exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)}function selection_join(e,r,t){var n=this.enter(),a=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),r!=null&&(a=r(a),a&&(a=a.selection())),t==null?o.remove():t(o),n&&a?n.merge(a).order():a}function selection_merge(e){for(var r=e.selection?e.selection():e,t=this._groups,n=r._groups,a=t.length,o=n.length,s=Math.min(a,o),l=new Array(a),u=0;u<s;++u)for(var f=t[u],d=n[u],v=f.length,g=l[u]=new Array(v),m,b=0;b<v;++b)(m=f[b]||d[b])&&(g[b]=m);for(;u<a;++u)l[u]=t[u];return new Selection(l,this._parents)}function selection_order(){for(var e=this._groups,r=-1,t=e.length;++r<t;)for(var n=e[r],a=n.length-1,o=n[a],s;--a>=0;)(s=n[a])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function selection_sort(e){e||(e=ascending);function r(v,g){return v&&g?e(v.__data__,g.__data__):!v-!g}for(var t=this._groups,n=t.length,a=new Array(n),o=0;o<n;++o){for(var s=t[o],l=s.length,u=a[o]=new Array(l),f,d=0;d<l;++d)(f=s[d])&&(u[d]=f);u.sort(r)}return new Selection(a,this._parents).order()}function ascending(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function selection_call(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var e=this._groups,r=0,t=e.length;r<t;++r)for(var n=e[r],a=0,o=n.length;a<o;++a){var s=n[a];if(s)return s}return null}function selection_size(){let e=0;for(const r of this)++e;return e}function selection_empty(){return!this.node()}function selection_each(e){for(var r=this._groups,t=0,n=r.length;t<n;++t)for(var a=r[t],o=0,s=a.length,l;o<s;++o)(l=a[o])&&e.call(l,l.__data__,o,a);return this}function attrRemove(e){return function(){this.removeAttribute(e)}}function attrRemoveNS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant(e,r){return function(){this.setAttribute(e,r)}}function attrConstantNS(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function attrFunction(e,r){return function(){var t=r.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function attrFunctionNS(e,r){return function(){var t=r.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function selection_attr(e,r){var t=namespace(e);if(arguments.length<2){var n=this.node();return t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}return this.each((r==null?t.local?attrRemoveNS:attrRemove:typeof r=="function"?t.local?attrFunctionNS:attrFunction:t.local?attrConstantNS:attrConstant)(t,r))}function defaultView(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function styleRemove(e){return function(){this.style.removeProperty(e)}}function styleConstant(e,r,t){return function(){this.style.setProperty(e,r,t)}}function styleFunction(e,r,t){return function(){var n=r.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,t)}}function selection_style(e,r,t){return arguments.length>1?this.each((r==null?styleRemove:typeof r=="function"?styleFunction:styleConstant)(e,r,t??"")):styleValue(this.node(),e)}function styleValue(e,r){return e.style.getPropertyValue(r)||defaultView(e).getComputedStyle(e,null).getPropertyValue(r)}function propertyRemove(e){return function(){delete this[e]}}function propertyConstant(e,r){return function(){this[e]=r}}function propertyFunction(e,r){return function(){var t=r.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function selection_property(e,r){return arguments.length>1?this.each((r==null?propertyRemove:typeof r=="function"?propertyFunction:propertyConstant)(e,r)):this.node()[e]}function classArray(e){return e.trim().split(/^|\s+/)}function classList(e){return e.classList||new ClassList(e)}function ClassList(e){this._node=e,this._names=classArray(e.getAttribute("class")||"")}ClassList.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function classedAdd(e,r){for(var t=classList(e),n=-1,a=r.length;++n<a;)t.add(r[n])}function classedRemove(e,r){for(var t=classList(e),n=-1,a=r.length;++n<a;)t.remove(r[n])}function classedTrue(e){return function(){classedAdd(this,e)}}function classedFalse(e){return function(){classedRemove(this,e)}}function classedFunction(e,r){return function(){(r.apply(this,arguments)?classedAdd:classedRemove)(this,e)}}function selection_classed(e,r){var t=classArray(e+"");if(arguments.length<2){for(var n=classList(this.node()),a=-1,o=t.length;++a<o;)if(!n.contains(t[a]))return!1;return!0}return this.each((typeof r=="function"?classedFunction:r?classedTrue:classedFalse)(t,r))}function textRemove(){this.textContent=""}function textConstant(e){return function(){this.textContent=e}}function textFunction(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function selection_text(e){return arguments.length?this.each(e==null?textRemove:(typeof e=="function"?textFunction:textConstant)(e)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(e){return function(){this.innerHTML=e}}function htmlFunction(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function selection_html(e){return arguments.length?this.each(e==null?htmlRemove:(typeof e=="function"?htmlFunction:htmlConstant)(e)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(e){var r=typeof e=="function"?e:creator(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function constantNull(){return null}function selection_insert(e,r){var t=typeof e=="function"?e:creator(e),n=r==null?constantNull:typeof r=="function"?r:selector(r);return this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})}function remove(){var e=this.parentNode;e&&e.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function selection_cloneDeep(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function selection_clone(e){return this.select(e?selection_cloneDeep:selection_cloneShallow)}function selection_datum(e){return arguments.length?this.property("__data__",e):this.node().__data__}function contextListener(e){return function(r){e.call(this,r,this.__data__)}}function parseTypenames(e){return e.trim().split(/^|\s+/).map(function(r){var t="",n=r.indexOf(".");return n>=0&&(t=r.slice(n+1),r=r.slice(0,n)),{type:r,name:t}})}function onRemove(e){return function(){var r=this.__on;if(!!r){for(var t=0,n=-1,a=r.length,o;t<a;++t)o=r[t],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):r[++n]=o;++n?r.length=n:delete this.__on}}}function onAdd(e,r,t){return function(){var n=this.__on,a,o=contextListener(r);if(n){for(var s=0,l=n.length;s<l;++s)if((a=n[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=t),a.value=r;return}}this.addEventListener(e.type,o,t),a={type:e.type,name:e.name,value:r,listener:o,options:t},n?n.push(a):this.__on=[a]}}function selection_on(e,r,t){var n=parseTypenames(e+""),a,o=n.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,f=l.length,d;u<f;++u)for(a=0,d=l[u];a<o;++a)if((s=n[a]).type===d.type&&s.name===d.name)return d.value}return}for(l=r?onAdd:onRemove,a=0;a<o;++a)this.each(l(n[a],r,t));return this}function dispatchEvent(e,r,t){var n=defaultView(e),a=n.CustomEvent;typeof a=="function"?a=new a(r,t):(a=n.document.createEvent("Event"),t?(a.initEvent(r,t.bubbles,t.cancelable),a.detail=t.detail):a.initEvent(r,!1,!1)),e.dispatchEvent(a)}function dispatchConstant(e,r){return function(){return dispatchEvent(this,e,r)}}function dispatchFunction(e,r){return function(){return dispatchEvent(this,e,r.apply(this,arguments))}}function selection_dispatch(e,r){return this.each((typeof r=="function"?dispatchFunction:dispatchConstant)(e,r))}function*selection_iterator(){for(var e=this._groups,r=0,t=e.length;r<t;++r)for(var n=e[r],a=0,o=n.length,s;a<o;++a)(s=n[a])&&(yield s)}var root=[null];function Selection(e,r){this._groups=e,this._parents=r}function selection_selection(){return this}Selection.prototype={constructor:Selection,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(e){return typeof e=="string"?new Selection([[document.querySelector(e)]],[document.documentElement]):new Selection([[e]],root)}function sourceEvent(e){let r;for(;r=e.sourceEvent;)e=r;return e}function pointer(e,r){if(e=sourceEvent(e),r===void 0&&(r=e.currentTarget),r){var t=r.ownerSVGElement||r;if(t.createSVGPoint){var n=t.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(r.getScreenCTM().inverse()),[n.x,n.y]}if(r.getBoundingClientRect){var a=r.getBoundingClientRect();return[e.clientX-a.left-r.clientLeft,e.clientY-a.top-r.clientTop]}}return[e.pageX,e.pageY]}function identity(e){return e}var top=1,right=2,bottom=3,left=4,epsilon=1e-6;function translateX(e){return"translate("+e+",0)"}function translateY(e){return"translate(0,"+e+")"}function number$3(e){return r=>+e(r)}function center(e,r){return r=Math.max(0,e.bandwidth()-r*2)/2,e.round()&&(r=Math.round(r)),t=>+e(t)+r}function entering(){return!this.__axis}function axis(e,r){var t=[],n=null,a=null,o=6,s=6,l=3,u=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,f=e===top||e===left?-1:1,d=e===left||e===right?"x":"y",v=e===top||e===bottom?translateX:translateY;function g(m){var b=n??(r.ticks?r.ticks.apply(r,t):r.domain()),E=a??(r.tickFormat?r.tickFormat.apply(r,t):identity),w=Math.max(o,0)+l,_=r.range(),O=+_[0]+u,S=+_[_.length-1]+u,T=(r.bandwidth?center:number$3)(r.copy(),u),I=m.selection?m.selection():m,k=I.selectAll(".domain").data([null]),N=I.selectAll(".tick").data(b,r).order(),R=N.exit(),C=N.enter().append("g").attr("class","tick"),A=N.select("line"),F=N.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge(C),A=A.merge(C.append("line").attr("stroke","currentColor").attr(d+"2",f*o)),F=F.merge(C.append("text").attr("fill","currentColor").attr(d,f*w).attr("dy",e===top?"0em":e===bottom?"0.71em":"0.32em")),m!==I&&(k=k.transition(m),N=N.transition(m),A=A.transition(m),F=F.transition(m),R=R.transition(m).attr("opacity",epsilon).attr("transform",function(D){return isFinite(D=T(D))?v(D+u):this.getAttribute("transform")}),C.attr("opacity",epsilon).attr("transform",function(D){var B=this.parentNode.__axis;return v((B&&isFinite(B=B(D))?B:T(D))+u)})),R.remove(),k.attr("d",e===left||e===right?s?"M"+f*s+","+O+"H"+u+"V"+S+"H"+f*s:"M"+u+","+O+"V"+S:s?"M"+O+","+f*s+"V"+u+"H"+S+"V"+f*s:"M"+O+","+u+"H"+S),N.attr("opacity",1).attr("transform",function(D){return v(T(D)+u)}),A.attr(d+"2",f*o),F.attr(d,f*w).text(E),I.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===right?"start":e===left?"end":"middle"),I.each(function(){this.__axis=T})}return g.scale=function(m){return arguments.length?(r=m,g):r},g.ticks=function(){return t=Array.from(arguments),g},g.tickArguments=function(m){return arguments.length?(t=m==null?[]:Array.from(m),g):t.slice()},g.tickValues=function(m){return arguments.length?(n=m==null?null:Array.from(m),g):n&&n.slice()},g.tickFormat=function(m){return arguments.length?(a=m,g):a},g.tickSize=function(m){return arguments.length?(o=s=+m,g):o},g.tickSizeInner=function(m){return arguments.length?(o=+m,g):o},g.tickSizeOuter=function(m){return arguments.length?(s=+m,g):s},g.tickPadding=function(m){return arguments.length?(l=+m,g):l},g.offset=function(m){return arguments.length?(u=+m,g):u},g}function axisBottom(e){return axis(bottom,e)}function axisLeft(e){return axis(left,e)}var useChart=()=>inject("chart"),usePoints=(e,r={stacked:!1,type:"line"})=>{const t=ref([]),n=useChart(),{stacked:a,type:o}=r;function s(u,f){const{primary:d,secondary:v}=n.scales;return n.config.direction==="horizontal"?f.map(g=>({x:d.mapOne(g.data[u]),y:v.mapOne(g[1]),props:{values:[...g],data:g.data}})).filter(g=>!isNaN(g.x)&&!isNaN(g.y)):n.config.direction==="vertical"?f.map(g=>({x:v.mapOne(g[1]),y:d.mapOne(g.data[u]),props:{values:[...g],data:g.data}})).filter(g=>!isNaN(g.x)&&!isNaN(g.y)):[]}function l(){const u=n.getStackedKeys(1,o),[f,d]=e,g=n.getStackedData(a?u:[e[1]]).find(m=>m.key===d);g&&(t.value=s(f,g))}return watch(n.updates,()=>{l()},{immediate:!0}),{points:t}},useMouse=()=>inject("chartMouse",{index:-1,position:{x:0,y:0},hover:!1}),useBars=(e,r={maxWidth:-1,gap:5,stacked:!1,type:"bar"})=>{const t=ref([]),n=useChart(),{stacked:a,type:o,gap:s}=r;function l(){const{primary:m,secondary:b}=n.scales,E=m.type==="band"?m:b,w=m.type==="band"?b:m;return{bandScale:E,linearScale:w}}function u(){if(a)return 0;const b=n.getLayers(o).findIndex(E=>E.dataKeys.join(",")===e.join(","));return b>-1?b:0}function f(){const{bandScale:m}=l(),b=r.maxWidth>-1?Math.min(m.bandwidth()-s,r.maxWidth):m.bandwidth()-s,E=n.getLayers(o);return E.length>0&&!a?b/E.length:b}function d(){if(a)return 0;const{bandScale:m}=l(),b=m.bandwidth()-s,E=n.getLayers(o).length*f();return(b-E)/2}function v(m,b){const{bandScale:E,linearScale:w}=l(),_=u(),O=f(),S=d();return b.map(T=>{const I={x:0,y:0,width:0,height:0,props:{values:[...T],data:T.data}},k=E.scale(T.data[m]),[N,R]=w.map(T);return n.config.direction==="horizontal"?(I.y=Math.min(N,R),I.height=Math.abs(N-R),I.x=S+k+_*O+s/2,I.width=O):n.config.direction==="vertical"&&(I.x=Math.min(N,R),I.width=Math.abs(N-R),I.y=S+k+_*O+s/2,I.height=O),I})}function g(){const m=a?n.getStackedKeys(1,o):[e[1]],[b,E]=e,_=n.getStackedData(m).find(O=>O.key===E);_&&(t.value=v(b,_))}return watch(n.updates,()=>{g()}),{bars:t}},useTooltip=()=>{const e=useMouse(),r=useChart(),t=computed(()=>e.hover),n=ref({x:0,y:0}),a=ref({});return watch(e,()=>{const{primary:o}=r.scales,s=r.getKeys(0),l=r.getData(s),[u]=o.map([l[e.index]]);u&&(r.config.direction==="horizontal"?n.value={x:u,y:e.position.y}:r.config.direction==="vertical"?n.value={x:e.position.x,y:u}:n.value={x:e.position.x,y:e.position.y});const f=r.data[e.index];f&&(a.value=Object.assign(Object.assign({},f),{idx:e.index}))}),{position:n,payload:a,show:t}},useResize=e=>{const r=ref(0),t=ref(0);let n=null,a=null;function o(l,u){r.value=l,t.value=u,a&&a()}function s(l){a=l}return onMounted(()=>{n=new window.ResizeObserver(l=>{const u=l[0].contentRect.width,f=l[0].contentRect.height;o(u,f)}),n.observe(e.value)}),onUnmounted(()=>{n.disconnect()}),{width:r,height:t,onResize:s}},script$d=defineComponent({name:"Axis",props:{position:{type:String,default:"bottom"},isPrimary:{type:Boolean,default:!1}},setup(e){const r=ref(),t=useChart(),n=computed(()=>e.position==="bottom"?axisBottom:axisLeft),a=ref(t.canvas),o={ticks:5};function s(){if(t.data.length>0){const{primary:l,secondary:u}=t.scales,f=e.isPrimary?l:u,d=Object.assign({},e.isPrimary?l.config:u.config,o),v=n.value(f.scale);return d.format&&v.tickFormat(d.format),d.ticks!==void 0&&v.ticks(d.ticks),d.tickValues!==void 0&&v.tickValues(d.tickValues),d.useConfig&&d.useConfig(v),select(r.value).call(v),v}return null}return watch(()=>e.isPrimary,()=>{s()}),watch(t.updates,()=>{a.value=t.canvas,s()}),{el:r,canvas:a}}});const _hoisted_1$b=["transform"],_hoisted_2$8=["transform"];function render$d(e,r,t,n,a,o){return e.position==="bottom"?(openBlock(),createElementBlock("g",{key:0,class:normalizeClass("layer-axis-x"),ref:"el",transform:`translate(0, ${e.canvas.height})`},null,8,_hoisted_1$b)):(openBlock(),createElementBlock("g",{key:1,class:normalizeClass("layer-axis-y"),ref:"el",transform:`translate(${e.canvas.x}, 0)`},null,8,_hoisted_2$8))}script$d.render=render$d;script$d.__file="src/components/Axis/index.vue";var script$c=defineComponent({name:"Chart",components:{Axis:script$d},props:{data:{type:Array,default:()=>[]},margin:{type:Object,default:()=>({top:0,right:0,bottom:0,left:0}),required:!1},size:{type:Object,default:()=>({width:500,height:400}),required:!1},direction:{type:String,default:"horizontal",required:!1},axis:{type:Object,required:!1},config:{type:Object,default:()=>({})}},setup(e){const r=ref(null),t=ref(),n=ref(),a=reactive({x:40,y:20}),o=new Chart(e.data,e.config),s=computed(()=>e.axis&&e.axis.primary&&e.axis.primary.hide),l=computed(()=>e.axis&&e.axis.secondary&&e.axis.secondary.hide),u=reactive({index:-1,position:{x:0,y:0},hover:!1});provide("chart",o),provide("chartMouse",u),watch(()=>e.data,()=>{o&&o.changeData(e.data)},{immediate:!0}),watch(()=>e.config,()=>{o&&o.changeConfig(e.config)}),watch(()=>[Object.assign({},a),e.direction,e.size,e.margin,e.axis],()=>{o&&o.changeConfig({axisSpace:Object.assign({},a),direction:e.direction,size:e.size,margin:e.margin,axis:e.axis})},{immediate:!0});const f=new ResizeObserver(g=>{for(const m of g)n.value&&m.target===n.value.$el?a.y=m.contentRect.height:t.value&&m.target===t.value.$el&&(a.x=m.contentRect.width)});onMounted(()=>{n.value&&f.observe(n.value.$el),t.value&&f.observe(t.value.$el)}),onUnmounted(()=>{f.disconnect(),console.log("unmounted")});function d(){e.config.controlHover!==!1&&(u.index=-1,u.hover=!1)}function v(g){if(e.config.controlHover===!1)return;u.hover=!0,u.position={x:pointer(g)[0],y:pointer(g)[1]};const{primary:m}=o.scales,b=o.getKeys(0),E=o.getData(b);if(o.config.direction==="horizontal")if(m.type==="band"){const w=m.bandwidth(),_=u.position.x-o.canvas.x;u.index=Math.round((_+w/2)/w)-1}else u.index=bisectCenter(E,m.scale.invert(u.position.x));else if(o.config.direction==="vertical")if(m.type==="band"){const w=m.bandwidth(),_=u.position.y-o.canvas.y;u.index=Math.round((_+w/2)/w)-1}else u.index=bisectCenter(E,m.scale.invert(u.position.y))}return{axBottomEl:n,axLeftEl:t,chartEl:r,hideX:s,hideY:l,onMouseMove:v,onMouseOut:d}}});const _hoisted_1$a={class:"chart",ref:"chartEl"},_hoisted_2$7=["width","height","viewBox"],_hoisted_3$6={class:"layers"},_hoisted_4$3={class:"axis"},_hoisted_5$3={class:"widgets"};function render$c(e,r,t,n,a,o){const s=resolveComponent("axis");return openBlock(),createElementBlock("div",_hoisted_1$a,[(openBlock(),createElementBlock("svg",{width:e.size.width,height:e.size.height,viewBox:`0 0 ${e.size.width} ${e.size.height}`,onMousemove:r[0]||(r[0]=(...l)=>e.onMouseMove&&e.onMouseMove(...l)),onMouseleave:r[1]||(r[1]=(...l)=>e.onMouseOut&&e.onMouseOut(...l))},[createBaseVNode("g",_hoisted_3$6,[renderSlot(e.$slots,"layers")]),createBaseVNode("g",_hoisted_4$3,[e.hideX?createCommentVNode("v-if",!0):(openBlock(),createBlock(s,{key:0,position:"bottom",ref:"axBottomEl",isPrimary:e.direction==="horizontal"},null,8,["isPrimary"])),e.hideY?createCommentVNode("v-if",!0):(openBlock(),createBlock(s,{key:1,position:"left",ref:"axLeftEl",isPrimary:e.direction==="vertical"},null,8,["isPrimary"]))])],40,_hoisted_2$7)),createBaseVNode("div",_hoisted_5$3,[renderSlot(e.$slots,"widgets")])],512)}function styleInject(e,r){r===void 0&&(r={});var t=r.insertAt;if(!(!e||typeof document=="undefined")){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var css_248z$1=`
.chart {
  position: relative;
}
`;styleInject(css_248z$1);script$c.render=render$c;script$c.__file="src/components/Chart/index.vue";var script$b=defineComponent({name:"Layer",props:{type:{type:String,default:"custom"},dataKeys:{type:Object,required:!0}},setup(e){const r=useChart(),t=new Date().getTime().toString(),n=inject("layerProps",{});return onMounted(()=>{r.addLayer({id:t,type:e.type,dataKeys:e.dataKeys,props:n})}),onUnmounted(()=>{r.removeLayer(t)}),{}}});function render$b(e,r,t,n,a,o){return openBlock(),createElementBlock("g",{class:normalizeClass(`layer-${e.type}`)},[renderSlot(e.$slots,"default")],2)}script$b.render=render$b;script$b.__file="src/components/Layer/index.vue";var script$a=defineComponent({name:"Area",components:{Layer:script$b},props:{areaStyle:{type:Object,required:!1},dataKeys:{type:Object,required:!0},type:{type:String,default:()=>"normal"},gap:{type:Number,default:0}},setup(e){const r=useChart(),{stacked:t}=inject("layerProps",{stacked:!1}),{points:n}=usePoints(e.dataKeys,{stacked:!1,type:"area"}),{bars:a}=useBars(e.dataKeys,{stacked:t,type:"area",gap:e.gap,maxWidth:-1}),o=ref(""),s=d=>(console.log(d,r.config.direction),{normal:curveLinear,natural:curveNatural,step:curveStep,monotone:r.config.direction==="horizontal"?monotoneX:monotoneY}[d]),l=()=>{const{secondary:d}=r.scales;return t?area().curve(s(e.type)).x0(v=>v.x+v.width/2).y0(v=>v.y).x1(v=>v.x+v.width/2).y1(v=>v.y+v.height):r.config.direction==="vertical"?area().curve(s(e.type)).y0(v=>v.y).y1(v=>v.y).x0(v=>v.x).x1(v=>d.scale(0)):area().curve(s(e.type)).x0(v=>v.x).x1(v=>v.x).y0(v=>v.y).y1(v=>d.scale(0))},u=computed(()=>()=>Object.assign({fill:"blue",fillOpacity:.25,stroke:"none"},e.areaStyle)),f=d=>mapKeys(kebabize,d);return watch(r.updates,()=>{o.value=t?l()(a.value):l()(n.value)}),{d:o,getStyle:u,toKebabCase:f}}});const _hoisted_1$9=["d"];function render$a(e,r,t,n,a,o){const s=resolveComponent("Layer");return openBlock(),createBlock(s,{type:"area",dataKeys:e.dataKeys},{default:withCtx(()=>[createBaseVNode("path",mergeProps(e.toKebabCase(e.getStyle()),{d:e.d}),null,16,_hoisted_1$9)]),_:1},8,["dataKeys"])}script$a.render=render$a;script$a.__file="src/components/Area/index.vue";var script$9=defineComponent({name:"Line",components:{Layer:script$b},props:{lineStyle:{type:Object,required:!1},dotStyle:{type:Object,required:!1},hideDot:{type:Boolean,default:!1},dataKeys:{type:Object,required:!0},type:{type:String,default:()=>"normal"}},setup(e){const{stacked:r}=inject("layerProps",{stacked:!1}),t=useMouse(),n=useChart(),a=ref(""),{points:o}=usePoints(e.dataKeys,{stacked:r,type:"line"}),s={normal:curveLinear,natural:curveNatural,step:stepAfter,monotone:monotoneX};function l(){let g=s[e.type];e.type==="monotone"&&n.config.direction==="vertical"&&(g=monotoneY),a.value=line().x(m=>m.x).y(m=>m.y).curve(g)(o.value)}function u(g){const m=e.dotStyle,b=f.value();return Object.assign({r:g?5:3,stroke:b.stroke,strokeWidth:b.strokeWidth,fill:"white"},m)}const f=computed(()=>is$1(Function,e.lineStyle)?e.lineStyle:()=>Object.assign({stroke:"#8884d8",strokeWidth:2},e.lineStyle)),d=computed(()=>is$1(Function,e.dotStyle)?e.dotStyle:({active:g})=>u(g));return watch(o,()=>l()),watch(n.updates,()=>l()),{d:a,mouse:t,points:o,toKebabCase:g=>mapKeys(kebabize,g),getStyle:f,getDotStyle:d}}});const _hoisted_1$8=["d"],_hoisted_2$6={key:0},_hoisted_3$5=["cx","cy"];function render$9(e,r,t,n,a,o){const s=resolveComponent("Layer");return openBlock(),createBlock(s,{dataKeys:e.dataKeys,type:"line"},{default:withCtx(()=>[createBaseVNode("path",mergeProps({class:"chart-line"},e.toKebabCase(e.getStyle()),{d:e.d,fill:"none"}),null,16,_hoisted_1$8),createCommentVNode(` :stroke="stroke"
      :stroke-width="strokeWidth"
      stroke-linejoin="round"
      stroke-linecap="round" `),e.hideDot?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("g",_hoisted_2$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.points,(l,u)=>(openBlock(),createElementBlock("circle",mergeProps(e.toKebabCase(e.getDotStyle({active:u===e.mouse.index})),{key:u,cx:l.x,cy:l.y}),null,16,_hoisted_3$5))),128))]))]),_:1},8,["dataKeys"])}script$9.render=render$9;script$9.__file="src/components/Line/index.vue";var script$8=defineComponent({name:"Bar",components:{Layer:script$b},props:{selectedBar:{type:Object,default:()=>null},barStyle:{type:[Function,Object],default:()=>({fill:"blue"})},barStyleSelected:{type:[Function,Object],default:()=>({fill:"darkblue"})},maxWidth:{type:Number,default:-1},dataKeys:{type:Object,required:!0},gap:{type:Number,default:5}},setup(e,{emit:r}){const t=useMouse(),{stacked:n,maxWidth:a}=inject("layerProps",{stacked:!1,maxWidth:-1}),{bars:o}=useBars(e.dataKeys,{maxWidth:Math.max(e.maxWidth,a),stacked:n,gap:e.gap,type:"bar"}),s=computed(()=>is$1(Function,e.barStyle)?e.barStyle:()=>e.barStyle),l=computed(()=>is$1(Function,e.barStyleSelected)?e.barStyleSelected:()=>e.barStyleSelected),u=d=>mapKeys(kebabize,d);function f(d,v){r("barClick",Object.assign(Object.assign({},d),{idx:v}))}return{getStyle:s,getStyleSelected:l,toKebabCase:u,bars:o,mouse:t,onBarClick:f}}});const _hoisted_1$7={key:0},_hoisted_2$5=["x","y","width","height","onClick"],_hoisted_3$4=["x","y","width","height"];function render$8(e,r,t,n,a,o){const s=resolveComponent("Layer");return openBlock(),createBlock(s,{dataKeys:e.dataKeys,type:"bar"},{default:withCtx(()=>[e.bars.length===0?(openBlock(),createElementBlock("text",_hoisted_1$7,"No Data")):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.bars,(l,u)=>(openBlock(),createElementBlock("rect",mergeProps({class:"chart-bar"},e.toKebabCase(e.getStyle({...l.props,active:u===e.mouse.index})),{key:u,x:l.x,y:l.y,width:l.width>0?l.width:0,height:l.height>0?l.height:0,onClick:()=>e.onBarClick(l,u)}),null,16,_hoisted_2$5))),128)),e.selectedBar?(openBlock(),createElementBlock("rect",mergeProps({key:1,class:"chart-bar"},e.toKebabCase(e.getStyleSelected({...e.selectedBar.props})),{x:e.selectedBar.x,y:e.selectedBar.y,width:e.selectedBar.width>0?e.selectedBar.width:0,height:e.selectedBar.height>0?e.selectedBar.height:0}),null,16,_hoisted_3$4)):createCommentVNode("v-if",!0)]),_:1},8,["dataKeys"])}script$8.render=render$8;script$8.__file="src/components/Bar/index.vue";const PieSort=String;var script$7=defineComponent({name:"PieLayer",components:{Layer:script$b},props:{pieStyle:{type:Object,required:!1},dataKeys:{type:Object,required:!0},sort:{type:PieSort,default:"desc",required:!1},sortFunc:{type:Function,required:!1}},setup(e){var r;const t=useChart(),n=useMouse(),a=ref(Math.min(t.canvas.width-t.canvas.x,t.canvas.height-t.canvas.y)/2),o=computed(()=>()=>Object.assign({colors:["#4daf4a","#377eb8","#ff7f00","#984ea3","#e41a1c"],innerRadius:2,cornerRadius:0,padAngle:.01},e.pieStyle)),s=o.value(),l=ref([]),u=ordinal(o.value().colors),f=()=>arc().outerRadius(a.value).innerRadius(s.innerRadius).cornerRadius(s.cornerRadius).padAngle(s.padAngle),d=ref(`translate(${a.value+t.canvas.x}, ${a.value+t.canvas.y})`);let v;switch(e.sort){case"desc":v=descending$1;break;case"asc":v=ascending$1;break;case"none":v=null;break;case"custom":v=(r=e.sortFunc)!==null&&r!==void 0?r:null;break;default:v=null}function g(){const _=t.getData([e.dataKeys[1]]);l.value=pie().sort(v)(_)}function m(_){return u(_.toString())}function b(_,O){n.hover=!0,n.index=O;const[S,T]=pointer(_);n.position={x:S+a.value,y:T+a.value}}function E(){n.hover=!1,n.index=-1}function w(_){mapKeys(kebabize,_)}return watch(t.updates,()=>{a.value=Math.min(t.canvas.width-t.canvas.x,(t.canvas.height-t.canvas.y)/2),d.value=`translate(${a.value+t.canvas.x}, ${a.value+t.canvas.y})`,g()}),{arcs:l,arcGen:f,getStyle:o,transform:d,getColor:m,hideTooltip:E,toKebabCase:w,showTooltip:b}}});const _hoisted_1$6={key:0},_hoisted_2$4=["transform"],_hoisted_3$3=["id","fill","d","onMousemove"];function render$7(e,r,t,n,a,o){const s=resolveComponent("Layer");return openBlock(),createBlock(s,{dataKeys:e.dataKeys,type:"pie"},{default:withCtx(()=>[e.arcs.length===0?(openBlock(),createElementBlock("text",_hoisted_1$6,"No Data")):createCommentVNode("v-if",!0),createBaseVNode("g",{transform:e.transform},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.arcs,(l,u)=>(openBlock(),createElementBlock("path",mergeProps({key:u,id:`arc-${u}`,class:"chart-pie"},e.toKebabCase(e.getStyle()),{fill:e.getColor(u),d:e.arcGen()(l),onMousemove:f=>e.showTooltip(f,u),onMouseleave:r[0]||(r[0]=f=>e.hideTooltip())}),null,16,_hoisted_3$3))),128))],8,_hoisted_2$4)]),_:1},8,["dataKeys"])}script$7.render=render$7;script$7.__file="src/components/Pie/index.vue";var script$6=defineComponent({name:"Responsive",setup(){const e=ref(null),{width:r,height:t}=useResize(e);return{el:e,width:r,height:t}}});const _hoisted_1$5={ref:"el"};function render$6(e,r,t,n,a,o){return openBlock(),createElementBlock("div",_hoisted_1$5,[renderSlot(e.$slots,"main",{width:e.width,height:e.height})],512)}script$6.render=render$6;script$6.__file="src/components/Responsive/index.vue";var script$5=defineComponent({name:"Grid",props:{strokeDasharray:{type:String,default:()=>"3 3"},hideX:{type:Boolean,default:!1},hideY:{type:Boolean,default:!1},center:{type:Boolean,default:!0}},setup(e){const r=useChart(),t=ref([]),n=ref(null),a=ref([]),o=ref([]);function s(){const{primary:u,secondary:f}=r.scales,d=r.config.direction==="horizontal"?f:u;if(d.type==="band"&&!e.center){const v=d.map(r.getData(r.getKeys(0))).map(g=>g+d.bandwidth()/2);v.pop(),a.value=v}else{const v=d.ticks();a.value=d.map(v)}}function l(){const{primary:u,secondary:f}=r.scales,d=r.config.direction==="horizontal"?u:f;if(d.type==="band"&&!e.center){const v=d.map(r.getData(r.getKeys(0))).map(g=>g+d.bandwidth()/2);v.pop(),o.value=v}else{const v=d.ticks();o.value=d.map(v)}}return watch(r.updates,()=>{t.value=r.data,n.value=r.canvas,s(),l()}),{data:t,canvas:n,xLines:a,yLines:o}}});const _hoisted_1$4=["stroke-dasharray"],_hoisted_2$3={key:0,class:"grid-x"},_hoisted_3$2=["x1","y1","x2","y2"],_hoisted_4$2={key:1,class:"grid-y"},_hoisted_5$2=["x1","y1","x2","y2"],_hoisted_6$2=["x1","y1","x2","y2"],_hoisted_7=["x1","y1","x2","y2"];function render$5(e,r,t,n,a,o){return e.data.length?(openBlock(),createElementBlock("g",{key:0,class:"layer-grid",stroke:"black","stroke-opacity":"0.15","stroke-width":"1","stroke-dasharray":e.strokeDasharray},[e.hideX?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("g",_hoisted_2$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.xLines,(s,l)=>(openBlock(),createElementBlock("line",{key:l,x1:e.canvas.x,y1:s,x2:e.canvas.width,y2:s},null,8,_hoisted_3$2))),128))])),e.hideY?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("g",_hoisted_4$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.yLines,(s,l)=>(openBlock(),createElementBlock("line",{key:l,x1:s,y1:e.canvas.y,x2:s,y2:e.canvas.height},null,8,_hoisted_5$2))),128))])),createBaseVNode("g",null,[createBaseVNode("line",{x1:e.canvas.x,y1:e.canvas.y,x2:e.canvas.width,y2:e.canvas.y},null,8,_hoisted_6$2),createBaseVNode("line",{x1:e.canvas.width-1,y1:e.canvas.y,x2:e.canvas.width-1,y2:e.canvas.height},null,8,_hoisted_7)])],8,_hoisted_1$4)):createCommentVNode("v-if",!0)}script$5.render=render$5;script$5.__file="src/components/Grid/index.vue";var script$4=defineComponent({name:"Tooltip",components:{},props:{format:{type:String,default:",.0f"},color:{type:String,default:"#7876ec"},hideLine:{type:Boolean,default:!1},config:{type:Object,default:()=>({})}},setup(e){const r=ref(null),t=useChart(),n=ref(t.canvas),a=ref(t.config.direction),{position:o,payload:s,show:l}=useTooltip(),u=computed(()=>o.value.x>=n.value.width/4*3),f=computed(()=>a.value==="vertical"?{top:o.value.y-.5+"px",left:n.value.x+"px"}:a.value==="horizontal"?{top:n.value.y+"px",left:o.value.x-.5+"px"}:{top:n.value.y+"px",left:n.value.x+"px"}),d=computed(()=>a.value==="vertical"?{top:5+"px",left:o.value.x-30+"px"}:a.value==="horizontal"?{top:o.value.y+"px",transform:`translateX(${u.value?"-100%":0})`}:{top:o.value.y+"px",left:o.value.x+"px"}),v=(m,b)=>is$1(Function,b)?b(m):is$1(Number,m)?format(b)(m):m,g=computed(()=>Object.keys(omit$1(["idx"],s.value)).map(m=>{const b=Object.assign({label:m,format:e.format,color:e.color,hide:!1},e.config[m]);return{key:m,label:b.label,value:s.value[m],valueFormatted:v(s.value[m],b.format),color:is$1(Function,b.color)?b.color(s.value):b.color,hide:b.hide}}).filter(m=>!m.hide));return watch(t.updates,()=>{a.value=t.config.direction,n.value=t.canvas}),{el:r,show:l,canvas:n,direction:a,style:f,styleContent:d,position:o,items:g,isRight:u}}});const _hoisted_1$3={key:0};function render$4(e,r,t,n,a,o){return e.show?(openBlock(),createElementBlock("div",{key:0,class:"v-tooltip",style:normalizeStyle(e.style)},[createBaseVNode("div",{class:"v-tooltip-content",style:normalizeStyle(e.styleContent),ref:"el"},[renderSlot(e.$slots,"default",{payload:e.items},()=>[createBaseVNode("div",{style:normalizeStyle({borderColor:e.color})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items,(s,l)=>(openBlock(),createElementBlock("div",{key:l,style:normalizeStyle({color:s.color})},[createBaseVNode("b",null,toDisplayString(s.label),1),createTextVNode(": "+toDisplayString(s.valueFormatted),1)],4))),128))],4)])],4),e.hideLine?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",_hoisted_1$3,[e.direction==="horizontal"?(openBlock(),createElementBlock("div",{key:0,class:"v-tooltip-line-vertical",style:normalizeStyle({height:e.canvas.height+"px"})},null,4)):(openBlock(),createElementBlock("div",{key:1,class:"v-tooltip-line-horizontal",style:normalizeStyle({width:e.canvas.width-40+"px"})},null,4))]))],4)):createCommentVNode("v-if",!0)}var css_248z=`
.v-tooltip[data-v-43da20c6] {
  position: absolute;
  pointer-events: none;
}
.v-tooltip-content[data-v-43da20c6] {
  position: absolute;
  white-space: nowrap;
  pointer-events: none;
}
.v-tooltip-content > div[data-v-43da20c6] {
  margin-left: 5px;
  margin-right: 5px;
  border: 2px solid;
  background-color: white;
  padding: 8px;
  text-align: left;
  border-radius: 4px;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
}
.v-tooltip-right[data-v-43da20c6] {
  transform: translateX(-100%);
  margin-left: 0;
}
.v-tooltip-line-vertical[data-v-43da20c6] {
  top: 0px;
  position: absolute;
  width: 1px;
  background-color: black;
  pointer-events: none;
  opacity: 0.3;
}
.v-tooltip-line-horizontal[data-v-43da20c6] {
  left: 0px;
  position: absolute;
  height: 1px;
  background-color: black;
  pointer-events: none;
  opacity: 0.3;
}
`;styleInject(css_248z);script$4.render=render$4;script$4.__scopeId="data-v-43da20c6";script$4.__file="src/components/Tooltip/index.vue";var script$3=defineComponent({props:{stacked:{type:Boolean,default:!1},maxWidth:{type:Number,default:-1}},setup(e){provide("layerProps",e)}});function render$3(e,r,t,n,a,o){return renderSlot(e.$slots,"default")}script$3.render=render$3;script$3.__file="src/components/Group/index.vue";var script$2=defineComponent({name:"Grid",props:{value:{type:Number},label:{type:String,default:""},color:{type:String,default:"red"},strokeDasharray:{type:String,default:()=>"3"},strokeWidth:{type:Number,default:1},strokeOpacity:{type:Number,default:.5}},setup(e){const r=useChart(),t=ref(0),n=ref("horizontal"),a=ref({});return watch(r.updates,()=>{e.value!==void 0&&(t.value=r.scales.secondary.scale(e.value)),a.value=r.canvas,n.value=r.config.direction},{immediate:!0}),watch(()=>e.value,()=>{t.value=r.scales.secondary.scale(e.value)},{immediate:!0}),{y:t,canvas:a,direction:n}}});const _hoisted_1$2={key:0,class:"layer-marker"},_hoisted_2$2=["x","y","fill"],_hoisted_3$1=["x1","y1","x2","y2","stroke","stroke-opacity","stroke-width","stroke-dasharray"],_hoisted_4$1={key:1,class:"layer-marker"},_hoisted_5$1=["x","y","fill"],_hoisted_6$1=["x1","y1","x2","y2","stroke","stroke-opacity","stroke-width","stroke-dasharray"];function render$2(e,r,t,n,a,o){return e.direction==="horizontal"?(openBlock(),createElementBlock("g",_hoisted_1$2,[createBaseVNode("text",{x:e.canvas.x+5,y:e.y-5,"text-anchor":"start",fill:e.color},toDisplayString(e.label),9,_hoisted_2$2),createBaseVNode("line",{x1:e.canvas.x,y1:e.y,x2:e.canvas.width,y2:e.y,stroke:e.color,"stroke-opacity":e.strokeOpacity,"stroke-width":e.strokeWidth,"stroke-dasharray":e.strokeDasharray},null,8,_hoisted_3$1)])):(openBlock(),createElementBlock("g",_hoisted_4$1,[createBaseVNode("text",{x:e.y+10,y:e.canvas.y+5,"text-anchor":"start",fill:e.color,style:{"writing-mode":"tb"}},toDisplayString(e.label),9,_hoisted_5$1),createBaseVNode("line",{x1:e.y,y1:e.canvas.y,x2:e.y,y2:e.canvas.height,stroke:e.color,"stroke-opacity":e.strokeOpacity,"stroke-width":e.strokeWidth,"stroke-dasharray":e.strokeDasharray},null,8,_hoisted_6$1)]))}script$2.render=render$2;script$2.__file="src/components/Marker/index.vue";function count(e){var r=0,t=e.children,n=t&&t.length;if(!n)r=1;else for(;--n>=0;)r+=t[n].value;e.value=r}function node_count(){return this.eachAfter(count)}function node_each(e,r){let t=-1;for(const n of this)e.call(r,n,++t,this);return this}function node_eachBefore(e,r){for(var t=this,n=[t],a,o,s=-1;t=n.pop();)if(e.call(r,t,++s,this),a=t.children)for(o=a.length-1;o>=0;--o)n.push(a[o]);return this}function node_eachAfter(e,r){for(var t=this,n=[t],a=[],o,s,l,u=-1;t=n.pop();)if(a.push(t),o=t.children)for(s=0,l=o.length;s<l;++s)n.push(o[s]);for(;t=a.pop();)e.call(r,t,++u,this);return this}function node_find(e,r){let t=-1;for(const n of this)if(e.call(r,n,++t,this))return n}function node_sum(e){return this.eachAfter(function(r){for(var t=+e(r.data)||0,n=r.children,a=n&&n.length;--a>=0;)t+=n[a].value;r.value=t})}function node_sort(e){return this.eachBefore(function(r){r.children&&r.children.sort(e)})}function node_path(e){for(var r=this,t=leastCommonAncestor(r,e),n=[r];r!==t;)r=r.parent,n.push(r);for(var a=n.length;e!==t;)n.splice(a,0,e),e=e.parent;return n}function leastCommonAncestor(e,r){if(e===r)return e;var t=e.ancestors(),n=r.ancestors(),a=null;for(e=t.pop(),r=n.pop();e===r;)a=e,e=t.pop(),r=n.pop();return a}function node_ancestors(){for(var e=this,r=[e];e=e.parent;)r.push(e);return r}function node_descendants(){return Array.from(this)}function node_leaves(){var e=[];return this.eachBefore(function(r){r.children||e.push(r)}),e}function node_links(){var e=this,r=[];return e.each(function(t){t!==e&&r.push({source:t.parent,target:t})}),r}function*node_iterator(){var e=this,r,t=[e],n,a,o;do for(r=t.reverse(),t=[];e=r.pop();)if(yield e,n=e.children)for(a=0,o=n.length;a<o;++a)t.push(n[a]);while(t.length)}function hierarchy(e,r){e instanceof Map?(e=[void 0,e],r===void 0&&(r=mapChildren)):r===void 0&&(r=objectChildren);for(var t=new Node$1(e),n,a=[t],o,s,l,u;n=a.pop();)if((s=r(n.data))&&(u=(s=Array.from(s)).length))for(n.children=s,l=u-1;l>=0;--l)a.push(o=s[l]=new Node$1(s[l])),o.parent=n,o.depth=n.depth+1;return t.eachBefore(computeHeight)}function node_copy(){return hierarchy(this).eachBefore(copyData)}function objectChildren(e){return e.children}function mapChildren(e){return Array.isArray(e)?e[1]:null}function copyData(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function computeHeight(e){var r=0;do e.height=r;while((e=e.parent)&&e.height<++r)}function Node$1(e){this.data=e,this.depth=this.height=0,this.parent=null}Node$1.prototype=hierarchy.prototype={constructor:Node$1,count:node_count,each:node_each,eachAfter:node_eachAfter,eachBefore:node_eachBefore,find:node_find,sum:node_sum,sort:node_sort,path:node_path,ancestors:node_ancestors,descendants:node_descendants,leaves:node_leaves,links:node_links,copy:node_copy,[Symbol.iterator]:node_iterator};function optional(e){return e==null?null:required(e)}function required(e){if(typeof e!="function")throw new Error;return e}function constantZero(){return 0}function constant(e){return function(){return e}}function roundNode(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function treemapDice(e,r,t,n,a){for(var o=e.children,s,l=-1,u=o.length,f=e.value&&(n-r)/e.value;++l<u;)s=o[l],s.y0=t,s.y1=a,s.x0=r,s.x1=r+=s.value*f}var preroot={depth:-1},ambiguous={},imputed={};function defaultId(e){return e.id}function defaultParentId(e){return e.parentId}function stratify(){var e=defaultId,r=defaultParentId,t;function n(a){var o=Array.from(a),s=e,l=r,u,f,d,v,g,m,b,E,w=new Map;if(t!=null){const _=o.map((T,I)=>normalize$2(t(T,I,a))),O=_.map(parentof),S=new Set(_).add("");for(const T of O)S.has(T)||(S.add(T),_.push(T),O.push(parentof(T)),o.push(imputed));s=(T,I)=>_[I],l=(T,I)=>O[I]}for(d=0,u=o.length;d<u;++d)f=o[d],m=o[d]=new Node$1(f),(b=s(f,d,a))!=null&&(b+="")&&(E=m.id=b,w.set(E,w.has(E)?ambiguous:m)),(b=l(f,d,a))!=null&&(b+="")&&(m.parent=b);for(d=0;d<u;++d)if(m=o[d],b=m.parent){if(g=w.get(b),!g)throw new Error("missing: "+b);if(g===ambiguous)throw new Error("ambiguous: "+b);g.children?g.children.push(m):g.children=[m],m.parent=g}else{if(v)throw new Error("multiple roots");v=m}if(!v)throw new Error("no root");if(t!=null){for(;v.data===imputed&&v.children.length===1;)v=v.children[0],--u;for(let _=o.length-1;_>=0&&(m=o[_],m.data===imputed);--_)m.data=null}if(v.parent=preroot,v.eachBefore(function(_){_.depth=_.parent.depth+1,--u}).eachBefore(computeHeight),v.parent=null,u>0)throw new Error("cycle");return v}return n.id=function(a){return arguments.length?(e=optional(a),n):e},n.parentId=function(a){return arguments.length?(r=optional(a),n):r},n.path=function(a){return arguments.length?(t=optional(a),n):t},n}function normalize$2(e){e=`${e}`;let r=e.length;return slash(e,r-1)&&!slash(e,r-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function parentof(e){let r=e.length;if(r<2)return"";for(;--r>1&&!slash(e,r););return e.slice(0,r)}function slash(e,r){if(e[r]==="/"){let t=0;for(;r>0&&e[--r]==="\\";)++t;if((t&1)==0)return!0}return!1}function treemapSlice(e,r,t,n,a){for(var o=e.children,s,l=-1,u=o.length,f=e.value&&(a-t)/e.value;++l<u;)s=o[l],s.x0=r,s.x1=n,s.y0=t,s.y1=t+=s.value*f}var phi=(1+Math.sqrt(5))/2;function squarifyRatio(e,r,t,n,a,o){for(var s=[],l=r.children,u,f,d=0,v=0,g=l.length,m,b,E=r.value,w,_,O,S,T,I,k;d<g;){m=a-t,b=o-n;do w=l[v++].value;while(!w&&v<g);for(_=O=w,I=Math.max(b/m,m/b)/(E*e),k=w*w*I,T=Math.max(O/k,k/_);v<g;++v){if(w+=f=l[v].value,f<_&&(_=f),f>O&&(O=f),k=w*w*I,S=Math.max(O/k,k/_),S>T){w-=f;break}T=S}s.push(u={value:w,dice:m<b,children:l.slice(d,v)}),u.dice?treemapDice(u,t,n,a,E?n+=b*w/E:o):treemapSlice(u,t,n,E?t+=m*w/E:a,o),E-=w,d=v}return s}var squarify=function e(r){function t(n,a,o,s,l){squarifyRatio(r,n,a,o,s,l)}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(phi);function treemap(){var e=squarify,r=!1,t=1,n=1,a=[0],o=constantZero,s=constantZero,l=constantZero,u=constantZero,f=constantZero;function d(g){return g.x0=g.y0=0,g.x1=t,g.y1=n,g.eachBefore(v),a=[0],r&&g.eachBefore(roundNode),g}function v(g){var m=a[g.depth],b=g.x0+m,E=g.y0+m,w=g.x1-m,_=g.y1-m;w<b&&(b=w=(b+w)/2),_<E&&(E=_=(E+_)/2),g.x0=b,g.y0=E,g.x1=w,g.y1=_,g.children&&(m=a[g.depth+1]=o(g)/2,b+=f(g)-m,E+=s(g)-m,w-=l(g)-m,_-=u(g)-m,w<b&&(b=w=(b+w)/2),_<E&&(E=_=(E+_)/2),e(g,b,E,w,_))}return d.round=function(g){return arguments.length?(r=!!g,d):r},d.size=function(g){return arguments.length?(t=+g[0],n=+g[1],d):[t,n]},d.tile=function(g){return arguments.length?(e=required(g),d):e},d.padding=function(g){return arguments.length?d.paddingInner(g).paddingOuter(g):d.paddingInner()},d.paddingInner=function(g){return arguments.length?(o=typeof g=="function"?g:constant(+g),d):o},d.paddingOuter=function(g){return arguments.length?d.paddingTop(g).paddingRight(g).paddingBottom(g).paddingLeft(g):d.paddingTop()},d.paddingTop=function(g){return arguments.length?(s=typeof g=="function"?g:constant(+g),d):s},d.paddingRight=function(g){return arguments.length?(l=typeof g=="function"?g:constant(+g),d):l},d.paddingBottom=function(g){return arguments.length?(u=typeof g=="function"?g:constant(+g),d):u},d.paddingLeft=function(g){return arguments.length?(f=typeof g=="function"?g:constant(+g),d):f},d}var script$1=defineComponent({name:"Treemap",props:{size:{type:Object,default:()=>({width:500,height:400}),required:!1},margin:{type:Object,default:{top:0,right:0,bottom:0,left:0}},padding:{type:Number,default:8},data:{type:Array,default:[]},dataKeys:{type:Object,required:!0},colorFn:{type:Function,default:()=>interpolateHcl("#60c96e","#6b46c1")},rcStyle:{type:Function,required:!1}},setup(e){const r=ref(null),t=ref(e.data),n=ref(null),a=ref({x:e.margin.left,y:e.margin.top,width:e.size.width-e.margin.right,height:e.size.height-e.margin.bottom}),o=ref([]);function s(){const m=extent(t.value.map(w=>w[e.dataKeys[1]])),b=linear().domain(m).range([0,100]).nice(),E=sequential().domain(m).interpolator(e.colorFn());return{x:b,y:E}}function l(){const{y:m}=s();return u(t.value).leaves().map((E,w)=>({idx:w,x0:a.value.x+E.x0,x1:a.value.x+E.x1,y0:a.value.y+E.y0,y1:a.value.y+E.y1,width:E.x1-E.x0,height:E.y1-E.y0,data:E.data,color:m(E.value)}))}function u(m){const{x:b}=s(),E=treemap().size([a.value.width-a.value.x,a.value.height-a.value.y]).padding(e.padding),_=stratify().id(O=>O.name).parentId(O=>O.parent)([{name:"root"}].concat(m.map(O=>({name:O[e.dataKeys[0]],value:O[e.dataKeys[1]],parent:"root"}))));return _.sum(O=>b(O.value)),E(_),_}const f=m=>mapKeys(kebabize,m),d=m=>{const b={stroke:m.color,strokeWidth:5,fill:m.color,fillOpacity:.9};return e.rcStyle&&typeof e.rcStyle=="function"?Object.assign(Object.assign({},b),e.rcStyle(m)):b};function v(m){console.log("hover",m),n.value=m}function g(){n.value=null}return watch(e,()=>{t.value=e.data,a.value={x:e.margin.left,y:e.margin.top,width:e.size.width-e.margin.right,height:e.size.height-e.margin.bottom},o.value=l()},{immediate:!0}),{el:r,rectangles:o,selected:n,getStyle:d,toKebabCase:f,onMouseOver:v,onMouseOut:g}}});const _hoisted_1$1={class:"treemap",style:{display:"flex",position:"relative"}},_hoisted_2$1=["width","height","viewBox"],_hoisted_3={class:"layer-rectangles"},_hoisted_4=["transform","onMouseover"],_hoisted_5=["width","height"],_hoisted_6={x:0+10,y:0+20,"font-size":"15px",fill:"white","font-weight":"bold"};function render$1(e,r,t,n,a,o){return openBlock(),createElementBlock("div",_hoisted_1$1,[(openBlock(),createElementBlock("svg",{width:e.size.width,height:e.size.height,viewBox:`0 0 ${e.size.width} ${e.size.height}`,ref:"el"},[createBaseVNode("g",_hoisted_3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rectangles,(s,l)=>(openBlock(),createElementBlock("g",{class:normalizeClass(["rectangle",{selected:e.selected===l}]),key:l,transform:`translate(${s.x0}, ${s.y0})`,onMouseover:()=>e.onMouseOver(l),onMouseleave:r[0]||(r[0]=(...u)=>e.onMouseOut&&e.onMouseOut(...u))},[renderSlot(e.$slots,"default",{r:s,selected:e.selected===l},()=>[createBaseVNode("rect",mergeProps(e.toKebabCase(e.getStyle(s)),{x:0,y:0,width:s.width,height:s.height}),null,16,_hoisted_5),renderSlot(e.$slots,"text",{r:s,selected:e.selected===l},()=>[createBaseVNode("text",_hoisted_6,toDisplayString(s.data.name),1)])])],42,_hoisted_4))),128))])],8,_hoisted_2$1)),renderSlot(e.$slots,"widgets")])}script$1.render=render$1;script$1.__file="src/components/Treemap/index.vue";var script=defineComponent({name:"HoverBar",props:{barStyle:{type:Object,default:()=>({"fill-opacity":.05})}},setup(){const e=useChart(),r=useMouse(),t=ref({x:0,y:0,width:0,height:0}),n=ref("horizontal"),a=ref({x:0,y:0,width:0,height:0});return watch(e.updates,()=>{a.value=e.canvas,n.value=e.config.direction},{immediate:!0}),watch(r,()=>{if(e.bandScale){const o=e.getData(e.getKeys(0)),[s]=e.bandScale.map([o[r.index]]),l=e.bandScale.bandwidth();s&&(e.config.direction==="horizontal"?t.value={x:s-l/2,y:0,width:l,height:a.value.height}:t.value={x:40,y:s-l/2,width:a.value.width-40,height:l})}}),{bar:t,canvas:a,direction:n,mouse:r}}});const _hoisted_1={key:0,class:"layer-hover-bar"},_hoisted_2=["x","y","width","height"];function render(e,r,t,n,a,o){return e.mouse.hover?(openBlock(),createElementBlock("g",_hoisted_1,[createBaseVNode("rect",mergeProps({class:"hover-bar"},e.barStyle,{x:e.bar.x,y:e.bar.y,width:e.bar.width>0?e.bar.width:0,height:e.bar.height>0?e.bar.height:0}),null,16,_hoisted_2)])):createCommentVNode("v-if",!0)}script.render=render;script.__file="src/components/HoverBar/index.vue";/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.3
 * @date    2022-03-02T13:02:54.265Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function _classCallCheck$1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var commonjsGlobal$1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},defineProperty$b$1={exports:{}},check$1=function(e){return e&&e.Math==Math&&e},global$h$1=check$1(typeof globalThis=="object"&&globalThis)||check$1(typeof window=="object"&&window)||check$1(typeof self=="object"&&self)||check$1(typeof commonjsGlobal$1=="object"&&commonjsGlobal$1)||function(){return this}()||Function("return this")(),objectGetOwnPropertyDescriptor$1={},fails$l$1=function(e){try{return!!e()}catch{return!0}},fails$k$1=fails$l$1,descriptors$1=!fails$k$1(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),objectPropertyIsEnumerable$1={},$propertyIsEnumerable$1$1={}.propertyIsEnumerable,getOwnPropertyDescriptor$5$1=Object.getOwnPropertyDescriptor,NASHORN_BUG$1=getOwnPropertyDescriptor$5$1&&!$propertyIsEnumerable$1$1.call({1:2},1);objectPropertyIsEnumerable$1.f=NASHORN_BUG$1?function e(r){var t=getOwnPropertyDescriptor$5$1(this,r);return!!t&&t.enumerable}:$propertyIsEnumerable$1$1;var createPropertyDescriptor$5$1=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},toString$9$1={}.toString,classofRaw$1$1=function(e){return toString$9$1.call(e).slice(8,-1)},fails$j$1=fails$l$1,classof$b=classofRaw$1$1,split$1="".split,indexedObject$1=fails$j$1(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return classof$b(e)=="String"?split$1.call(e,""):Object(e)}:Object,requireObjectCoercible$5$1=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},IndexedObject$3$1=indexedObject$1,requireObjectCoercible$4$1=requireObjectCoercible$5$1,toIndexedObject$a$1=function(e){return IndexedObject$3$1(requireObjectCoercible$4$1(e))},isObject$f$1=function(e){return typeof e=="object"?e!==null:typeof e=="function"},path$p$1={},path$o$1=path$p$1,global$g$1=global$h$1,aFunction$7=function(e){return typeof e=="function"?e:void 0},getBuiltIn$8$1=function(e,r){return arguments.length<2?aFunction$7(path$o$1[e])||aFunction$7(global$g$1[e]):path$o$1[e]&&path$o$1[e][r]||global$g$1[e]&&global$g$1[e][r]},getBuiltIn$7$1=getBuiltIn$8$1,engineUserAgent$1=getBuiltIn$7$1("navigator","userAgent")||"",global$f$1=global$h$1,userAgent$3$1=engineUserAgent$1,process$1=global$f$1.process,Deno$1=global$f$1.Deno,versions$1=process$1&&process$1.versions||Deno$1&&Deno$1.version,v8$1=versions$1&&versions$1.v8,match$1,version$1;v8$1?(match$1=v8$1.split("."),version$1=match$1[0]<4?1:match$1[0]+match$1[1]):userAgent$3$1&&(match$1=userAgent$3$1.match(/Edge\/(\d+)/),(!match$1||match$1[1]>=74)&&(match$1=userAgent$3$1.match(/Chrome\/(\d+)/),match$1&&(version$1=match$1[1])));var engineV8Version$1=version$1&&+version$1,V8_VERSION$2$1=engineV8Version$1,fails$i$1=fails$l$1,nativeSymbol$1=!!Object.getOwnPropertySymbols&&!fails$i$1(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION$2$1&&V8_VERSION$2$1<41}),NATIVE_SYMBOL$2$1=nativeSymbol$1,useSymbolAsUid$1=NATIVE_SYMBOL$2$1&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$6$1=getBuiltIn$8$1,USE_SYMBOL_AS_UID$1$1=useSymbolAsUid$1,isSymbol$4$1=USE_SYMBOL_AS_UID$1$1?function(e){return typeof e=="symbol"}:function(e){var r=getBuiltIn$6$1("Symbol");return typeof r=="function"&&Object(e)instanceof r},isObject$e$1=isObject$f$1,ordinaryToPrimitive$1$1=function(e,r){var t,n;if(r==="string"&&typeof(t=e.toString)=="function"&&!isObject$e$1(n=t.call(e))||typeof(t=e.valueOf)=="function"&&!isObject$e$1(n=t.call(e))||r!=="string"&&typeof(t=e.toString)=="function"&&!isObject$e$1(n=t.call(e)))return n;throw TypeError("Can't convert object to primitive value")},shared$4$1={exports:{}},global$e$1=global$h$1,setGlobal$1$1=function(e,r){try{Object.defineProperty(global$e$1,e,{value:r,configurable:!0,writable:!0})}catch{global$e$1[e]=r}return r},global$d$1=global$h$1,setGlobal$2=setGlobal$1$1,SHARED$1="__core-js_shared__",store$3$1=global$d$1[SHARED$1]||setGlobal$2(SHARED$1,{}),sharedStore$1=store$3$1,store$2$1=sharedStore$1;(shared$4$1.exports=function(e,r){return store$2$1[e]||(store$2$1[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.16.1",mode:"pure",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"});var requireObjectCoercible$3$1=requireObjectCoercible$5$1,toObject$e=function(e){return Object(requireObjectCoercible$3$1(e))},toObject$d$1=toObject$e,hasOwnProperty$1={}.hasOwnProperty,has$b$1=Object.hasOwn||function e(r,t){return hasOwnProperty$1.call(toObject$d$1(r),t)},id$1$1=0,postfix$1=Math.random(),uid$4$1=function(e){return"Symbol("+String(e===void 0?"":e)+")_"+(++id$1$1+postfix$1).toString(36)},global$c$1=global$h$1,shared$3$1=shared$4$1.exports,has$a$1=has$b$1,uid$3$1=uid$4$1,NATIVE_SYMBOL$1$1=nativeSymbol$1,USE_SYMBOL_AS_UID$2=useSymbolAsUid$1,WellKnownSymbolsStore$1$1=shared$3$1("wks"),Symbol$1$1=global$c$1.Symbol,createWellKnownSymbol$1=USE_SYMBOL_AS_UID$2?Symbol$1$1:Symbol$1$1&&Symbol$1$1.withoutSetter||uid$3$1,wellKnownSymbol$j$1=function(e){return(!has$a$1(WellKnownSymbolsStore$1$1,e)||!(NATIVE_SYMBOL$1$1||typeof WellKnownSymbolsStore$1$1[e]=="string"))&&(NATIVE_SYMBOL$1$1&&has$a$1(Symbol$1$1,e)?WellKnownSymbolsStore$1$1[e]=Symbol$1$1[e]:WellKnownSymbolsStore$1$1[e]=createWellKnownSymbol$1("Symbol."+e)),WellKnownSymbolsStore$1$1[e]},isObject$d$1=isObject$f$1,isSymbol$3$1=isSymbol$4$1,ordinaryToPrimitive$2=ordinaryToPrimitive$1$1,wellKnownSymbol$i$1=wellKnownSymbol$j$1,TO_PRIMITIVE$1$1=wellKnownSymbol$i$1("toPrimitive"),toPrimitive$1$1=function(e,r){if(!isObject$d$1(e)||isSymbol$3$1(e))return e;var t=e[TO_PRIMITIVE$1$1],n;if(t!==void 0){if(r===void 0&&(r="default"),n=t.call(e,r),!isObject$d$1(n)||isSymbol$3$1(n))return n;throw TypeError("Can't convert object to primitive value")}return r===void 0&&(r="number"),ordinaryToPrimitive$2(e,r)},toPrimitive$2=toPrimitive$1$1,isSymbol$2$1=isSymbol$4$1,toPropertyKey$4$1=function(e){var r=toPrimitive$2(e,"string");return isSymbol$2$1(r)?r:String(r)},global$b$1=global$h$1,isObject$c$1=isObject$f$1,document$1$1=global$b$1.document,EXISTS$1=isObject$c$1(document$1$1)&&isObject$c$1(document$1$1.createElement),documentCreateElement$1$1=function(e){return EXISTS$1?document$1$1.createElement(e):{}},DESCRIPTORS$f$1=descriptors$1,fails$h$1=fails$l$1,createElement$1=documentCreateElement$1$1,ie8DomDefine$1=!DESCRIPTORS$f$1&&!fails$h$1(function(){return Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a!=7}),DESCRIPTORS$e$1=descriptors$1,propertyIsEnumerableModule$2$1=objectPropertyIsEnumerable$1,createPropertyDescriptor$4$1=createPropertyDescriptor$5$1,toIndexedObject$9$1=toIndexedObject$a$1,toPropertyKey$3$1=toPropertyKey$4$1,has$9$1=has$b$1,IE8_DOM_DEFINE$1$1=ie8DomDefine$1,$getOwnPropertyDescriptor$1$1=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor$1.f=DESCRIPTORS$e$1?$getOwnPropertyDescriptor$1$1:function e(r,t){if(r=toIndexedObject$9$1(r),t=toPropertyKey$3$1(t),IE8_DOM_DEFINE$1$1)try{return $getOwnPropertyDescriptor$1$1(r,t)}catch{}if(has$9$1(r,t))return createPropertyDescriptor$4$1(!propertyIsEnumerableModule$2$1.f.call(r,t),r[t])};var fails$g$1=fails$l$1,replacement$1=/#|\.prototype\./,isForced$1$1=function(e,r){var t=data$1[normalize$1(e)];return t==POLYFILL$1?!0:t==NATIVE$1?!1:typeof r=="function"?fails$g$1(r):!!r},normalize$1=isForced$1$1.normalize=function(e){return String(e).replace(replacement$1,".").toLowerCase()},data$1=isForced$1$1.data={},NATIVE$1=isForced$1$1.NATIVE="N",POLYFILL$1=isForced$1$1.POLYFILL="P",isForced_1$1=isForced$1$1,aFunction$6$1=function(e){if(typeof e!="function")throw TypeError(String(e)+" is not a function");return e},aFunction$5$1=aFunction$6$1,functionBindContext$1=function(e,r,t){if(aFunction$5$1(e),r===void 0)return e;switch(t){case 0:return function(){return e.call(r)};case 1:return function(n){return e.call(r,n)};case 2:return function(n,a){return e.call(r,n,a)};case 3:return function(n,a,o){return e.call(r,n,a,o)}}return function(){return e.apply(r,arguments)}},objectDefineProperty$1={},isObject$b$1=isObject$f$1,anObject$b$1=function(e){if(!isObject$b$1(e))throw TypeError(String(e)+" is not an object");return e},DESCRIPTORS$d$1=descriptors$1,IE8_DOM_DEFINE$2=ie8DomDefine$1,anObject$a$1=anObject$b$1,toPropertyKey$2$1=toPropertyKey$4$1,$defineProperty$1$1=Object.defineProperty;objectDefineProperty$1.f=DESCRIPTORS$d$1?$defineProperty$1$1:function e(r,t,n){if(anObject$a$1(r),t=toPropertyKey$2$1(t),anObject$a$1(n),IE8_DOM_DEFINE$2)try{return $defineProperty$1$1(r,t,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(r[t]=n.value),r};var DESCRIPTORS$c$1=descriptors$1,definePropertyModule$4$1=objectDefineProperty$1,createPropertyDescriptor$3$1=createPropertyDescriptor$5$1,createNonEnumerableProperty$9$1=DESCRIPTORS$c$1?function(e,r,t){return definePropertyModule$4$1.f(e,r,createPropertyDescriptor$3$1(1,t))}:function(e,r,t){return e[r]=t,e},global$a$1=global$h$1,getOwnPropertyDescriptor$4$1=objectGetOwnPropertyDescriptor$1.f,isForced$2=isForced_1$1,path$n$1=path$p$1,bind$b=functionBindContext$1,createNonEnumerableProperty$8$1=createNonEnumerableProperty$9$1,has$8$1=has$b$1,wrapConstructor$1=function(e){var r=function(t,n,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,a)}return e.apply(this,arguments)};return r.prototype=e.prototype,r},_export$1=function(e,r){var t=e.target,n=e.global,a=e.stat,o=e.proto,s=n?global$a$1:a?global$a$1[t]:(global$a$1[t]||{}).prototype,l=n?path$n$1:path$n$1[t]||(path$n$1[t]={}),u=l.prototype,f,d,v,g,m,b,E,w,_;for(g in r)f=isForced$2(n?g:t+(a?".":"#")+g,e.forced),d=!f&&s&&has$8$1(s,g),b=l[g],d&&(e.noTargetGet?(_=getOwnPropertyDescriptor$4$1(s,g),E=_&&_.value):E=s[g]),m=d&&E?E:r[g],!(d&&typeof b==typeof m)&&(e.bind&&d?w=bind$b(m,global$a$1):e.wrap&&d?w=wrapConstructor$1(m):o&&typeof m=="function"?w=bind$b(Function.call,m):w=m,(e.sham||m&&m.sham||b&&b.sham)&&createNonEnumerableProperty$8$1(w,"sham",!0),l[g]=w,o&&(v=t+"Prototype",has$8$1(path$n$1,v)||createNonEnumerableProperty$8$1(path$n$1,v,{}),path$n$1[v][g]=m,e.real&&u&&!u[g]&&createNonEnumerableProperty$8$1(u,g,m)))},$$C$1=_export$1,DESCRIPTORS$b$1=descriptors$1,objectDefinePropertyModile$1=objectDefineProperty$1;$$C$1({target:"Object",stat:!0,forced:!DESCRIPTORS$b$1,sham:!DESCRIPTORS$b$1},{defineProperty:objectDefinePropertyModile$1.f});var path$m$1=path$p$1,Object$4$1=path$m$1.Object,defineProperty$a$1=defineProperty$b$1.exports=function e(r,t,n){return Object$4$1.defineProperty(r,t,n)};Object$4$1.defineProperty.sham&&(defineProperty$a$1.sham=!0);var parent$K$1=defineProperty$b$1.exports,defineProperty$9$1=parent$K$1,parent$J$1=defineProperty$9$1,defineProperty$8$1=parent$J$1,defineProperty$7$1=defineProperty$8$1;function _defineProperties$1(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),defineProperty$7$1(e,n.key,n)}}function _createClass$1(e,r,t){return r&&_defineProperties$1(e.prototype,r),t&&_defineProperties$1(e,t),e}var aFunction$4$1=aFunction$6$1,isObject$a$1=isObject$f$1,slice$7$1=[].slice,factories$1={},construct$3$1=function(e,r,t){if(!(r in factories$1)){for(var n=[],a=0;a<r;a++)n[a]="a["+a+"]";factories$1[r]=Function("C,a","return new C("+n.join(",")+")")}return factories$1[r](e,t)},functionBind$1=Function.bind||function e(r){var t=aFunction$4$1(this),n=slice$7$1.call(arguments,1),a=function(){var s=n.concat(slice$7$1.call(arguments));return this instanceof a?construct$3$1(t,s.length,s):t.apply(r,s)};return isObject$a$1(t.prototype)&&(a.prototype=t.prototype),a},$$B$1=_export$1,bind$a$1=functionBind$1;$$B$1({target:"Function",proto:!0},{bind:bind$a$1});var path$l$1=path$p$1,entryVirtual$k=function(e){return path$l$1[e+"Prototype"]},entryVirtual$j=entryVirtual$k,bind$9$1=entryVirtual$j("Function").bind,bind$8$1=bind$9$1,FunctionPrototype$1=Function.prototype,bind_1$1=function(e){var r=e.bind;return e===FunctionPrototype$1||e instanceof Function&&r===FunctionPrototype$1.bind?bind$8$1:r},parent$I$1=bind_1$1,bind$7$1=parent$I$1,bind$6$1=bind$7$1,ceil$1=Math.ceil,floor$1$1=Math.floor,toInteger$4$1=function(e){return isNaN(e=+e)?0:(e>0?floor$1$1:ceil$1)(e)},toInteger$3$1=toInteger$4$1,min$2$1=Math.min,toLength$c=function(e){return e>0?min$2$1(toInteger$3$1(e),9007199254740991):0},aFunction$3$1=aFunction$6$1,toObject$c$1=toObject$e,IndexedObject$2$1=indexedObject$1,toLength$b=toLength$c,createMethod$5$1=function(e){return function(r,t,n,a){aFunction$3$1(t);var o=toObject$c$1(r),s=IndexedObject$2$1(o),l=toLength$b(o.length),u=e?l-1:0,f=e?-1:1;if(n<2)for(;;){if(u in s){a=s[u],u+=f;break}if(u+=f,e?u<0:l<=u)throw TypeError("Reduce of empty array with no initial value")}for(;e?u>=0:l>u;u+=f)u in s&&(a=t(a,s[u],u,o));return a}},arrayReduce$1={left:createMethod$5$1(!1),right:createMethod$5$1(!0)},fails$f$1=fails$l$1,arrayMethodIsStrict$5$1=function(e,r){var t=[][e];return!!t&&fails$f$1(function(){t.call(null,r||function(){throw 1},1)})},classof$a=classofRaw$1$1,global$9$1=global$h$1,engineIsNode$1=classof$a(global$9$1.process)=="process",$$A$1=_export$1,$reduce$1=arrayReduce$1.left,arrayMethodIsStrict$4$1=arrayMethodIsStrict$5$1,CHROME_VERSION$1=engineV8Version$1,IS_NODE$1=engineIsNode$1,STRICT_METHOD$4$1=arrayMethodIsStrict$4$1("reduce"),CHROME_BUG$1=!IS_NODE$1&&CHROME_VERSION$1>79&&CHROME_VERSION$1<83;$$A$1({target:"Array",proto:!0,forced:!STRICT_METHOD$4$1||CHROME_BUG$1},{reduce:function e(r){return $reduce$1(this,r,arguments.length,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$i$1=entryVirtual$k,reduce$3$1=entryVirtual$i$1("Array").reduce,reduce$2$1=reduce$3$1,ArrayPrototype$e$1=Array.prototype,reduce_1$1=function(e){var r=e.reduce;return e===ArrayPrototype$e$1||e instanceof Array&&r===ArrayPrototype$e$1.reduce?reduce$2$1:r},parent$H$1=reduce_1$1,reduce$1$1=parent$H$1,reduce$4=reduce$1$1,classof$9$1=classofRaw$1$1,isArray$c=Array.isArray||function e(r){return classof$9$1(r)=="Array"},isObject$9$1=isObject$f$1,isArray$b$1=isArray$c,wellKnownSymbol$h$1=wellKnownSymbol$j$1,SPECIES$3$1=wellKnownSymbol$h$1("species"),arraySpeciesConstructor$1$1=function(e){var r;return isArray$b$1(e)&&(r=e.constructor,typeof r=="function"&&(r===Array||isArray$b$1(r.prototype))?r=void 0:isObject$9$1(r)&&(r=r[SPECIES$3$1],r===null&&(r=void 0))),r===void 0?Array:r},arraySpeciesConstructor$2=arraySpeciesConstructor$1$1,arraySpeciesCreate$4=function(e,r){return new(arraySpeciesConstructor$2(e))(r===0?0:r)},bind$5$1=functionBindContext$1,IndexedObject$1$1=indexedObject$1,toObject$b$1=toObject$e,toLength$a$1=toLength$c,arraySpeciesCreate$3$1=arraySpeciesCreate$4,push$1=[].push,createMethod$4$1=function(e){var r=e==1,t=e==2,n=e==3,a=e==4,o=e==6,s=e==7,l=e==5||o;return function(u,f,d,v){for(var g=toObject$b$1(u),m=IndexedObject$1$1(g),b=bind$5$1(f,d,3),E=toLength$a$1(m.length),w=0,_=v||arraySpeciesCreate$3$1,O=r?_(u,E):t||s?_(u,0):void 0,S,T;E>w;w++)if((l||w in m)&&(S=m[w],T=b(S,w,g),e))if(r)O[w]=T;else if(T)switch(e){case 3:return!0;case 5:return S;case 6:return w;case 2:push$1.call(O,S)}else switch(e){case 4:return!1;case 7:push$1.call(O,S)}return o?-1:n||a?a:O}},arrayIteration$1={forEach:createMethod$4$1(0),map:createMethod$4$1(1),filter:createMethod$4$1(2),some:createMethod$4$1(3),every:createMethod$4$1(4),find:createMethod$4$1(5),findIndex:createMethod$4$1(6),filterReject:createMethod$4$1(7)},fails$e$1=fails$l$1,wellKnownSymbol$g$1=wellKnownSymbol$j$1,V8_VERSION$1$1=engineV8Version$1,SPECIES$2$1=wellKnownSymbol$g$1("species"),arrayMethodHasSpeciesSupport$5$1=function(e){return V8_VERSION$1$1>=51||!fails$e$1(function(){var r=[],t=r.constructor={};return t[SPECIES$2$1]=function(){return{foo:1}},r[e](Boolean).foo!==1})},$$z$1=_export$1,$filter$1=arrayIteration$1.filter,arrayMethodHasSpeciesSupport$4$1=arrayMethodHasSpeciesSupport$5$1,HAS_SPECIES_SUPPORT$3$1=arrayMethodHasSpeciesSupport$4$1("filter");$$z$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$3$1},{filter:function e(r){return $filter$1(this,r,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$h$1=entryVirtual$k,filter$3$1=entryVirtual$h$1("Array").filter,filter$2$1=filter$3$1,ArrayPrototype$d$1=Array.prototype,filter_1$1=function(e){var r=e.filter;return e===ArrayPrototype$d$1||e instanceof Array&&r===ArrayPrototype$d$1.filter?filter$2$1:r},parent$G$1=filter_1$1,filter$1$1=parent$G$1,filter$4=filter$1$1,$$y$1=_export$1,$map$1=arrayIteration$1.map,arrayMethodHasSpeciesSupport$3$1=arrayMethodHasSpeciesSupport$5$1,HAS_SPECIES_SUPPORT$2$1=arrayMethodHasSpeciesSupport$3$1("map");$$y$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$2$1},{map:function e(r){return $map$1(this,r,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$g$1=entryVirtual$k,map$6$1=entryVirtual$g$1("Array").map,map$5$1=map$6$1,ArrayPrototype$c$1=Array.prototype,map_1$1=function(e){var r=e.map;return e===ArrayPrototype$c$1||e instanceof Array&&r===ArrayPrototype$c$1.map?map$5$1:r},parent$F$1=map_1$1,map$4$1=parent$F$1,map$3$1=map$4$1,isArray$a$1=isArray$c,toLength$9$1=toLength$c,bind$4$1=functionBindContext$1,flattenIntoArray$1=function(e,r,t,n,a,o,s,l){for(var u=a,f=0,d=s?bind$4$1(s,l,3):!1,v;f<n;){if(f in t){if(v=d?d(t[f],f,r):t[f],o>0&&isArray$a$1(v))u=flattenIntoArray$1(e,r,v,toLength$9$1(v.length),u,o-1)-1;else{if(u>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[u]=v}u++}f++}return u},flattenIntoArray_1=flattenIntoArray$1,$$x$1=_export$1,flattenIntoArray=flattenIntoArray_1,toObject$a$1=toObject$e,toLength$8$1=toLength$c,aFunction$2$1=aFunction$6$1,arraySpeciesCreate$2$1=arraySpeciesCreate$4;$$x$1({target:"Array",proto:!0},{flatMap:function e(r){var t=toObject$a$1(this),n=toLength$8$1(t.length),a;return aFunction$2$1(r),a=arraySpeciesCreate$2$1(t,0),a.length=flattenIntoArray(a,t,t,n,0,1,r,arguments.length>1?arguments[1]:void 0),a}});var entryVirtual$f$1=entryVirtual$k;entryVirtual$f$1("Array").flatMap;var isSymbol$1$1=isSymbol$4$1,toString$8$1=function(e){if(isSymbol$1$1(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)},toInteger$2$1=toInteger$4$1,toString$7$1=toString$8$1,requireObjectCoercible$2$1=requireObjectCoercible$5$1,createMethod$3$1=function(e){return function(r,t){var n=toString$7$1(requireObjectCoercible$2$1(r)),a=toInteger$2$1(t),o=n.length,s,l;return a<0||a>=o?e?"":void 0:(s=n.charCodeAt(a),s<55296||s>56319||a+1===o||(l=n.charCodeAt(a+1))<56320||l>57343?e?n.charAt(a):s:e?n.slice(a,a+2):(s-55296<<10)+(l-56320)+65536)}},stringMultibyte$1={codeAt:createMethod$3$1(!1),charAt:createMethod$3$1(!0)},store$1$1=sharedStore$1,functionToString$1=Function.toString;typeof store$1$1.inspectSource!="function"&&(store$1$1.inspectSource=function(e){return functionToString$1.call(e)});var inspectSource$1$1=store$1$1.inspectSource,global$8$1=global$h$1,inspectSource$2=inspectSource$1$1,WeakMap$1$1=global$8$1.WeakMap,nativeWeakMap$1=typeof WeakMap$1$1=="function"&&/native code/.test(inspectSource$2(WeakMap$1$1)),shared$2$1=shared$4$1.exports,uid$2$1=uid$4$1,keys$7=shared$2$1("keys"),sharedKey$4$1=function(e){return keys$7[e]||(keys$7[e]=uid$2$1(e))},hiddenKeys$6$1={},NATIVE_WEAK_MAP$2=nativeWeakMap$1,global$7$1=global$h$1,isObject$8$1=isObject$f$1,createNonEnumerableProperty$7$1=createNonEnumerableProperty$9$1,objectHas$1=has$b$1,shared$1$1=sharedStore$1,sharedKey$3$1=sharedKey$4$1,hiddenKeys$5$1=hiddenKeys$6$1,OBJECT_ALREADY_INITIALIZED$1="Object already initialized",WeakMap$3=global$7$1.WeakMap,set$3$1,get$6,has$7$1,enforce$1=function(e){return has$7$1(e)?get$6(e):set$3$1(e,{})},getterFor$1=function(e){return function(r){var t;if(!isObject$8$1(r)||(t=get$6(r)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return t}};if(NATIVE_WEAK_MAP$2||shared$1$1.state){var store$4=shared$1$1.state||(shared$1$1.state=new WeakMap$3),wmget$1=store$4.get,wmhas$1=store$4.has,wmset$1=store$4.set;set$3$1=function(e,r){if(wmhas$1.call(store$4,e))throw new TypeError(OBJECT_ALREADY_INITIALIZED$1);return r.facade=e,wmset$1.call(store$4,e,r),r},get$6=function(e){return wmget$1.call(store$4,e)||{}},has$7$1=function(e){return wmhas$1.call(store$4,e)}}else{var STATE$1=sharedKey$3$1("state");hiddenKeys$5$1[STATE$1]=!0,set$3$1=function(e,r){if(objectHas$1(e,STATE$1))throw new TypeError(OBJECT_ALREADY_INITIALIZED$1);return r.facade=e,createNonEnumerableProperty$7$1(e,STATE$1,r),r},get$6=function(e){return objectHas$1(e,STATE$1)?e[STATE$1]:{}},has$7$1=function(e){return objectHas$1(e,STATE$1)}}var internalState$1={set:set$3$1,get:get$6,has:has$7$1,enforce:enforce$1,getterFor:getterFor$1},fails$d$1=fails$l$1,correctPrototypeGetter$1=!fails$d$1(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),has$6$1=has$b$1,toObject$9$1=toObject$e,sharedKey$2$1=sharedKey$4$1,CORRECT_PROTOTYPE_GETTER$1$1=correctPrototypeGetter$1,IE_PROTO$1$1=sharedKey$2$1("IE_PROTO"),ObjectPrototype$1$1=Object.prototype,objectGetPrototypeOf$1=CORRECT_PROTOTYPE_GETTER$1$1?Object.getPrototypeOf:function(e){return e=toObject$9$1(e),has$6$1(e,IE_PROTO$1$1)?e[IE_PROTO$1$1]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ObjectPrototype$1$1:null},fails$c$1=fails$l$1,getPrototypeOf$5$1=objectGetPrototypeOf$1,createNonEnumerableProperty$6$1=createNonEnumerableProperty$9$1,has$5$1=has$b$1,wellKnownSymbol$f$1=wellKnownSymbol$j$1,ITERATOR$4$1=wellKnownSymbol$f$1("iterator"),BUGGY_SAFARI_ITERATORS$1$1=!1,returnThis$2$1=function(){return this},IteratorPrototype$2$1,PrototypeOfArrayIteratorPrototype$1,arrayIterator$1;[].keys&&(arrayIterator$1=[].keys(),"next"in arrayIterator$1?(PrototypeOfArrayIteratorPrototype$1=getPrototypeOf$5$1(getPrototypeOf$5$1(arrayIterator$1)),PrototypeOfArrayIteratorPrototype$1!==Object.prototype&&(IteratorPrototype$2$1=PrototypeOfArrayIteratorPrototype$1)):BUGGY_SAFARI_ITERATORS$1$1=!0);var NEW_ITERATOR_PROTOTYPE$1=IteratorPrototype$2$1==null||fails$c$1(function(){var e={};return IteratorPrototype$2$1[ITERATOR$4$1].call(e)!==e});NEW_ITERATOR_PROTOTYPE$1&&(IteratorPrototype$2$1={});NEW_ITERATOR_PROTOTYPE$1&&!has$5$1(IteratorPrototype$2$1,ITERATOR$4$1)&&createNonEnumerableProperty$6$1(IteratorPrototype$2$1,ITERATOR$4$1,returnThis$2$1);var iteratorsCore$1={IteratorPrototype:IteratorPrototype$2$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1$1},toInteger$1$1=toInteger$4$1,max$2$1=Math.max,min$1$1=Math.min,toAbsoluteIndex$4$1=function(e,r){var t=toInteger$1$1(e);return t<0?max$2$1(t+r,0):min$1$1(t,r)},toIndexedObject$8$1=toIndexedObject$a$1,toLength$7$1=toLength$c,toAbsoluteIndex$3$1=toAbsoluteIndex$4$1,createMethod$2$1=function(e){return function(r,t,n){var a=toIndexedObject$8$1(r),o=toLength$7$1(a.length),s=toAbsoluteIndex$3$1(n,o),l;if(e&&t!=t){for(;o>s;)if(l=a[s++],l!=l)return!0}else for(;o>s;s++)if((e||s in a)&&a[s]===t)return e||s||0;return!e&&-1}},arrayIncludes$2={includes:createMethod$2$1(!0),indexOf:createMethod$2$1(!1)},has$4$1=has$b$1,toIndexedObject$7$1=toIndexedObject$a$1,indexOf$5=arrayIncludes$2.indexOf,hiddenKeys$4$1=hiddenKeys$6$1,objectKeysInternal$1=function(e,r){var t=toIndexedObject$7$1(e),n=0,a=[],o;for(o in t)!has$4$1(hiddenKeys$4$1,o)&&has$4$1(t,o)&&a.push(o);for(;r.length>n;)has$4$1(t,o=r[n++])&&(~indexOf$5(a,o)||a.push(o));return a},enumBugKeys$3$1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1$1=objectKeysInternal$1,enumBugKeys$2$1=enumBugKeys$3$1,objectKeys$4$1=Object.keys||function e(r){return internalObjectKeys$1$1(r,enumBugKeys$2$1)},DESCRIPTORS$a$1=descriptors$1,definePropertyModule$3$1=objectDefineProperty$1,anObject$9$1=anObject$b$1,objectKeys$3$1=objectKeys$4$1,objectDefineProperties$1=DESCRIPTORS$a$1?Object.defineProperties:function e(r,t){anObject$9$1(r);for(var n=objectKeys$3$1(t),a=n.length,o=0,s;a>o;)definePropertyModule$3$1.f(r,s=n[o++],t[s]);return r},getBuiltIn$5$1=getBuiltIn$8$1,html$1$1=getBuiltIn$5$1("document","documentElement"),anObject$8$1=anObject$b$1,defineProperties$5$1=objectDefineProperties$1,enumBugKeys$1$1=enumBugKeys$3$1,hiddenKeys$3$1=hiddenKeys$6$1,html$2=html$1$1,documentCreateElement$2=documentCreateElement$1$1,sharedKey$1$1=sharedKey$4$1,GT$1=">",LT$1="<",PROTOTYPE$1$1="prototype",SCRIPT$1="script",IE_PROTO$2=sharedKey$1$1("IE_PROTO"),EmptyConstructor$1=function(){},scriptTag$1=function(e){return LT$1+SCRIPT$1+GT$1+e+LT$1+"/"+SCRIPT$1+GT$1},NullProtoObjectViaActiveX$1=function(e){e.write(scriptTag$1("")),e.close();var r=e.parentWindow.Object;return e=null,r},NullProtoObjectViaIFrame$1=function(){var e=documentCreateElement$2("iframe"),r="java"+SCRIPT$1+":",t;if(e.style)return e.style.display="none",html$2.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(scriptTag$1("document.F=Object")),t.close(),t.F},activeXDocument$1,NullProtoObject$1=function(){try{activeXDocument$1=new ActiveXObject("htmlfile")}catch{}NullProtoObject$1=document.domain&&activeXDocument$1?NullProtoObjectViaActiveX$1(activeXDocument$1):NullProtoObjectViaIFrame$1()||NullProtoObjectViaActiveX$1(activeXDocument$1);for(var e=enumBugKeys$1$1.length;e--;)delete NullProtoObject$1[PROTOTYPE$1$1][enumBugKeys$1$1[e]];return NullProtoObject$1()};hiddenKeys$3$1[IE_PROTO$2]=!0;var objectCreate$1=Object.create||function e(r,t){var n;return r!==null?(EmptyConstructor$1[PROTOTYPE$1$1]=anObject$8$1(r),n=new EmptyConstructor$1,EmptyConstructor$1[PROTOTYPE$1$1]=null,n[IE_PROTO$2]=r):n=NullProtoObject$1(),t===void 0?n:defineProperties$5$1(n,t)},wellKnownSymbol$e$1=wellKnownSymbol$j$1,TO_STRING_TAG$3$1=wellKnownSymbol$e$1("toStringTag"),test$2$1={};test$2$1[TO_STRING_TAG$3$1]="z";var toStringTagSupport$1=String(test$2$1)==="[object z]",TO_STRING_TAG_SUPPORT$2$1=toStringTagSupport$1,classofRaw$2=classofRaw$1$1,wellKnownSymbol$d$1=wellKnownSymbol$j$1,TO_STRING_TAG$2$1=wellKnownSymbol$d$1("toStringTag"),CORRECT_ARGUMENTS$1=classofRaw$2(function(){return arguments}())=="Arguments",tryGet$1=function(e,r){try{return e[r]}catch{}},classof$8$1=TO_STRING_TAG_SUPPORT$2$1?classofRaw$2:function(e){var r,t,n;return e===void 0?"Undefined":e===null?"Null":typeof(t=tryGet$1(r=Object(e),TO_STRING_TAG$2$1))=="string"?t:CORRECT_ARGUMENTS$1?classofRaw$2(r):(n=classofRaw$2(r))=="Object"&&typeof r.callee=="function"?"Arguments":n},TO_STRING_TAG_SUPPORT$1$1=toStringTagSupport$1,classof$7$1=classof$8$1,objectToString$1=TO_STRING_TAG_SUPPORT$1$1?{}.toString:function e(){return"[object "+classof$7$1(this)+"]"},TO_STRING_TAG_SUPPORT$3=toStringTagSupport$1,defineProperty$6$1=objectDefineProperty$1.f,createNonEnumerableProperty$5$1=createNonEnumerableProperty$9$1,has$3$1=has$b$1,toString$6$1=objectToString$1,wellKnownSymbol$c$1=wellKnownSymbol$j$1,TO_STRING_TAG$1$1=wellKnownSymbol$c$1("toStringTag"),setToStringTag$5$1=function(e,r,t,n){if(e){var a=t?e:e.prototype;has$3$1(a,TO_STRING_TAG$1$1)||defineProperty$6$1(a,TO_STRING_TAG$1$1,{configurable:!0,value:r}),n&&!TO_STRING_TAG_SUPPORT$3&&createNonEnumerableProperty$5$1(a,"toString",toString$6$1)}},iterators$1={},IteratorPrototype$1$1=iteratorsCore$1.IteratorPrototype,create$8$1=objectCreate$1,createPropertyDescriptor$2$1=createPropertyDescriptor$5$1,setToStringTag$4$1=setToStringTag$5$1,Iterators$5$1=iterators$1,returnThis$1$1=function(){return this},createIteratorConstructor$1$1=function(e,r,t){var n=r+" Iterator";return e.prototype=create$8$1(IteratorPrototype$1$1,{next:createPropertyDescriptor$2$1(1,t)}),setToStringTag$4$1(e,n,!1,!0),Iterators$5$1[n]=returnThis$1$1,e},isObject$7$1=isObject$f$1,aPossiblePrototype$1$1=function(e){if(!isObject$7$1(e)&&e!==null)throw TypeError("Can't set "+String(e)+" as a prototype");return e},anObject$7$1=anObject$b$1,aPossiblePrototype$2=aPossiblePrototype$1$1,objectSetPrototypeOf$1=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(r,[]),e=r instanceof Array}catch{}return function(a,o){return anObject$7$1(a),aPossiblePrototype$2(o),e?t.call(a,o):a.__proto__=o,a}}():void 0),createNonEnumerableProperty$4$1=createNonEnumerableProperty$9$1,redefine$3$1=function(e,r,t,n){n&&n.enumerable?e[r]=t:createNonEnumerableProperty$4$1(e,r,t)},$$w$1=_export$1,createIteratorConstructor$2=createIteratorConstructor$1$1,getPrototypeOf$4$1=objectGetPrototypeOf$1,setToStringTag$3$1=setToStringTag$5$1,createNonEnumerableProperty$3$1=createNonEnumerableProperty$9$1,redefine$2$1=redefine$3$1,wellKnownSymbol$b$1=wellKnownSymbol$j$1,Iterators$4$1=iterators$1,IteratorsCore$1=iteratorsCore$1,IteratorPrototype$3=IteratorsCore$1.IteratorPrototype,BUGGY_SAFARI_ITERATORS$2=IteratorsCore$1.BUGGY_SAFARI_ITERATORS,ITERATOR$3$1=wellKnownSymbol$b$1("iterator"),KEYS$1="keys",VALUES$1="values",ENTRIES$1="entries",returnThis$3=function(){return this},defineIterator$3$1=function(e,r,t,n,a,o,s){createIteratorConstructor$2(t,r,n);var l=function(_){if(_===a&&g)return g;if(!BUGGY_SAFARI_ITERATORS$2&&_ in d)return d[_];switch(_){case KEYS$1:return function(){return new t(this,_)};case VALUES$1:return function(){return new t(this,_)};case ENTRIES$1:return function(){return new t(this,_)}}return function(){return new t(this)}},u=r+" Iterator",f=!1,d=e.prototype,v=d[ITERATOR$3$1]||d["@@iterator"]||a&&d[a],g=!BUGGY_SAFARI_ITERATORS$2&&v||l(a),m=r=="Array"&&d.entries||v,b,E,w;if(m&&(b=getPrototypeOf$4$1(m.call(new e)),IteratorPrototype$3!==Object.prototype&&b.next&&(setToStringTag$3$1(b,u,!0,!0),Iterators$4$1[u]=returnThis$3)),a==VALUES$1&&v&&v.name!==VALUES$1&&(f=!0,g=function(){return v.call(this)}),s&&d[ITERATOR$3$1]!==g&&createNonEnumerableProperty$3$1(d,ITERATOR$3$1,g),Iterators$4$1[r]=g,a)if(E={values:l(VALUES$1),keys:o?g:l(KEYS$1),entries:l(ENTRIES$1)},s)for(w in E)(BUGGY_SAFARI_ITERATORS$2||f||!(w in d))&&redefine$2$1(d,w,E[w]);else $$w$1({target:r,proto:!0,forced:BUGGY_SAFARI_ITERATORS$2||f},E);return E},charAt$1=stringMultibyte$1.charAt,toString$5$1=toString$8$1,InternalStateModule$4$1=internalState$1,defineIterator$2$1=defineIterator$3$1,STRING_ITERATOR$1="String Iterator",setInternalState$4$1=InternalStateModule$4$1.set,getInternalState$2$1=InternalStateModule$4$1.getterFor(STRING_ITERATOR$1);defineIterator$2$1(String,"String",function(e){setInternalState$4$1(this,{type:STRING_ITERATOR$1,string:toString$5$1(e),index:0})},function e(){var r=getInternalState$2$1(this),t=r.string,n=r.index,a;return n>=t.length?{value:void 0,done:!0}:(a=charAt$1(t,n),r.index+=a.length,{value:a,done:!1})});var anObject$6$1=anObject$b$1,iteratorClose$2$1=function(e){var r=e.return;if(r!==void 0)return anObject$6$1(r.call(e)).value},anObject$5$1=anObject$b$1,iteratorClose$1$1=iteratorClose$2$1,callWithSafeIterationClosing$1$1=function(e,r,t,n){try{return n?r(anObject$5$1(t)[0],t[1]):r(t)}catch(a){throw iteratorClose$1$1(e),a}},wellKnownSymbol$a$1=wellKnownSymbol$j$1,Iterators$3$1=iterators$1,ITERATOR$2$1=wellKnownSymbol$a$1("iterator"),ArrayPrototype$a$1=Array.prototype,isArrayIteratorMethod$2$1=function(e){return e!==void 0&&(Iterators$3$1.Array===e||ArrayPrototype$a$1[ITERATOR$2$1]===e)},toPropertyKey$1$1=toPropertyKey$4$1,definePropertyModule$2$1=objectDefineProperty$1,createPropertyDescriptor$1$1=createPropertyDescriptor$5$1,createProperty$5$1=function(e,r,t){var n=toPropertyKey$1$1(r);n in e?definePropertyModule$2$1.f(e,n,createPropertyDescriptor$1$1(0,t)):e[n]=t},classof$6$1=classof$8$1,Iterators$2$1=iterators$1,wellKnownSymbol$9$1=wellKnownSymbol$j$1,ITERATOR$1$1=wellKnownSymbol$9$1("iterator"),getIteratorMethod$7=function(e){if(e!=null)return e[ITERATOR$1$1]||e["@@iterator"]||Iterators$2$1[classof$6$1(e)]},bind$3$1=functionBindContext$1,toObject$8$1=toObject$e,callWithSafeIterationClosing$2=callWithSafeIterationClosing$1$1,isArrayIteratorMethod$1$1=isArrayIteratorMethod$2$1,toLength$6$1=toLength$c,createProperty$4$1=createProperty$5$1,getIteratorMethod$6$1=getIteratorMethod$7,arrayFrom$1=function e(r){var t=toObject$8$1(r),n=typeof this=="function"?this:Array,a=arguments.length,o=a>1?arguments[1]:void 0,s=o!==void 0,l=getIteratorMethod$6$1(t),u=0,f,d,v,g,m,b;if(s&&(o=bind$3$1(o,a>2?arguments[2]:void 0,2)),l!=null&&!(n==Array&&isArrayIteratorMethod$1$1(l)))for(g=l.call(t),m=g.next,d=new n;!(v=m.call(g)).done;u++)b=s?callWithSafeIterationClosing$2(g,o,[v.value,u],!0):v.value,createProperty$4$1(d,u,b);else for(f=toLength$6$1(t.length),d=new n(f);f>u;u++)b=s?o(t[u],u):t[u],createProperty$4$1(d,u,b);return d.length=u,d},wellKnownSymbol$8$1=wellKnownSymbol$j$1,ITERATOR$5=wellKnownSymbol$8$1("iterator"),SAFE_CLOSING$1=!1;try{var called$1=0,iteratorWithReturn$1={next:function(){return{done:!!called$1++}},return:function(){SAFE_CLOSING$1=!0}};iteratorWithReturn$1[ITERATOR$5]=function(){return this},Array.from(iteratorWithReturn$1,function(){throw 2})}catch(e){}var checkCorrectnessOfIteration$1$1=function(e,r){if(!r&&!SAFE_CLOSING$1)return!1;var t=!1;try{var n={};n[ITERATOR$5]=function(){return{next:function(){return{done:t=!0}}}},e(n)}catch{}return t},$$v$1=_export$1,from$5$1=arrayFrom$1,checkCorrectnessOfIteration$2=checkCorrectnessOfIteration$1$1,INCORRECT_ITERATION$1=!checkCorrectnessOfIteration$2(function(e){Array.from(e)});$$v$1({target:"Array",stat:!0,forced:INCORRECT_ITERATION$1},{from:from$5$1});var path$k$1=path$p$1,from$4$1=path$k$1.Array.from,parent$D$1=from$4$1,from$3$1=parent$D$1,from$2$1=from$3$1,toIndexedObject$6$1=toIndexedObject$a$1,Iterators$1$1=iterators$1,InternalStateModule$3$1=internalState$1,defineIterator$1$1=defineIterator$3$1,ARRAY_ITERATOR$1="Array Iterator",setInternalState$3$1=InternalStateModule$3$1.set,getInternalState$1$1=InternalStateModule$3$1.getterFor(ARRAY_ITERATOR$1);defineIterator$1$1(Array,"Array",function(e,r){setInternalState$3$1(this,{type:ARRAY_ITERATOR$1,target:toIndexedObject$6$1(e),index:0,kind:r})},function(){var e=getInternalState$1$1(this),r=e.target,t=e.kind,n=e.index++;return!r||n>=r.length?(e.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:n,done:!1}:t=="values"?{value:r[n],done:!1}:{value:[n,r[n]],done:!1}},"values");Iterators$1$1.Arguments=Iterators$1$1.Array;var getIteratorMethod$5$1=getIteratorMethod$7,getIteratorMethod_1$1=getIteratorMethod$5$1,domIterables$1={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},DOMIterables$4=domIterables$1,global$6$1=global$h$1,classof$5$1=classof$8$1,createNonEnumerableProperty$2$1=createNonEnumerableProperty$9$1,Iterators$6=iterators$1,wellKnownSymbol$7$1=wellKnownSymbol$j$1,TO_STRING_TAG$4=wellKnownSymbol$7$1("toStringTag");for(var COLLECTION_NAME$1 in DOMIterables$4){var Collection$1=global$6$1[COLLECTION_NAME$1],CollectionPrototype$1=Collection$1&&Collection$1.prototype;CollectionPrototype$1&&classof$5$1(CollectionPrototype$1)!==TO_STRING_TAG$4&&createNonEnumerableProperty$2$1(CollectionPrototype$1,TO_STRING_TAG$4,COLLECTION_NAME$1),Iterators$6[COLLECTION_NAME$1]=Iterators$6.Array}var parent$C$1=getIteratorMethod_1$1,getIteratorMethod$4$1=parent$C$1,parent$B$1=getIteratorMethod$4$1,getIteratorMethod$3$1=parent$B$1,getIteratorMethod$2$1=getIteratorMethod$3$1,objectGetOwnPropertyNames$1={},internalObjectKeys$2=objectKeysInternal$1,enumBugKeys$4=enumBugKeys$3$1,hiddenKeys$2$1=enumBugKeys$4.concat("length","prototype");objectGetOwnPropertyNames$1.f=Object.getOwnPropertyNames||function e(r){return internalObjectKeys$2(r,hiddenKeys$2$1)};var objectGetOwnPropertyNamesExternal$1={},toIndexedObject$5$1=toIndexedObject$a$1,$getOwnPropertyNames$1$1=objectGetOwnPropertyNames$1.f,toString$4$1={}.toString,windowNames$1=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames$1=function(e){try{return $getOwnPropertyNames$1$1(e)}catch{return windowNames$1.slice()}};objectGetOwnPropertyNamesExternal$1.f=function e(r){return windowNames$1&&toString$4$1.call(r)=="[object Window]"?getWindowNames$1(r):$getOwnPropertyNames$1$1(toIndexedObject$5$1(r))};var objectGetOwnPropertySymbols$1={};objectGetOwnPropertySymbols$1.f=Object.getOwnPropertySymbols;var wellKnownSymbolWrapped$1={},wellKnownSymbol$6$1=wellKnownSymbol$j$1;wellKnownSymbolWrapped$1.f=wellKnownSymbol$6$1;var path$j$1=path$p$1,has$2$1=has$b$1,wrappedWellKnownSymbolModule$1$1=wellKnownSymbolWrapped$1,defineProperty$5$1=objectDefineProperty$1.f,defineWellKnownSymbol$l$1=function(e){var r=path$j$1.Symbol||(path$j$1.Symbol={});has$2$1(r,e)||defineProperty$5$1(r,e,{value:wrappedWellKnownSymbolModule$1$1.f(e)})},$$u$1=_export$1,global$5$1=global$h$1,getBuiltIn$4$1=getBuiltIn$8$1,DESCRIPTORS$9$1=descriptors$1,NATIVE_SYMBOL$3=nativeSymbol$1,fails$b$1=fails$l$1,has$1$1=has$b$1,isArray$9$1=isArray$c,isObject$6$1=isObject$f$1,isSymbol$5=isSymbol$4$1,anObject$4$1=anObject$b$1,toObject$7$1=toObject$e,toIndexedObject$4$1=toIndexedObject$a$1,toPropertyKey$5=toPropertyKey$4$1,$toString$1=toString$8$1,createPropertyDescriptor$6=createPropertyDescriptor$5$1,nativeObjectCreate$1=objectCreate$1,objectKeys$2$1=objectKeys$4$1,getOwnPropertyNamesModule$2$1=objectGetOwnPropertyNames$1,getOwnPropertyNamesExternal$1=objectGetOwnPropertyNamesExternal$1,getOwnPropertySymbolsModule$2$1=objectGetOwnPropertySymbols$1,getOwnPropertyDescriptorModule$1$1=objectGetOwnPropertyDescriptor$1,definePropertyModule$1$1=objectDefineProperty$1,propertyIsEnumerableModule$1$1=objectPropertyIsEnumerable$1,createNonEnumerableProperty$1$1=createNonEnumerableProperty$9$1,redefine$1$1=redefine$3$1,shared$5=shared$4$1.exports,sharedKey$5=sharedKey$4$1,hiddenKeys$1$1=hiddenKeys$6$1,uid$1$1=uid$4$1,wellKnownSymbol$5$1=wellKnownSymbol$j$1,wrappedWellKnownSymbolModule$2=wellKnownSymbolWrapped$1,defineWellKnownSymbol$k$1=defineWellKnownSymbol$l$1,setToStringTag$2$1=setToStringTag$5$1,InternalStateModule$2$1=internalState$1,$forEach$1$1=arrayIteration$1.forEach,HIDDEN$1=sharedKey$5("hidden"),SYMBOL$1="Symbol",PROTOTYPE$2="prototype",TO_PRIMITIVE$2=wellKnownSymbol$5$1("toPrimitive"),setInternalState$2$1=InternalStateModule$2$1.set,getInternalState$3=InternalStateModule$2$1.getterFor(SYMBOL$1),ObjectPrototype$2=Object[PROTOTYPE$2],$Symbol$1=global$5$1.Symbol,$stringify$1$1=getBuiltIn$4$1("JSON","stringify"),nativeGetOwnPropertyDescriptor$1$1=getOwnPropertyDescriptorModule$1$1.f,nativeDefineProperty$1=definePropertyModule$1$1.f,nativeGetOwnPropertyNames$1=getOwnPropertyNamesExternal$1.f,nativePropertyIsEnumerable$1=propertyIsEnumerableModule$1$1.f,AllSymbols$1=shared$5("symbols"),ObjectPrototypeSymbols$1=shared$5("op-symbols"),StringToSymbolRegistry$1=shared$5("string-to-symbol-registry"),SymbolToStringRegistry$1=shared$5("symbol-to-string-registry"),WellKnownSymbolsStore$2=shared$5("wks"),QObject$1=global$5$1.QObject,USE_SETTER$1=!QObject$1||!QObject$1[PROTOTYPE$2]||!QObject$1[PROTOTYPE$2].findChild,setSymbolDescriptor$1=DESCRIPTORS$9$1&&fails$b$1(function(){return nativeObjectCreate$1(nativeDefineProperty$1({},"a",{get:function(){return nativeDefineProperty$1(this,"a",{value:7}).a}})).a!=7})?function(e,r,t){var n=nativeGetOwnPropertyDescriptor$1$1(ObjectPrototype$2,r);n&&delete ObjectPrototype$2[r],nativeDefineProperty$1(e,r,t),n&&e!==ObjectPrototype$2&&nativeDefineProperty$1(ObjectPrototype$2,r,n)}:nativeDefineProperty$1,wrap$1$1=function(e,r){var t=AllSymbols$1[e]=nativeObjectCreate$1($Symbol$1[PROTOTYPE$2]);return setInternalState$2$1(t,{type:SYMBOL$1,tag:e,description:r}),DESCRIPTORS$9$1||(t.description=r),t},$defineProperty$2=function e(r,t,n){r===ObjectPrototype$2&&$defineProperty$2(ObjectPrototypeSymbols$1,t,n),anObject$4$1(r);var a=toPropertyKey$5(t);return anObject$4$1(n),has$1$1(AllSymbols$1,a)?(n.enumerable?(has$1$1(r,HIDDEN$1)&&r[HIDDEN$1][a]&&(r[HIDDEN$1][a]=!1),n=nativeObjectCreate$1(n,{enumerable:createPropertyDescriptor$6(0,!1)})):(has$1$1(r,HIDDEN$1)||nativeDefineProperty$1(r,HIDDEN$1,createPropertyDescriptor$6(1,{})),r[HIDDEN$1][a]=!0),setSymbolDescriptor$1(r,a,n)):nativeDefineProperty$1(r,a,n)},$defineProperties$1=function e(r,t){anObject$4$1(r);var n=toIndexedObject$4$1(t),a=objectKeys$2$1(n).concat($getOwnPropertySymbols$1(n));return $forEach$1$1(a,function(o){(!DESCRIPTORS$9$1||$propertyIsEnumerable$2.call(n,o))&&$defineProperty$2(r,o,n[o])}),r},$create$1=function e(r,t){return t===void 0?nativeObjectCreate$1(r):$defineProperties$1(nativeObjectCreate$1(r),t)},$propertyIsEnumerable$2=function e(r){var t=toPropertyKey$5(r),n=nativePropertyIsEnumerable$1.call(this,t);return this===ObjectPrototype$2&&has$1$1(AllSymbols$1,t)&&!has$1$1(ObjectPrototypeSymbols$1,t)?!1:n||!has$1$1(this,t)||!has$1$1(AllSymbols$1,t)||has$1$1(this,HIDDEN$1)&&this[HIDDEN$1][t]?n:!0},$getOwnPropertyDescriptor$2=function e(r,t){var n=toIndexedObject$4$1(r),a=toPropertyKey$5(t);if(!(n===ObjectPrototype$2&&has$1$1(AllSymbols$1,a)&&!has$1$1(ObjectPrototypeSymbols$1,a))){var o=nativeGetOwnPropertyDescriptor$1$1(n,a);return o&&has$1$1(AllSymbols$1,a)&&!(has$1$1(n,HIDDEN$1)&&n[HIDDEN$1][a])&&(o.enumerable=!0),o}},$getOwnPropertyNames$2=function e(r){var t=nativeGetOwnPropertyNames$1(toIndexedObject$4$1(r)),n=[];return $forEach$1$1(t,function(a){!has$1$1(AllSymbols$1,a)&&!has$1$1(hiddenKeys$1$1,a)&&n.push(a)}),n},$getOwnPropertySymbols$1=function e(r){var t=r===ObjectPrototype$2,n=nativeGetOwnPropertyNames$1(t?ObjectPrototypeSymbols$1:toIndexedObject$4$1(r)),a=[];return $forEach$1$1(n,function(o){has$1$1(AllSymbols$1,o)&&(!t||has$1$1(ObjectPrototype$2,o))&&a.push(AllSymbols$1[o])}),a};NATIVE_SYMBOL$3||($Symbol$1=function(){if(this instanceof $Symbol$1)throw TypeError("Symbol is not a constructor");var r=!arguments.length||arguments[0]===void 0?void 0:$toString$1(arguments[0]),t=uid$1$1(r),n=function(a){this===ObjectPrototype$2&&n.call(ObjectPrototypeSymbols$1,a),has$1$1(this,HIDDEN$1)&&has$1$1(this[HIDDEN$1],t)&&(this[HIDDEN$1][t]=!1),setSymbolDescriptor$1(this,t,createPropertyDescriptor$6(1,a))};return DESCRIPTORS$9$1&&USE_SETTER$1&&setSymbolDescriptor$1(ObjectPrototype$2,t,{configurable:!0,set:n}),wrap$1$1(t,r)},redefine$1$1($Symbol$1[PROTOTYPE$2],"toString",function(){return getInternalState$3(this).tag}),redefine$1$1($Symbol$1,"withoutSetter",function(e){return wrap$1$1(uid$1$1(e),e)}),propertyIsEnumerableModule$1$1.f=$propertyIsEnumerable$2,definePropertyModule$1$1.f=$defineProperty$2,getOwnPropertyDescriptorModule$1$1.f=$getOwnPropertyDescriptor$2,getOwnPropertyNamesModule$2$1.f=getOwnPropertyNamesExternal$1.f=$getOwnPropertyNames$2,getOwnPropertySymbolsModule$2$1.f=$getOwnPropertySymbols$1,wrappedWellKnownSymbolModule$2.f=function(e){return wrap$1$1(wellKnownSymbol$5$1(e),e)},DESCRIPTORS$9$1&&nativeDefineProperty$1($Symbol$1[PROTOTYPE$2],"description",{configurable:!0,get:function(){return getInternalState$3(this).description}}));$$u$1({global:!0,wrap:!0,forced:!NATIVE_SYMBOL$3,sham:!NATIVE_SYMBOL$3},{Symbol:$Symbol$1});$forEach$1$1(objectKeys$2$1(WellKnownSymbolsStore$2),function(e){defineWellKnownSymbol$k$1(e)});$$u$1({target:SYMBOL$1,stat:!0,forced:!NATIVE_SYMBOL$3},{for:function(e){var r=$toString$1(e);if(has$1$1(StringToSymbolRegistry$1,r))return StringToSymbolRegistry$1[r];var t=$Symbol$1(r);return StringToSymbolRegistry$1[r]=t,SymbolToStringRegistry$1[t]=r,t},keyFor:function e(r){if(!isSymbol$5(r))throw TypeError(r+" is not a symbol");if(has$1$1(SymbolToStringRegistry$1,r))return SymbolToStringRegistry$1[r]},useSetter:function(){USE_SETTER$1=!0},useSimple:function(){USE_SETTER$1=!1}});$$u$1({target:"Object",stat:!0,forced:!NATIVE_SYMBOL$3,sham:!DESCRIPTORS$9$1},{create:$create$1,defineProperty:$defineProperty$2,defineProperties:$defineProperties$1,getOwnPropertyDescriptor:$getOwnPropertyDescriptor$2});$$u$1({target:"Object",stat:!0,forced:!NATIVE_SYMBOL$3},{getOwnPropertyNames:$getOwnPropertyNames$2,getOwnPropertySymbols:$getOwnPropertySymbols$1});$$u$1({target:"Object",stat:!0,forced:fails$b$1(function(){getOwnPropertySymbolsModule$2$1.f(1)})},{getOwnPropertySymbols:function e(r){return getOwnPropertySymbolsModule$2$1.f(toObject$7$1(r))}});if($stringify$1$1){var FORCED_JSON_STRINGIFY$1=!NATIVE_SYMBOL$3||fails$b$1(function(){var e=$Symbol$1();return $stringify$1$1([e])!="[null]"||$stringify$1$1({a:e})!="{}"||$stringify$1$1(Object(e))!="{}"});$$u$1({target:"JSON",stat:!0,forced:FORCED_JSON_STRINGIFY$1},{stringify:function(r,t,n){for(var a=[r],o=1,s;arguments.length>o;)a.push(arguments[o++]);if(s=t,!(!isObject$6$1(t)&&r===void 0||isSymbol$5(r)))return isArray$9$1(t)||(t=function(l,u){if(typeof s=="function"&&(u=s.call(this,l,u)),!isSymbol$5(u))return u}),a[1]=t,$stringify$1$1.apply(null,a)}})}$Symbol$1[PROTOTYPE$2][TO_PRIMITIVE$2]||createNonEnumerableProperty$1$1($Symbol$1[PROTOTYPE$2],TO_PRIMITIVE$2,$Symbol$1[PROTOTYPE$2].valueOf);setToStringTag$2$1($Symbol$1,SYMBOL$1);hiddenKeys$1$1[HIDDEN$1]=!0;var path$i$1=path$p$1,getOwnPropertySymbols$2$1=path$i$1.Object.getOwnPropertySymbols,parent$A$1=getOwnPropertySymbols$2$1,getOwnPropertySymbols$1$1=parent$A$1,getOwnPropertySymbols$3=getOwnPropertySymbols$1$1,getOwnPropertyDescriptor$3$1={exports:{}},$$t$1=_export$1,fails$a$1=fails$l$1,toIndexedObject$3$1=toIndexedObject$a$1,nativeGetOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor$1.f,DESCRIPTORS$8$1=descriptors$1,FAILS_ON_PRIMITIVES$2$1=fails$a$1(function(){nativeGetOwnPropertyDescriptor$2(1)}),FORCED$5$1=!DESCRIPTORS$8$1||FAILS_ON_PRIMITIVES$2$1;$$t$1({target:"Object",stat:!0,forced:FORCED$5$1,sham:!DESCRIPTORS$8$1},{getOwnPropertyDescriptor:function e(r,t){return nativeGetOwnPropertyDescriptor$2(toIndexedObject$3$1(r),t)}});var path$h$1=path$p$1,Object$3$1=path$h$1.Object,getOwnPropertyDescriptor$2$1=getOwnPropertyDescriptor$3$1.exports=function e(r,t){return Object$3$1.getOwnPropertyDescriptor(r,t)};Object$3$1.getOwnPropertyDescriptor.sham&&(getOwnPropertyDescriptor$2$1.sham=!0);var parent$z$1=getOwnPropertyDescriptor$3$1.exports,getOwnPropertyDescriptor$1$1=parent$z$1,getOwnPropertyDescriptor$8=getOwnPropertyDescriptor$1$1,getBuiltIn$3$1=getBuiltIn$8$1,getOwnPropertyNamesModule$1$1=objectGetOwnPropertyNames$1,getOwnPropertySymbolsModule$1$1=objectGetOwnPropertySymbols$1,anObject$3$1=anObject$b$1,ownKeys$6$1=getBuiltIn$3$1("Reflect","ownKeys")||function e(r){var t=getOwnPropertyNamesModule$1$1.f(anObject$3$1(r)),n=getOwnPropertySymbolsModule$1$1.f;return n?t.concat(n(r)):t},$$s$1=_export$1,DESCRIPTORS$7$1=descriptors$1,ownKeys$5$1=ownKeys$6$1,toIndexedObject$2$1=toIndexedObject$a$1,getOwnPropertyDescriptorModule$3=objectGetOwnPropertyDescriptor$1,createProperty$3$1=createProperty$5$1;$$s$1({target:"Object",stat:!0,sham:!DESCRIPTORS$7$1},{getOwnPropertyDescriptors:function e(r){for(var t=toIndexedObject$2$1(r),n=getOwnPropertyDescriptorModule$3.f,a=ownKeys$5$1(t),o={},s=0,l,u;a.length>s;)u=n(t,l=a[s++]),u!==void 0&&createProperty$3$1(o,l,u);return o}});var path$g$1=path$p$1,getOwnPropertyDescriptors$2$1=path$g$1.Object.getOwnPropertyDescriptors,parent$y$1=getOwnPropertyDescriptors$2$1,getOwnPropertyDescriptors$1$1=parent$y$1,getOwnPropertyDescriptors$3=getOwnPropertyDescriptors$1$1,defineProperties$4$1={exports:{}},$$r$1=_export$1,DESCRIPTORS$6$1=descriptors$1,defineProperties$3$1=objectDefineProperties$1;$$r$1({target:"Object",stat:!0,forced:!DESCRIPTORS$6$1,sham:!DESCRIPTORS$6$1},{defineProperties:defineProperties$3$1});var path$f$1=path$p$1,Object$2$1=path$f$1.Object,defineProperties$2$1=defineProperties$4$1.exports=function e(r,t){return Object$2$1.defineProperties(r,t)};Object$2$1.defineProperties.sham&&(defineProperties$2$1.sham=!0);var parent$x$1=defineProperties$4$1.exports,defineProperties$1$1=parent$x$1,defineProperties$6=defineProperties$1$1,defineProperty$4$1=defineProperty$9$1;function _defineProperty$1(e,r,t){return r in e?defineProperty$7$1(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var $$q$1=_export$1,isArray$8$1=isArray$c;$$q$1({target:"Array",stat:!0},{isArray:isArray$8$1});var path$e$1=path$p$1,isArray$7$1=path$e$1.Array.isArray,parent$w$1=isArray$7$1,isArray$6$1=parent$w$1,parent$v$1=isArray$6$1,isArray$5$1=parent$v$1,isArray$4$1=isArray$5$1;function _arrayWithHoles$1(e){if(isArray$4$1(e))return e}var $$p$1=_export$1,fails$9$1=fails$l$1,isArray$3$1=isArray$c,isObject$5$1=isObject$f$1,toObject$6$1=toObject$e,toLength$5$1=toLength$c,createProperty$2$1=createProperty$5$1,arraySpeciesCreate$1$1=arraySpeciesCreate$4,arrayMethodHasSpeciesSupport$2$1=arrayMethodHasSpeciesSupport$5$1,wellKnownSymbol$4$1=wellKnownSymbol$j$1,V8_VERSION$3=engineV8Version$1,IS_CONCAT_SPREADABLE$1=wellKnownSymbol$4$1("isConcatSpreadable"),MAX_SAFE_INTEGER$1$1=9007199254740991,MAXIMUM_ALLOWED_INDEX_EXCEEDED$1="Maximum allowed index exceeded",IS_CONCAT_SPREADABLE_SUPPORT$1=V8_VERSION$3>=51||!fails$9$1(function(){var e=[];return e[IS_CONCAT_SPREADABLE$1]=!1,e.concat()[0]!==e}),SPECIES_SUPPORT$1=arrayMethodHasSpeciesSupport$2$1("concat"),isConcatSpreadable$1=function(e){if(!isObject$5$1(e))return!1;var r=e[IS_CONCAT_SPREADABLE$1];return r!==void 0?!!r:isArray$3$1(e)},FORCED$4$1=!IS_CONCAT_SPREADABLE_SUPPORT$1||!SPECIES_SUPPORT$1;$$p$1({target:"Array",proto:!0,forced:FORCED$4$1},{concat:function e(r){var t=toObject$6$1(this),n=arraySpeciesCreate$1$1(t,0),a=0,o,s,l,u,f;for(o=-1,l=arguments.length;o<l;o++)if(f=o===-1?t:arguments[o],isConcatSpreadable$1(f)){if(u=toLength$5$1(f.length),a+u>MAX_SAFE_INTEGER$1$1)throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED$1);for(s=0;s<u;s++,a++)s in f&&createProperty$2$1(n,a,f[s])}else{if(a>=MAX_SAFE_INTEGER$1$1)throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED$1);createProperty$2$1(n,a++,f)}return n.length=a,n}});var defineWellKnownSymbol$j$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$j$1("asyncIterator");var defineWellKnownSymbol$i$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$i$1("hasInstance");var defineWellKnownSymbol$h$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$h$1("isConcatSpreadable");var defineWellKnownSymbol$g$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$g$1("iterator");var defineWellKnownSymbol$f$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$f$1("match");var defineWellKnownSymbol$e$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$e$1("matchAll");var defineWellKnownSymbol$d$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$d$1("replace");var defineWellKnownSymbol$c$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$c$1("search");var defineWellKnownSymbol$b$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$b$1("species");var defineWellKnownSymbol$a$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$a$1("split");var defineWellKnownSymbol$9$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$9$1("toPrimitive");var defineWellKnownSymbol$8$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$8$1("toStringTag");var defineWellKnownSymbol$7$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$7$1("unscopables");var global$4$1=global$h$1,setToStringTag$1$1=setToStringTag$5$1;setToStringTag$1$1(global$4$1.JSON,"JSON",!0);var path$d$1=path$p$1,symbol$4$1=path$d$1.Symbol,parent$u$1=symbol$4$1,symbol$3$1=parent$u$1,defineWellKnownSymbol$6$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$6$1("asyncDispose");var defineWellKnownSymbol$5$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$5$1("dispose");var defineWellKnownSymbol$4$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$4$1("matcher");var defineWellKnownSymbol$3$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$3$1("metadata");var defineWellKnownSymbol$2$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$2$1("observable");var defineWellKnownSymbol$1$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$1$1("patternMatch");var defineWellKnownSymbol$m=defineWellKnownSymbol$l$1;defineWellKnownSymbol$m("replaceAll");var parent$t$1=symbol$3$1,symbol$2$1=parent$t$1,symbol$1$1=symbol$2$1;function _iterableToArrayLimit$1(e,r){var t=e==null?null:typeof symbol$1$1!="undefined"&&getIteratorMethod$2$1(e)||e["@@iterator"];if(t!=null){var n=[],a=!0,o=!1,s,l;try{for(t=t.call(e);!(a=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));a=!0);}catch(u){o=!0,l=u}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw l}}return n}}var $$o$1=_export$1,isObject$4$1=isObject$f$1,isArray$2$1=isArray$c,toAbsoluteIndex$2$1=toAbsoluteIndex$4$1,toLength$4$1=toLength$c,toIndexedObject$1$1=toIndexedObject$a$1,createProperty$1$1=createProperty$5$1,wellKnownSymbol$3$1=wellKnownSymbol$j$1,arrayMethodHasSpeciesSupport$1$1=arrayMethodHasSpeciesSupport$5$1,HAS_SPECIES_SUPPORT$1$1=arrayMethodHasSpeciesSupport$1$1("slice"),SPECIES$1$1=wellKnownSymbol$3$1("species"),nativeSlice$1=[].slice,max$1$1=Math.max;$$o$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$1$1},{slice:function e(r,t){var n=toIndexedObject$1$1(this),a=toLength$4$1(n.length),o=toAbsoluteIndex$2$1(r,a),s=toAbsoluteIndex$2$1(t===void 0?a:t,a),l,u,f;if(isArray$2$1(n)&&(l=n.constructor,typeof l=="function"&&(l===Array||isArray$2$1(l.prototype))?l=void 0:isObject$4$1(l)&&(l=l[SPECIES$1$1],l===null&&(l=void 0)),l===Array||l===void 0))return nativeSlice$1.call(n,o,s);for(u=new(l===void 0?Array:l)(max$1$1(s-o,0)),f=0;o<s;o++,f++)o in n&&createProperty$1$1(u,f,n[o]);return u.length=f,u}});var entryVirtual$e$1=entryVirtual$k,slice$6$1=entryVirtual$e$1("Array").slice,slice$5$1=slice$6$1,ArrayPrototype$9$1=Array.prototype,slice_1$1=function(e){var r=e.slice;return e===ArrayPrototype$9$1||e instanceof Array&&r===ArrayPrototype$9$1.slice?slice$5$1:r},parent$s$1=slice_1$1,slice$4$1=parent$s$1,parent$r$1=slice$4$1,slice$3$1=parent$r$1,slice$2$1=slice$3$1,parent$q$1=from$3$1,from$1$1=parent$q$1,from$6=from$1$1;function _arrayLikeToArray$4$1(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _unsupportedIterableToArray$4$1(e,r){var t;if(!!e){if(typeof e=="string")return _arrayLikeToArray$4$1(e,r);var n=slice$2$1(t=Object.prototype.toString.call(e)).call(t,8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return from$6(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$4$1(e,r)}}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray$1(e,r){return _arrayWithHoles$1(e)||_iterableToArrayLimit$1(e,r)||_unsupportedIterableToArray$4$1(e,r)||_nonIterableRest$1()}var WrappedWellKnownSymbolModule$1=wellKnownSymbolWrapped$1,iterator$4=WrappedWellKnownSymbolModule$1.f("iterator"),parent$p$1=iterator$4,iterator$3$1=parent$p$1,parent$o$1=iterator$3$1,iterator$2$1=parent$o$1,iterator$1$1=iterator$2$1;function _typeof$1(e){return typeof symbol$1$1=="function"&&typeof iterator$1$1=="symbol"?_typeof$1=function(t){return typeof t}:_typeof$1=function(t){return t&&typeof symbol$1$1=="function"&&t.constructor===symbol$1$1&&t!==symbol$1$1.prototype?"symbol":typeof t},_typeof$1(e)}function _arrayWithoutHoles$1(e){if(isArray$4$1(e))return _arrayLikeToArray$4$1(e)}function _iterableToArray$1(e){if(typeof symbol$1$1!="undefined"&&getIteratorMethod$2$1(e)!=null||e["@@iterator"]!=null)return from$6(e)}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray$1(e){return _arrayWithoutHoles$1(e)||_iterableToArray$1(e)||_unsupportedIterableToArray$4$1(e)||_nonIterableSpread$1()}var symbol$5=symbol$3$1,entryVirtual$d$1=entryVirtual$k,concat$3$1=entryVirtual$d$1("Array").concat,concat$2$1=concat$3$1,ArrayPrototype$8$1=Array.prototype,concat_1$1=function(e){var r=e.concat;return e===ArrayPrototype$8$1||e instanceof Array&&r===ArrayPrototype$8$1.concat?concat$2$1:r},parent$n$1=concat_1$1,concat$1$1=parent$n$1,concat$4=concat$1$1,slice$1$1=slice$4$1,$$n$1=_export$1,ownKeys$4$1=ownKeys$6$1;$$n$1({target:"Reflect",stat:!0},{ownKeys:ownKeys$4$1});var path$c$1=path$p$1,ownKeys$3$1=path$c$1.Reflect.ownKeys,parent$m$1=ownKeys$3$1,ownKeys$2$1=parent$m$1,ownKeys$1$1=ownKeys$2$1,isArray$1$1=isArray$6$1,$$m$1=_export$1,toObject$5$1=toObject$e,nativeKeys$1=objectKeys$4$1,fails$8$1=fails$l$1,FAILS_ON_PRIMITIVES$1$1=fails$8$1(function(){nativeKeys$1(1)});$$m$1({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$1$1},{keys:function e(r){return nativeKeys$1(toObject$5$1(r))}});var path$b$1=path$p$1,keys$6=path$b$1.Object.keys,parent$l$1=keys$6,keys$5=parent$l$1,keys$4=keys$5,$$l$1=_export$1;$$l$1({target:"Date",stat:!0},{now:function e(){return new Date().getTime()}});var path$a$1=path$p$1;path$a$1.Date.now;var $forEach$2=arrayIteration$1.forEach,arrayMethodIsStrict$3$1=arrayMethodIsStrict$5$1,STRICT_METHOD$3$1=arrayMethodIsStrict$3$1("forEach"),arrayForEach$1=STRICT_METHOD$3$1?[].forEach:function e(r){return $forEach$2(this,r,arguments.length>1?arguments[1]:void 0)},$$k$1=_export$1,forEach$5$1=arrayForEach$1;$$k$1({target:"Array",proto:!0,forced:[].forEach!=forEach$5$1},{forEach:forEach$5$1});var entryVirtual$c$1=entryVirtual$k,forEach$4$1=entryVirtual$c$1("Array").forEach,parent$k$1=forEach$4$1,forEach$3$1=parent$k$1,forEach$2$1=forEach$3$1,classof$4$1=classof$8$1,ArrayPrototype$7$1=Array.prototype,DOMIterables$3={DOMTokenList:!0,NodeList:!0},forEach_1$1=function(e){var r=e.forEach;return e===ArrayPrototype$7$1||e instanceof Array&&r===ArrayPrototype$7$1.forEach||DOMIterables$3.hasOwnProperty(classof$4$1(e))?forEach$2$1:r},forEach$1$1=forEach_1$1,$$j$1=_export$1,isArray$d=isArray$c,nativeReverse$1=[].reverse,test$1$1=[1,2];$$j$1({target:"Array",proto:!0,forced:String(test$1$1)===String(test$1$1.reverse())},{reverse:function e(){return isArray$d(this)&&(this.length=this.length),nativeReverse$1.call(this)}});var entryVirtual$b$1=entryVirtual$k,reverse$3$1=entryVirtual$b$1("Array").reverse,reverse$2$1=reverse$3$1,ArrayPrototype$6$1=Array.prototype,reverse_1$1=function(e){var r=e.reverse;return e===ArrayPrototype$6$1||e instanceof Array&&r===ArrayPrototype$6$1.reverse?reverse$2$1:r},parent$j$1=reverse_1$1,reverse$1$1=parent$j$1,reverse$4=reverse$1$1,$$i$1=_export$1,toAbsoluteIndex$1$1=toAbsoluteIndex$4$1,toInteger$5=toInteger$4$1,toLength$3$1=toLength$c,toObject$4$1=toObject$e,arraySpeciesCreate$5=arraySpeciesCreate$4,createProperty$6=createProperty$5$1,arrayMethodHasSpeciesSupport$6=arrayMethodHasSpeciesSupport$5$1,HAS_SPECIES_SUPPORT$4=arrayMethodHasSpeciesSupport$6("splice"),max$3=Math.max,min$3=Math.min,MAX_SAFE_INTEGER$2=9007199254740991,MAXIMUM_ALLOWED_LENGTH_EXCEEDED$1="Maximum allowed length exceeded";$$i$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$4},{splice:function e(r,t){var n=toObject$4$1(this),a=toLength$3$1(n.length),o=toAbsoluteIndex$1$1(r,a),s=arguments.length,l,u,f,d,v,g;if(s===0?l=u=0:s===1?(l=0,u=a-o):(l=s-2,u=min$3(max$3(toInteger$5(t),0),a-o)),a+l-u>MAX_SAFE_INTEGER$2)throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED$1);for(f=arraySpeciesCreate$5(n,u),d=0;d<u;d++)v=o+d,v in n&&createProperty$6(f,d,n[v]);if(f.length=u,l<u){for(d=o;d<a-u;d++)v=d+u,g=d+l,v in n?n[g]=n[v]:delete n[g];for(d=a;d>a-u+l;d--)delete n[d-1]}else if(l>u)for(d=a-u;d>o;d--)v=d+u-1,g=d+l-1,v in n?n[g]=n[v]:delete n[g];for(d=0;d<l;d++)n[d+o]=arguments[d+2];return n.length=a-u+l,f}});var entryVirtual$a$1=entryVirtual$k,splice$3$1=entryVirtual$a$1("Array").splice,splice$2$1=splice$3$1,ArrayPrototype$5$1=Array.prototype,splice_1$1=function(e){var r=e.splice;return e===ArrayPrototype$5$1||e instanceof Array&&r===ArrayPrototype$5$1.splice?splice$2$1:r},parent$i$1=splice_1$1,splice$1$1=parent$i$1,splice$4=splice$1$1,DESCRIPTORS$5$1=descriptors$1,fails$7$1=fails$l$1,objectKeys$1$1=objectKeys$4$1,getOwnPropertySymbolsModule$3=objectGetOwnPropertySymbols$1,propertyIsEnumerableModule$3=objectPropertyIsEnumerable$1,toObject$3$1=toObject$e,IndexedObject$4=indexedObject$1,$assign$1=Object.assign,defineProperty$3$1=Object.defineProperty,objectAssign$1=!$assign$1||fails$7$1(function(){if(DESCRIPTORS$5$1&&$assign$1({b:1},$assign$1(defineProperty$3$1({},"a",{enumerable:!0,get:function(){defineProperty$3$1(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},r={},t=Symbol(),n="abcdefghijklmnopqrst";return e[t]=7,n.split("").forEach(function(a){r[a]=a}),$assign$1({},e)[t]!=7||objectKeys$1$1($assign$1({},r)).join("")!=n})?function e(r,t){for(var n=toObject$3$1(r),a=arguments.length,o=1,s=getOwnPropertySymbolsModule$3.f,l=propertyIsEnumerableModule$3.f;a>o;)for(var u=IndexedObject$4(arguments[o++]),f=s?objectKeys$1$1(u).concat(s(u)):objectKeys$1$1(u),d=f.length,v=0,g;d>v;)g=f[v++],(!DESCRIPTORS$5$1||l.call(u,g))&&(n[g]=u[g]);return n}:$assign$1,$$h$1=_export$1,assign$5$1=objectAssign$1;$$h$1({target:"Object",stat:!0,forced:Object.assign!==assign$5$1},{assign:assign$5$1});var path$9$1=path$p$1,assign$4$1=path$9$1.Object.assign,parent$h$1=assign$4$1,assign$3$1=parent$h$1,assign$2$1=assign$3$1,$$g$1=_export$1,$includes$1=arrayIncludes$2.includes;$$g$1({target:"Array",proto:!0},{includes:function e(r){return $includes$1(this,r,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$9$1=entryVirtual$k;entryVirtual$9$1("Array").includes;var isObject$3$1=isObject$f$1,classof$3$1=classofRaw$1$1,wellKnownSymbol$2$1=wellKnownSymbol$j$1,MATCH$1$1=wellKnownSymbol$2$1("match"),isRegexp$1=function(e){var r;return isObject$3$1(e)&&((r=e[MATCH$1$1])!==void 0?!!r:classof$3$1(e)=="RegExp")},isRegExp$1=isRegexp$1,notARegexp$1=function(e){if(isRegExp$1(e))throw TypeError("The method doesn't accept regular expressions");return e},wellKnownSymbol$1$1=wellKnownSymbol$j$1,MATCH$2=wellKnownSymbol$1$1("match"),correctIsRegexpLogic$1=function(e){var r=/./;try{"/./"[e](r)}catch{try{return r[MATCH$2]=!1,"/./"[e](r)}catch{}}return!1},$$f$1=_export$1,notARegExp$1=notARegexp$1,requireObjectCoercible$1$1=requireObjectCoercible$5$1,toString$3$1=toString$8$1,correctIsRegExpLogic$1=correctIsRegexpLogic$1;$$f$1({target:"String",proto:!0,forced:!correctIsRegExpLogic$1("includes")},{includes:function e(r){return!!~toString$3$1(requireObjectCoercible$1$1(this)).indexOf(toString$3$1(notARegExp$1(r)),arguments.length>1?arguments[1]:void 0)}});var entryVirtual$8$1=entryVirtual$k;entryVirtual$8$1("String").includes;var $$e$1=_export$1,fails$6$1=fails$l$1,toObject$2$1=toObject$e,nativeGetPrototypeOf$1=objectGetPrototypeOf$1,CORRECT_PROTOTYPE_GETTER$2=correctPrototypeGetter$1,FAILS_ON_PRIMITIVES$4=fails$6$1(function(){nativeGetPrototypeOf$1(1)});$$e$1({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$4,sham:!CORRECT_PROTOTYPE_GETTER$2},{getPrototypeOf:function e(r){return nativeGetPrototypeOf$1(toObject$2$1(r))}});var path$8$1=path$p$1,getPrototypeOf$3$1=path$8$1.Object.getPrototypeOf,parent$g$1=getPrototypeOf$3$1,getPrototypeOf$2$1=parent$g$1,DESCRIPTORS$4$1=descriptors$1,objectKeys$5=objectKeys$4$1,toIndexedObject$b=toIndexedObject$a$1,propertyIsEnumerable$1=objectPropertyIsEnumerable$1.f,createMethod$1$1=function(e){return function(r){for(var t=toIndexedObject$b(r),n=objectKeys$5(t),a=n.length,o=0,s=[],l;a>o;)l=n[o++],(!DESCRIPTORS$4$1||propertyIsEnumerable$1.call(t,l))&&s.push(e?[l,t[l]]:t[l]);return s}},objectToArray$1={entries:createMethod$1$1(!0),values:createMethod$1$1(!1)},$$d$1=_export$1,$values$1=objectToArray$1.values;$$d$1({target:"Object",stat:!0},{values:function e(r){return $values$1(r)}});var path$7$1=path$p$1;path$7$1.Object.values;var whitespaces$3$1=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,requireObjectCoercible$6=requireObjectCoercible$5$1,toString$2$1=toString$8$1,whitespaces$2$1=whitespaces$3$1,whitespace$1="["+whitespaces$2$1+"]",ltrim$1=RegExp("^"+whitespace$1+whitespace$1+"*"),rtrim$1=RegExp(whitespace$1+whitespace$1+"*$"),createMethod$6=function(e){return function(r){var t=toString$2$1(requireObjectCoercible$6(r));return e&1&&(t=t.replace(ltrim$1,"")),e&2&&(t=t.replace(rtrim$1,"")),t}},stringTrim$1={start:createMethod$6(1),end:createMethod$6(2),trim:createMethod$6(3)},global$3$1=global$h$1,toString$1$1=toString$8$1,trim$2=stringTrim$1.trim,whitespaces$1$1=whitespaces$3$1,$parseInt$1=global$3$1.parseInt,hex$1=/^[+-]?0[Xx]/,FORCED$3$1=$parseInt$1(whitespaces$1$1+"08")!==8||$parseInt$1(whitespaces$1$1+"0x16")!==22,numberParseInt$1=FORCED$3$1?function e(r,t){var n=trim$2(toString$1$1(r));return $parseInt$1(n,t>>>0||(hex$1.test(n)?16:10))}:$parseInt$1,$$c$1=_export$1,parseIntImplementation$1=numberParseInt$1;$$c$1({global:!0,forced:parseInt!=parseIntImplementation$1},{parseInt:parseIntImplementation$1});var path$6$1=path$p$1;path$6$1.parseInt;var $$b$1=_export$1,$indexOf$1=arrayIncludes$2.indexOf,arrayMethodIsStrict$2$1=arrayMethodIsStrict$5$1,nativeIndexOf$1=[].indexOf,NEGATIVE_ZERO$1=!!nativeIndexOf$1&&1/[1].indexOf(1,-0)<0,STRICT_METHOD$2$1=arrayMethodIsStrict$2$1("indexOf");$$b$1({target:"Array",proto:!0,forced:NEGATIVE_ZERO$1||!STRICT_METHOD$2$1},{indexOf:function e(r){return NEGATIVE_ZERO$1?nativeIndexOf$1.apply(this,arguments)||0:$indexOf$1(this,r,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$7$1=entryVirtual$k;entryVirtual$7$1("Array").indexOf;var fails$5$1=fails$l$1,whitespaces$5=whitespaces$3$1,non$1="\u200B\x85\u180E",stringTrimForced$1=function(e){return fails$5$1(function(){return!!whitespaces$5[e]()||non$1[e]()!=non$1||whitespaces$5[e].name!==e})},$$a$1=_export$1,$trim$1=stringTrim$1.trim,forcedStringTrimMethod$1=stringTrimForced$1;$$a$1({target:"String",proto:!0,forced:forcedStringTrimMethod$1("trim")},{trim:function e(){return $trim$1(this)}});var entryVirtual$6$1=entryVirtual$k;entryVirtual$6$1("String").trim;var $$9$1=_export$1,DESCRIPTORS$3$1=descriptors$1,create$7$1=objectCreate$1;$$9$1({target:"Object",stat:!0,sham:!DESCRIPTORS$3$1},{create:create$7$1});var path$5$1=path$p$1,Object$1$1=path$5$1.Object,create$6$1=function e(r,t){return Object$1$1.create(r,t)},parent$f$1=create$6$1,create$5$1=parent$f$1,create$4$1=create$5$1,$$8$1=_export$1,getBuiltIn$2$1=getBuiltIn$8$1,fails$4$1=fails$l$1,$stringify$2=getBuiltIn$2$1("JSON","stringify"),re$1=/[\uD800-\uDFFF]/g,low$1=/^[\uD800-\uDBFF]$/,hi$1=/^[\uDC00-\uDFFF]$/,fix$1=function(e,r,t){var n=t.charAt(r-1),a=t.charAt(r+1);return low$1.test(e)&&!hi$1.test(a)||hi$1.test(e)&&!low$1.test(n)?"\\u"+e.charCodeAt(0).toString(16):e},FORCED$2$1=fails$4$1(function(){return $stringify$2("\uDF06\uD834")!=='"\\udf06\\ud834"'||$stringify$2("\uDEAD")!=='"\\udead"'});$stringify$2&&$$8$1({target:"JSON",stat:!0,forced:FORCED$2$1},{stringify:function(r,t,n){var a=$stringify$2.apply(null,arguments);return typeof a=="string"?a.replace(re$1,fix$1):a}});var core$1=path$p$1;core$1.JSON||(core$1.JSON={stringify:JSON.stringify});var stringify$3$1=function e(r,t,n){return core$1.JSON.stringify.apply(null,arguments)},parent$e$1=stringify$3$1,stringify$2$1=parent$e$1,stringify$1$1=stringify$2$1,$$7$1=_export$1,global$2$1=global$h$1,userAgent$2$1=engineUserAgent$1,slice$8=[].slice,MSIE$1=/MSIE .\./.test(userAgent$2$1),wrap$2=function(e){return function(r,t){var n=arguments.length>2,a=n?slice$8.call(arguments,2):void 0;return e(n?function(){(typeof r=="function"?r:Function(r)).apply(this,a)}:r,t)}};$$7$1({global:!0,bind:!0,forced:MSIE$1},{setTimeout:wrap$2(global$2$1.setTimeout),setInterval:wrap$2(global$2$1.setInterval)});var path$4$1=path$p$1,setTimeout$2$1=path$4$1.setTimeout,setTimeout$1$1=setTimeout$2$1,toObject$1$1=toObject$e,toAbsoluteIndex$5=toAbsoluteIndex$4$1,toLength$2$1=toLength$c,arrayFill$1=function e(r){for(var t=toObject$1$1(this),n=toLength$2$1(t.length),a=arguments.length,o=toAbsoluteIndex$5(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,l=s===void 0?n:toAbsoluteIndex$5(s,n);l>o;)t[o++]=r;return t},$$6$1=_export$1,fill$5=arrayFill$1;$$6$1({target:"Array",proto:!0},{fill:fill$5});var entryVirtual$5$1=entryVirtual$k;entryVirtual$5$1("Array").fill;var componentEmitter$1={exports:{}};(function(e){e.exports=r;function r(n){if(n)return t(n)}function t(n){for(var a in r.prototype)n[a]=r.prototype[a];return n}r.prototype.on=r.prototype.addEventListener=function(n,a){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(a),this},r.prototype.once=function(n,a){function o(){this.off(n,o),a.apply(this,arguments)}return o.fn=a,this.on(n,o),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(n,a){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+n];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,l=0;l<o.length;l++)if(s=o[l],s===a||s.fn===a){o.splice(l,1);break}return o.length===0&&delete this._callbacks["$"+n],this},r.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var a=new Array(arguments.length-1),o=this._callbacks["$"+n],s=1;s<arguments.length;s++)a[s-1]=arguments[s];if(o){o=o.slice(0);for(var s=0,l=o.length;s<l;++s)o[s].apply(this,a)}return this},r.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},r.prototype.hasListeners=function(n){return!!this.listeners(n).length}})(componentEmitter$1);var Emitter$1=componentEmitter$1.exports;/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function _extends$1(){return _extends$1=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_extends$1.apply(this,arguments)}function _inheritsLoose$1(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r}function _assertThisInitialized$1$1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var assign$6;typeof Object.assign!="function"?assign$6=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(r),n=1;n<arguments.length;n++){var a=arguments[n];if(a!=null)for(var o in a)a.hasOwnProperty(o)&&(t[o]=a[o])}return t}:assign$6=Object.assign;var assign$1$1=assign$6,VENDOR_PREFIXES$1=["","webkit","Moz","MS","ms","o"],TEST_ELEMENT$1=typeof document=="undefined"?{style:{}}:document.createElement("div"),TYPE_FUNCTION$1="function",round$1=Math.round,abs$2=Math.abs,now$4=Date.now;function prefixed$1(e,r){for(var t,n,a=r[0].toUpperCase()+r.slice(1),o=0;o<VENDOR_PREFIXES$1.length;){if(t=VENDOR_PREFIXES$1[o],n=t?t+a:r,n in e)return n;o++}}var win$1;typeof window=="undefined"?win$1={}:win$1=window;var PREFIXED_TOUCH_ACTION$1=prefixed$1(TEST_ELEMENT$1.style,"touchAction"),NATIVE_TOUCH_ACTION$1=PREFIXED_TOUCH_ACTION$1!==void 0;function getTouchActionProps$1(){if(!NATIVE_TOUCH_ACTION$1)return!1;var e={},r=win$1.CSS&&win$1.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return e[t]=r?win$1.CSS.supports("touch-action",t):!0}),e}var TOUCH_ACTION_COMPUTE$1="compute",TOUCH_ACTION_AUTO$1="auto",TOUCH_ACTION_MANIPULATION$1="manipulation",TOUCH_ACTION_NONE$1="none",TOUCH_ACTION_PAN_X$1="pan-x",TOUCH_ACTION_PAN_Y$1="pan-y",TOUCH_ACTION_MAP$1=getTouchActionProps$1(),MOBILE_REGEX$1=/mobile|tablet|ip(ad|hone|od)|android/i,SUPPORT_TOUCH$1="ontouchstart"in win$1,SUPPORT_POINTER_EVENTS$1=prefixed$1(win$1,"PointerEvent")!==void 0,SUPPORT_ONLY_TOUCH$1=SUPPORT_TOUCH$1&&MOBILE_REGEX$1.test(navigator.userAgent),INPUT_TYPE_TOUCH$1="touch",INPUT_TYPE_PEN$1="pen",INPUT_TYPE_MOUSE$1="mouse",INPUT_TYPE_KINECT$1="kinect",COMPUTE_INTERVAL$1=25,INPUT_START$1=1,INPUT_MOVE$1=2,INPUT_END$1=4,INPUT_CANCEL$1=8,DIRECTION_NONE$1=1,DIRECTION_LEFT$1=2,DIRECTION_RIGHT$1=4,DIRECTION_UP$1=8,DIRECTION_DOWN$1=16,DIRECTION_HORIZONTAL$1=DIRECTION_LEFT$1|DIRECTION_RIGHT$1,DIRECTION_VERTICAL$1=DIRECTION_UP$1|DIRECTION_DOWN$1,DIRECTION_ALL$1=DIRECTION_HORIZONTAL$1|DIRECTION_VERTICAL$1,PROPS_XY$1=["x","y"],PROPS_CLIENT_XY$1=["clientX","clientY"];function each$1(e,r,t){var n;if(!!e)if(e.forEach)e.forEach(r,t);else if(e.length!==void 0)for(n=0;n<e.length;)r.call(t,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&r.call(t,e[n],n,e)}function boolOrFn$1(e,r){return typeof e===TYPE_FUNCTION$1?e.apply(r&&r[0]||void 0,r):e}function inStr$1(e,r){return e.indexOf(r)>-1}function cleanTouchActions$1(e){if(inStr$1(e,TOUCH_ACTION_NONE$1))return TOUCH_ACTION_NONE$1;var r=inStr$1(e,TOUCH_ACTION_PAN_X$1),t=inStr$1(e,TOUCH_ACTION_PAN_Y$1);return r&&t?TOUCH_ACTION_NONE$1:r||t?r?TOUCH_ACTION_PAN_X$1:TOUCH_ACTION_PAN_Y$1:inStr$1(e,TOUCH_ACTION_MANIPULATION$1)?TOUCH_ACTION_MANIPULATION$1:TOUCH_ACTION_AUTO$1}var TouchAction$1=function(){function e(t,n){this.manager=t,this.set(n)}var r=e.prototype;return r.set=function(n){n===TOUCH_ACTION_COMPUTE$1&&(n=this.compute()),NATIVE_TOUCH_ACTION$1&&this.manager.element.style&&TOUCH_ACTION_MAP$1[n]&&(this.manager.element.style[PREFIXED_TOUCH_ACTION$1]=n),this.actions=n.toLowerCase().trim()},r.update=function(){this.set(this.manager.options.touchAction)},r.compute=function(){var n=[];return each$1(this.manager.recognizers,function(a){boolOrFn$1(a.options.enable,[a])&&(n=n.concat(a.getTouchAction()))}),cleanTouchActions$1(n.join(" "))},r.preventDefaults=function(n){var a=n.srcEvent,o=n.offsetDirection;if(this.manager.session.prevented){a.preventDefault();return}var s=this.actions,l=inStr$1(s,TOUCH_ACTION_NONE$1)&&!TOUCH_ACTION_MAP$1[TOUCH_ACTION_NONE$1],u=inStr$1(s,TOUCH_ACTION_PAN_Y$1)&&!TOUCH_ACTION_MAP$1[TOUCH_ACTION_PAN_Y$1],f=inStr$1(s,TOUCH_ACTION_PAN_X$1)&&!TOUCH_ACTION_MAP$1[TOUCH_ACTION_PAN_X$1];if(l){var d=n.pointers.length===1,v=n.distance<2,g=n.deltaTime<250;if(d&&v&&g)return}if(!(f&&u)&&(l||u&&o&DIRECTION_HORIZONTAL$1||f&&o&DIRECTION_VERTICAL$1))return this.preventSrc(a)},r.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},e}();function hasParent$1(e,r){for(;e;){if(e===r)return!0;e=e.parentNode}return!1}function getCenter$1(e){var r=e.length;if(r===1)return{x:round$1(e[0].clientX),y:round$1(e[0].clientY)};for(var t=0,n=0,a=0;a<r;)t+=e[a].clientX,n+=e[a].clientY,a++;return{x:round$1(t/r),y:round$1(n/r)}}function simpleCloneInputData$1(e){for(var r=[],t=0;t<e.pointers.length;)r[t]={clientX:round$1(e.pointers[t].clientX),clientY:round$1(e.pointers[t].clientY)},t++;return{timeStamp:now$4(),pointers:r,center:getCenter$1(r),deltaX:e.deltaX,deltaY:e.deltaY}}function getDistance$1(e,r,t){t||(t=PROPS_XY$1);var n=r[t[0]]-e[t[0]],a=r[t[1]]-e[t[1]];return Math.sqrt(n*n+a*a)}function getAngle$1(e,r,t){t||(t=PROPS_XY$1);var n=r[t[0]]-e[t[0]],a=r[t[1]]-e[t[1]];return Math.atan2(a,n)*180/Math.PI}function getDirection$1(e,r){return e===r?DIRECTION_NONE$1:abs$2(e)>=abs$2(r)?e<0?DIRECTION_LEFT$1:DIRECTION_RIGHT$1:r<0?DIRECTION_UP$1:DIRECTION_DOWN$1}function computeDeltaXY$1(e,r){var t=r.center,n=e.offsetDelta||{},a=e.prevDelta||{},o=e.prevInput||{};(r.eventType===INPUT_START$1||o.eventType===INPUT_END$1)&&(a=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=e.offsetDelta={x:t.x,y:t.y}),r.deltaX=a.x+(t.x-n.x),r.deltaY=a.y+(t.y-n.y)}function getVelocity$1(e,r,t){return{x:r/e||0,y:t/e||0}}function getScale$1(e,r){return getDistance$1(r[0],r[1],PROPS_CLIENT_XY$1)/getDistance$1(e[0],e[1],PROPS_CLIENT_XY$1)}function getRotation$1(e,r){return getAngle$1(r[1],r[0],PROPS_CLIENT_XY$1)+getAngle$1(e[1],e[0],PROPS_CLIENT_XY$1)}function computeIntervalInputData$1(e,r){var t=e.lastInterval||r,n=r.timeStamp-t.timeStamp,a,o,s,l;if(r.eventType!==INPUT_CANCEL$1&&(n>COMPUTE_INTERVAL$1||t.velocity===void 0)){var u=r.deltaX-t.deltaX,f=r.deltaY-t.deltaY,d=getVelocity$1(n,u,f);o=d.x,s=d.y,a=abs$2(d.x)>abs$2(d.y)?d.x:d.y,l=getDirection$1(u,f),e.lastInterval=r}else a=t.velocity,o=t.velocityX,s=t.velocityY,l=t.direction;r.velocity=a,r.velocityX=o,r.velocityY=s,r.direction=l}function computeInputData$1(e,r){var t=e.session,n=r.pointers,a=n.length;t.firstInput||(t.firstInput=simpleCloneInputData$1(r)),a>1&&!t.firstMultiple?t.firstMultiple=simpleCloneInputData$1(r):a===1&&(t.firstMultiple=!1);var o=t.firstInput,s=t.firstMultiple,l=s?s.center:o.center,u=r.center=getCenter$1(n);r.timeStamp=now$4(),r.deltaTime=r.timeStamp-o.timeStamp,r.angle=getAngle$1(l,u),r.distance=getDistance$1(l,u),computeDeltaXY$1(t,r),r.offsetDirection=getDirection$1(r.deltaX,r.deltaY);var f=getVelocity$1(r.deltaTime,r.deltaX,r.deltaY);r.overallVelocityX=f.x,r.overallVelocityY=f.y,r.overallVelocity=abs$2(f.x)>abs$2(f.y)?f.x:f.y,r.scale=s?getScale$1(s.pointers,n):1,r.rotation=s?getRotation$1(s.pointers,n):0,r.maxPointers=t.prevInput?r.pointers.length>t.prevInput.maxPointers?r.pointers.length:t.prevInput.maxPointers:r.pointers.length,computeIntervalInputData$1(t,r);var d=e.element,v=r.srcEvent,g;v.composedPath?g=v.composedPath()[0]:v.path?g=v.path[0]:g=v.target,hasParent$1(g,d)&&(d=g),r.target=d}function inputHandler$1(e,r,t){var n=t.pointers.length,a=t.changedPointers.length,o=r&INPUT_START$1&&n-a==0,s=r&(INPUT_END$1|INPUT_CANCEL$1)&&n-a==0;t.isFirst=!!o,t.isFinal=!!s,o&&(e.session={}),t.eventType=r,computeInputData$1(e,t),e.emit("hammer.input",t),e.recognize(t),e.session.prevInput=t}function splitStr$1(e){return e.trim().split(/\s+/g)}function addEventListeners$1(e,r,t){each$1(splitStr$1(r),function(n){e.addEventListener(n,t,!1)})}function removeEventListeners$1(e,r,t){each$1(splitStr$1(r),function(n){e.removeEventListener(n,t,!1)})}function getWindowForElement$1(e){var r=e.ownerDocument||e;return r.defaultView||r.parentWindow||window}var Input$1=function(){function e(t,n){var a=this;this.manager=t,this.callback=n,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(o){boolOrFn$1(t.options.enable,[t])&&a.handler(o)},this.init()}var r=e.prototype;return r.handler=function(){},r.init=function(){this.evEl&&addEventListeners$1(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners$1(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners$1(getWindowForElement$1(this.element),this.evWin,this.domHandler)},r.destroy=function(){this.evEl&&removeEventListeners$1(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners$1(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners$1(getWindowForElement$1(this.element),this.evWin,this.domHandler)},e}();function inArray$1(e,r,t){if(e.indexOf&&!t)return e.indexOf(r);for(var n=0;n<e.length;){if(t&&e[n][t]==r||!t&&e[n]===r)return n;n++}return-1}var POINTER_INPUT_MAP$1={pointerdown:INPUT_START$1,pointermove:INPUT_MOVE$1,pointerup:INPUT_END$1,pointercancel:INPUT_CANCEL$1,pointerout:INPUT_CANCEL$1},IE10_POINTER_TYPE_ENUM$1={2:INPUT_TYPE_TOUCH$1,3:INPUT_TYPE_PEN$1,4:INPUT_TYPE_MOUSE$1,5:INPUT_TYPE_KINECT$1},POINTER_ELEMENT_EVENTS$1="pointerdown",POINTER_WINDOW_EVENTS$1="pointermove pointerup pointercancel";win$1.MSPointerEvent&&!win$1.PointerEvent&&(POINTER_ELEMENT_EVENTS$1="MSPointerDown",POINTER_WINDOW_EVENTS$1="MSPointerMove MSPointerUp MSPointerCancel");var PointerEventInput$1=function(e){_inheritsLoose$1(r,e);function r(){var n,a=r.prototype;return a.evEl=POINTER_ELEMENT_EVENTS$1,a.evWin=POINTER_WINDOW_EVENTS$1,n=e.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var t=r.prototype;return t.handler=function(a){var o=this.store,s=!1,l=a.type.toLowerCase().replace("ms",""),u=POINTER_INPUT_MAP$1[l],f=IE10_POINTER_TYPE_ENUM$1[a.pointerType]||a.pointerType,d=f===INPUT_TYPE_TOUCH$1,v=inArray$1(o,a.pointerId,"pointerId");u&INPUT_START$1&&(a.button===0||d)?v<0&&(o.push(a),v=o.length-1):u&(INPUT_END$1|INPUT_CANCEL$1)&&(s=!0),!(v<0)&&(o[v]=a,this.callback(this.manager,u,{pointers:o,changedPointers:[a],pointerType:f,srcEvent:a}),s&&o.splice(v,1))},r}(Input$1);function toArray$1(e){return Array.prototype.slice.call(e,0)}function uniqueArray$1(e,r,t){for(var n=[],a=[],o=0;o<e.length;){var s=r?e[o][r]:e[o];inArray$1(a,s)<0&&n.push(e[o]),a[o]=s,o++}return t&&(r?n=n.sort(function(l,u){return l[r]>u[r]}):n=n.sort()),n}var TOUCH_INPUT_MAP$1={touchstart:INPUT_START$1,touchmove:INPUT_MOVE$1,touchend:INPUT_END$1,touchcancel:INPUT_CANCEL$1},TOUCH_TARGET_EVENTS$1="touchstart touchmove touchend touchcancel",TouchInput$1=function(e){_inheritsLoose$1(r,e);function r(){var n;return r.prototype.evTarget=TOUCH_TARGET_EVENTS$1,n=e.apply(this,arguments)||this,n.targetIds={},n}var t=r.prototype;return t.handler=function(a){var o=TOUCH_INPUT_MAP$1[a.type],s=getTouches$1.call(this,a,o);!s||this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:INPUT_TYPE_TOUCH$1,srcEvent:a})},r}(Input$1);function getTouches$1(e,r){var t=toArray$1(e.touches),n=this.targetIds;if(r&(INPUT_START$1|INPUT_MOVE$1)&&t.length===1)return n[t[0].identifier]=!0,[t,t];var a,o,s=toArray$1(e.changedTouches),l=[],u=this.target;if(o=t.filter(function(f){return hasParent$1(f.target,u)}),r===INPUT_START$1)for(a=0;a<o.length;)n[o[a].identifier]=!0,a++;for(a=0;a<s.length;)n[s[a].identifier]&&l.push(s[a]),r&(INPUT_END$1|INPUT_CANCEL$1)&&delete n[s[a].identifier],a++;if(!!l.length)return[uniqueArray$1(o.concat(l),"identifier",!0),l]}var MOUSE_INPUT_MAP$1={mousedown:INPUT_START$1,mousemove:INPUT_MOVE$1,mouseup:INPUT_END$1},MOUSE_ELEMENT_EVENTS$1="mousedown",MOUSE_WINDOW_EVENTS$1="mousemove mouseup",MouseInput$1=function(e){_inheritsLoose$1(r,e);function r(){var n,a=r.prototype;return a.evEl=MOUSE_ELEMENT_EVENTS$1,a.evWin=MOUSE_WINDOW_EVENTS$1,n=e.apply(this,arguments)||this,n.pressed=!1,n}var t=r.prototype;return t.handler=function(a){var o=MOUSE_INPUT_MAP$1[a.type];o&INPUT_START$1&&a.button===0&&(this.pressed=!0),o&INPUT_MOVE$1&&a.which!==1&&(o=INPUT_END$1),!!this.pressed&&(o&INPUT_END$1&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[a],changedPointers:[a],pointerType:INPUT_TYPE_MOUSE$1,srcEvent:a}))},r}(Input$1),DEDUP_TIMEOUT$1=2500,DEDUP_DISTANCE$1=25;function setLastTouch$1(e){var r=e.changedPointers,t=r[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},a=this.lastTouches;this.lastTouches.push(n);var o=function(){var l=a.indexOf(n);l>-1&&a.splice(l,1)};setTimeout(o,DEDUP_TIMEOUT$1)}}function recordTouches$1(e,r){e&INPUT_START$1?(this.primaryTouch=r.changedPointers[0].identifier,setLastTouch$1.call(this,r)):e&(INPUT_END$1|INPUT_CANCEL$1)&&setLastTouch$1.call(this,r)}function isSyntheticEvent$1(e){for(var r=e.srcEvent.clientX,t=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var a=this.lastTouches[n],o=Math.abs(r-a.x),s=Math.abs(t-a.y);if(o<=DEDUP_DISTANCE$1&&s<=DEDUP_DISTANCE$1)return!0}return!1}var TouchMouseInput$1=function(){var e=function(r){_inheritsLoose$1(t,r);function t(a,o){var s;return s=r.call(this,a,o)||this,s.handler=function(l,u,f){var d=f.pointerType===INPUT_TYPE_TOUCH$1,v=f.pointerType===INPUT_TYPE_MOUSE$1;if(!(v&&f.sourceCapabilities&&f.sourceCapabilities.firesTouchEvents)){if(d)recordTouches$1.call(_assertThisInitialized$1$1(_assertThisInitialized$1$1(s)),u,f);else if(v&&isSyntheticEvent$1.call(_assertThisInitialized$1$1(_assertThisInitialized$1$1(s)),f))return;s.callback(l,u,f)}},s.touch=new TouchInput$1(s.manager,s.handler),s.mouse=new MouseInput$1(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var n=t.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Input$1);return e}();function createInputInstance$1(e){var r,t=e.options.inputClass;return t?r=t:SUPPORT_POINTER_EVENTS$1?r=PointerEventInput$1:SUPPORT_ONLY_TOUCH$1?r=TouchInput$1:SUPPORT_TOUCH$1?r=TouchMouseInput$1:r=MouseInput$1,new r(e,inputHandler$1)}function invokeArrayArg$1(e,r,t){return Array.isArray(e)?(each$1(e,t[r],t),!0):!1}var STATE_POSSIBLE$1=1,STATE_BEGAN$1=2,STATE_CHANGED$1=4,STATE_ENDED$1=8,STATE_RECOGNIZED$1=STATE_ENDED$1,STATE_CANCELLED$1=16,STATE_FAILED$1=32,_uniqueId$1=1;function uniqueId$1(){return _uniqueId$1++}function getRecognizerByNameIfManager$1(e,r){var t=r.manager;return t?t.get(e):e}function stateStr$1(e){return e&STATE_CANCELLED$1?"cancel":e&STATE_ENDED$1?"end":e&STATE_CHANGED$1?"move":e&STATE_BEGAN$1?"start":""}var Recognizer$1=function(){function e(t){t===void 0&&(t={}),this.options=_extends$1({enable:!0},t),this.id=uniqueId$1(),this.manager=null,this.state=STATE_POSSIBLE$1,this.simultaneous={},this.requireFail=[]}var r=e.prototype;return r.set=function(n){return assign$1$1(this.options,n),this.manager&&this.manager.touchAction.update(),this},r.recognizeWith=function(n){if(invokeArrayArg$1(n,"recognizeWith",this))return this;var a=this.simultaneous;return n=getRecognizerByNameIfManager$1(n,this),a[n.id]||(a[n.id]=n,n.recognizeWith(this)),this},r.dropRecognizeWith=function(n){return invokeArrayArg$1(n,"dropRecognizeWith",this)?this:(n=getRecognizerByNameIfManager$1(n,this),delete this.simultaneous[n.id],this)},r.requireFailure=function(n){if(invokeArrayArg$1(n,"requireFailure",this))return this;var a=this.requireFail;return n=getRecognizerByNameIfManager$1(n,this),inArray$1(a,n)===-1&&(a.push(n),n.requireFailure(this)),this},r.dropRequireFailure=function(n){if(invokeArrayArg$1(n,"dropRequireFailure",this))return this;n=getRecognizerByNameIfManager$1(n,this);var a=inArray$1(this.requireFail,n);return a>-1&&this.requireFail.splice(a,1),this},r.hasRequireFailures=function(){return this.requireFail.length>0},r.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},r.emit=function(n){var a=this,o=this.state;function s(l){a.manager.emit(l,n)}o<STATE_ENDED$1&&s(a.options.event+stateStr$1(o)),s(a.options.event),n.additionalEvent&&s(n.additionalEvent),o>=STATE_ENDED$1&&s(a.options.event+stateStr$1(o))},r.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=STATE_FAILED$1},r.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(STATE_FAILED$1|STATE_POSSIBLE$1)))return!1;n++}return!0},r.recognize=function(n){var a=assign$1$1({},n);if(!boolOrFn$1(this.options.enable,[this,a])){this.reset(),this.state=STATE_FAILED$1;return}this.state&(STATE_RECOGNIZED$1|STATE_CANCELLED$1|STATE_FAILED$1)&&(this.state=STATE_POSSIBLE$1),this.state=this.process(a),this.state&(STATE_BEGAN$1|STATE_CHANGED$1|STATE_ENDED$1|STATE_CANCELLED$1)&&this.tryEmit(a)},r.process=function(n){},r.getTouchAction=function(){},r.reset=function(){},e}(),TapRecognizer$1=function(e){_inheritsLoose$1(r,e);function r(n){var a;return n===void 0&&(n={}),a=e.call(this,_extends$1({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,a.pTime=!1,a.pCenter=!1,a._timer=null,a._input=null,a.count=0,a}var t=r.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_MANIPULATION$1]},t.process=function(a){var o=this,s=this.options,l=a.pointers.length===s.pointers,u=a.distance<s.threshold,f=a.deltaTime<s.time;if(this.reset(),a.eventType&INPUT_START$1&&this.count===0)return this.failTimeout();if(u&&f&&l){if(a.eventType!==INPUT_END$1)return this.failTimeout();var d=this.pTime?a.timeStamp-this.pTime<s.interval:!0,v=!this.pCenter||getDistance$1(this.pCenter,a.center)<s.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,!v||!d?this.count=1:this.count+=1,this._input=a;var g=this.count%s.taps;if(g===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=STATE_RECOGNIZED$1,o.tryEmit()},s.interval),STATE_BEGAN$1):STATE_RECOGNIZED$1}return STATE_FAILED$1},t.failTimeout=function(){var a=this;return this._timer=setTimeout(function(){a.state=STATE_FAILED$1},this.options.interval),STATE_FAILED$1},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===STATE_RECOGNIZED$1&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},r}(Recognizer$1),AttrRecognizer$1=function(e){_inheritsLoose$1(r,e);function r(n){return n===void 0&&(n={}),e.call(this,_extends$1({pointers:1},n))||this}var t=r.prototype;return t.attrTest=function(a){var o=this.options.pointers;return o===0||a.pointers.length===o},t.process=function(a){var o=this.state,s=a.eventType,l=o&(STATE_BEGAN$1|STATE_CHANGED$1),u=this.attrTest(a);return l&&(s&INPUT_CANCEL$1||!u)?o|STATE_CANCELLED$1:l||u?s&INPUT_END$1?o|STATE_ENDED$1:o&STATE_BEGAN$1?o|STATE_CHANGED$1:STATE_BEGAN$1:STATE_FAILED$1},r}(Recognizer$1);function directionStr$1(e){return e===DIRECTION_DOWN$1?"down":e===DIRECTION_UP$1?"up":e===DIRECTION_LEFT$1?"left":e===DIRECTION_RIGHT$1?"right":""}var PanRecognizer$1=function(e){_inheritsLoose$1(r,e);function r(n){var a;return n===void 0&&(n={}),a=e.call(this,_extends$1({event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL$1},n))||this,a.pX=null,a.pY=null,a}var t=r.prototype;return t.getTouchAction=function(){var a=this.options.direction,o=[];return a&DIRECTION_HORIZONTAL$1&&o.push(TOUCH_ACTION_PAN_Y$1),a&DIRECTION_VERTICAL$1&&o.push(TOUCH_ACTION_PAN_X$1),o},t.directionTest=function(a){var o=this.options,s=!0,l=a.distance,u=a.direction,f=a.deltaX,d=a.deltaY;return u&o.direction||(o.direction&DIRECTION_HORIZONTAL$1?(u=f===0?DIRECTION_NONE$1:f<0?DIRECTION_LEFT$1:DIRECTION_RIGHT$1,s=f!==this.pX,l=Math.abs(a.deltaX)):(u=d===0?DIRECTION_NONE$1:d<0?DIRECTION_UP$1:DIRECTION_DOWN$1,s=d!==this.pY,l=Math.abs(a.deltaY))),a.direction=u,s&&l>o.threshold&&u&o.direction},t.attrTest=function(a){return AttrRecognizer$1.prototype.attrTest.call(this,a)&&(this.state&STATE_BEGAN$1||!(this.state&STATE_BEGAN$1)&&this.directionTest(a))},t.emit=function(a){this.pX=a.deltaX,this.pY=a.deltaY;var o=directionStr$1(a.direction);o&&(a.additionalEvent=this.options.event+o),e.prototype.emit.call(this,a)},r}(AttrRecognizer$1),SwipeRecognizer$1=function(e){_inheritsLoose$1(r,e);function r(n){return n===void 0&&(n={}),e.call(this,_extends$1({event:"swipe",threshold:10,velocity:.3,direction:DIRECTION_HORIZONTAL$1|DIRECTION_VERTICAL$1,pointers:1},n))||this}var t=r.prototype;return t.getTouchAction=function(){return PanRecognizer$1.prototype.getTouchAction.call(this)},t.attrTest=function(a){var o=this.options.direction,s;return o&(DIRECTION_HORIZONTAL$1|DIRECTION_VERTICAL$1)?s=a.overallVelocity:o&DIRECTION_HORIZONTAL$1?s=a.overallVelocityX:o&DIRECTION_VERTICAL$1&&(s=a.overallVelocityY),e.prototype.attrTest.call(this,a)&&o&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers===this.options.pointers&&abs$2(s)>this.options.velocity&&a.eventType&INPUT_END$1},t.emit=function(a){var o=directionStr$1(a.offsetDirection);o&&this.manager.emit(this.options.event+o,a),this.manager.emit(this.options.event,a)},r}(AttrRecognizer$1),PinchRecognizer$1=function(e){_inheritsLoose$1(r,e);function r(n){return n===void 0&&(n={}),e.call(this,_extends$1({event:"pinch",threshold:0,pointers:2},n))||this}var t=r.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_NONE$1]},t.attrTest=function(a){return e.prototype.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&STATE_BEGAN$1)},t.emit=function(a){if(a.scale!==1){var o=a.scale<1?"in":"out";a.additionalEvent=this.options.event+o}e.prototype.emit.call(this,a)},r}(AttrRecognizer$1),RotateRecognizer$1=function(e){_inheritsLoose$1(r,e);function r(n){return n===void 0&&(n={}),e.call(this,_extends$1({event:"rotate",threshold:0,pointers:2},n))||this}var t=r.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_NONE$1]},t.attrTest=function(a){return e.prototype.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&STATE_BEGAN$1)},r}(AttrRecognizer$1),PressRecognizer$1=function(e){_inheritsLoose$1(r,e);function r(n){var a;return n===void 0&&(n={}),a=e.call(this,_extends$1({event:"press",pointers:1,time:251,threshold:9},n))||this,a._timer=null,a._input=null,a}var t=r.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_AUTO$1]},t.process=function(a){var o=this,s=this.options,l=a.pointers.length===s.pointers,u=a.distance<s.threshold,f=a.deltaTime>s.time;if(this._input=a,!u||!l||a.eventType&(INPUT_END$1|INPUT_CANCEL$1)&&!f)this.reset();else if(a.eventType&INPUT_START$1)this.reset(),this._timer=setTimeout(function(){o.state=STATE_RECOGNIZED$1,o.tryEmit()},s.time);else if(a.eventType&INPUT_END$1)return STATE_RECOGNIZED$1;return STATE_FAILED$1},t.reset=function(){clearTimeout(this._timer)},t.emit=function(a){this.state===STATE_RECOGNIZED$1&&(a&&a.eventType&INPUT_END$1?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=now$4(),this.manager.emit(this.options.event,this._input)))},r}(Recognizer$1),defaults$1={domEvents:!1,touchAction:TOUCH_ACTION_COMPUTE$1,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},preset$1=[[RotateRecognizer$1,{enable:!1}],[PinchRecognizer$1,{enable:!1},["rotate"]],[SwipeRecognizer$1,{direction:DIRECTION_HORIZONTAL$1}],[PanRecognizer$1,{direction:DIRECTION_HORIZONTAL$1},["swipe"]],[TapRecognizer$1],[TapRecognizer$1,{event:"doubletap",taps:2},["tap"]],[PressRecognizer$1]],STOP$1=1,FORCED_STOP$1=2;function toggleCssProps$1(e,r){var t=e.element;if(!!t.style){var n;each$1(e.options.cssProps,function(a,o){n=prefixed$1(t.style,o),r?(e.oldCssProps[n]=t.style[n],t.style[n]=a):t.style[n]=e.oldCssProps[n]||""}),r||(e.oldCssProps={})}}function triggerDomEvent$1(e,r){var t=document.createEvent("Event");t.initEvent(e,!0,!0),t.gesture=r,r.target.dispatchEvent(t)}var Manager$1=function(){function e(t,n){var a=this;this.options=assign$1$1({},defaults$1,n||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=createInputInstance$1(this),this.touchAction=new TouchAction$1(this,this.options.touchAction),toggleCssProps$1(this,!0),each$1(this.options.recognizers,function(o){var s=a.add(new o[0](o[1]));o[2]&&s.recognizeWith(o[2]),o[3]&&s.requireFailure(o[3])},this)}var r=e.prototype;return r.set=function(n){return assign$1$1(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},r.stop=function(n){this.session.stopped=n?FORCED_STOP$1:STOP$1},r.recognize=function(n){var a=this.session;if(!a.stopped){this.touchAction.preventDefaults(n);var o,s=this.recognizers,l=a.curRecognizer;(!l||l&&l.state&STATE_RECOGNIZED$1)&&(a.curRecognizer=null,l=null);for(var u=0;u<s.length;)o=s[u],a.stopped!==FORCED_STOP$1&&(!l||o===l||o.canRecognizeWith(l))?o.recognize(n):o.reset(),!l&&o.state&(STATE_BEGAN$1|STATE_CHANGED$1|STATE_ENDED$1)&&(a.curRecognizer=o,l=o),u++}},r.get=function(n){if(n instanceof Recognizer$1)return n;for(var a=this.recognizers,o=0;o<a.length;o++)if(a[o].options.event===n)return a[o];return null},r.add=function(n){if(invokeArrayArg$1(n,"add",this))return this;var a=this.get(n.options.event);return a&&this.remove(a),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},r.remove=function(n){if(invokeArrayArg$1(n,"remove",this))return this;var a=this.get(n);if(n){var o=this.recognizers,s=inArray$1(o,a);s!==-1&&(o.splice(s,1),this.touchAction.update())}return this},r.on=function(n,a){if(n===void 0||a===void 0)return this;var o=this.handlers;return each$1(splitStr$1(n),function(s){o[s]=o[s]||[],o[s].push(a)}),this},r.off=function(n,a){if(n===void 0)return this;var o=this.handlers;return each$1(splitStr$1(n),function(s){a?o[s]&&o[s].splice(inArray$1(o[s],a),1):delete o[s]}),this},r.emit=function(n,a){this.options.domEvents&&triggerDomEvent$1(n,a);var o=this.handlers[n]&&this.handlers[n].slice();if(!(!o||!o.length)){a.type=n,a.preventDefault=function(){a.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](a),s++}},r.destroy=function(){this.element&&toggleCssProps$1(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),SINGLE_TOUCH_INPUT_MAP$1={touchstart:INPUT_START$1,touchmove:INPUT_MOVE$1,touchend:INPUT_END$1,touchcancel:INPUT_CANCEL$1},SINGLE_TOUCH_TARGET_EVENTS$1="touchstart",SINGLE_TOUCH_WINDOW_EVENTS$1="touchstart touchmove touchend touchcancel",SingleTouchInput$1=function(e){_inheritsLoose$1(r,e);function r(){var n,a=r.prototype;return a.evTarget=SINGLE_TOUCH_TARGET_EVENTS$1,a.evWin=SINGLE_TOUCH_WINDOW_EVENTS$1,n=e.apply(this,arguments)||this,n.started=!1,n}var t=r.prototype;return t.handler=function(a){var o=SINGLE_TOUCH_INPUT_MAP$1[a.type];if(o===INPUT_START$1&&(this.started=!0),!!this.started){var s=normalizeSingleTouches$1.call(this,a,o);o&(INPUT_END$1|INPUT_CANCEL$1)&&s[0].length-s[1].length==0&&(this.started=!1),this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:INPUT_TYPE_TOUCH$1,srcEvent:a})}},r}(Input$1);function normalizeSingleTouches$1(e,r){var t=toArray$1(e.touches),n=toArray$1(e.changedTouches);return r&(INPUT_END$1|INPUT_CANCEL$1)&&(t=uniqueArray$1(t.concat(n),"identifier",!0)),[t,n]}function deprecate$1(e,r,t){var n="DEPRECATED METHOD: "+r+`
`+t+` AT 
`;return function(){var a=new Error("get-stack-trace"),o=a&&a.stack?a.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,n,o),e.apply(this,arguments)}}var extend$1=deprecate$1(function(e,r,t){for(var n=Object.keys(r),a=0;a<n.length;)(!t||t&&e[n[a]]===void 0)&&(e[n[a]]=r[n[a]]),a++;return e},"extend","Use `assign`."),merge$1$1=deprecate$1(function(e,r){return extend$1(e,r,!0)},"merge","Use `assign`.");function inherit$1(e,r,t){var n=r.prototype,a;a=e.prototype=Object.create(n),a.constructor=e,a._super=n,t&&assign$1$1(a,t)}function bindFn$1(e,r){return function(){return e.apply(r,arguments)}}var Hammer$1$1=function(){var e=function(t,n){return n===void 0&&(n={}),new Manager$1(t,_extends$1({recognizers:preset$1.concat()},n))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=DIRECTION_ALL$1,e.DIRECTION_DOWN=DIRECTION_DOWN$1,e.DIRECTION_LEFT=DIRECTION_LEFT$1,e.DIRECTION_RIGHT=DIRECTION_RIGHT$1,e.DIRECTION_UP=DIRECTION_UP$1,e.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL$1,e.DIRECTION_VERTICAL=DIRECTION_VERTICAL$1,e.DIRECTION_NONE=DIRECTION_NONE$1,e.DIRECTION_DOWN=DIRECTION_DOWN$1,e.INPUT_START=INPUT_START$1,e.INPUT_MOVE=INPUT_MOVE$1,e.INPUT_END=INPUT_END$1,e.INPUT_CANCEL=INPUT_CANCEL$1,e.STATE_POSSIBLE=STATE_POSSIBLE$1,e.STATE_BEGAN=STATE_BEGAN$1,e.STATE_CHANGED=STATE_CHANGED$1,e.STATE_ENDED=STATE_ENDED$1,e.STATE_RECOGNIZED=STATE_RECOGNIZED$1,e.STATE_CANCELLED=STATE_CANCELLED$1,e.STATE_FAILED=STATE_FAILED$1,e.Manager=Manager$1,e.Input=Input$1,e.TouchAction=TouchAction$1,e.TouchInput=TouchInput$1,e.MouseInput=MouseInput$1,e.PointerEventInput=PointerEventInput$1,e.TouchMouseInput=TouchMouseInput$1,e.SingleTouchInput=SingleTouchInput$1,e.Recognizer=Recognizer$1,e.AttrRecognizer=AttrRecognizer$1,e.Tap=TapRecognizer$1,e.Pan=PanRecognizer$1,e.Swipe=SwipeRecognizer$1,e.Pinch=PinchRecognizer$1,e.Rotate=RotateRecognizer$1,e.Press=PressRecognizer$1,e.on=addEventListeners$1,e.off=removeEventListeners$1,e.each=each$1,e.merge=merge$1$1,e.extend=extend$1,e.bindFn=bindFn$1,e.assign=assign$1$1,e.inherit=inherit$1,e.bindFn=bindFn$1,e.prefixed=prefixed$1,e.toArray=toArray$1,e.inArray=inArray$1,e.uniqueArray=uniqueArray$1,e.splitStr=splitStr$1,e.boolOrFn=boolOrFn$1,e.hasParent=hasParent$1,e.addEventListeners=addEventListeners$1,e.removeEventListeners=removeEventListeners$1,e.defaults=assign$1$1({},defaults$1,{preset:preset$1}),e}(),RealHammer$1=Hammer$1$1;function _createForOfIteratorHelper$3$1(e,r){var t=typeof symbol$5!="undefined"&&getIteratorMethod$2$1(e)||e["@@iterator"];if(!t){if(isArray$1$1(e)||(t=_unsupportedIterableToArray$3$1(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,l;return{s:function(){t=t.call(e)},n:function(){var f=t.next();return o=f.done,f},e:function(f){s=!0,l=f},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function _unsupportedIterableToArray$3$1(e,r){var t;if(!!e){if(typeof e=="string")return _arrayLikeToArray$3$1(e,r);var n=slice$1$1(t=Object.prototype.toString.call(e)).call(t,8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return from$2$1(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$3$1(e,r)}}function _arrayLikeToArray$3$1(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var DELETE=symbol$5("DELETE");function pureDeepObjectAssign(e){for(var r,t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return deepObjectAssign.apply(void 0,concat$4(r=[{},e]).call(r,n))}function deepObjectAssign(){var e=deepObjectAssignNonentry.apply(void 0,arguments);return stripDelete(e),e}function deepObjectAssignNonentry(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];if(r.length<2)return r[0];if(r.length>2){var n;return deepObjectAssignNonentry.apply(void 0,concat$4(n=[deepObjectAssign(r[0],r[1])]).call(n,_toConsumableArray$1(slice$1$1(r).call(r,2))))}var a=r[0],o=r[1],s=_createForOfIteratorHelper$3$1(ownKeys$1$1(o)),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;Object.prototype.propertyIsEnumerable.call(o,u)&&(o[u]===DELETE?delete a[u]:a[u]!==null&&o[u]!==null&&_typeof$1(a[u])==="object"&&_typeof$1(o[u])==="object"&&!isArray$1$1(a[u])&&!isArray$1$1(o[u])?a[u]=deepObjectAssignNonentry(a[u],o[u]):a[u]=clone(o[u]))}}catch(f){s.e(f)}finally{s.f()}return a}function clone(e){return isArray$1$1(e)?map$3$1(e).call(e,function(r){return clone(r)}):_typeof$1(e)==="object"&&e!==null?deepObjectAssignNonentry({},e):e}function stripDelete(e){for(var r=0,t=keys$4(e);r<t.length;r++){var n=t[r];e[n]===DELETE?delete e[n]:_typeof$1(e[n])==="object"&&e[n]!==null&&stripDelete(e[n])}}function hammerMock$1(){var e=function(){};return{on:e,off:e,destroy:e,emit:e,get:function(){return{set:e}}}}var Hammer$3=typeof window!="undefined"?window.Hammer||RealHammer$1:function(){return hammerMock$1()};function Activator$2(e){var r=this,t;this._cleanupQueue=[],this.active=!1,this._dom={container:e,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){r._dom.overlay.parentNode.removeChild(r._dom.overlay)});var n=Hammer$3(this._dom.overlay);n.on("tap",bind$6$1(t=this._onTapOverlay).call(t,this)),this._cleanupQueue.push(function(){n.destroy()});var a=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];forEach$1$1(a).call(a,function(o){n.on(o,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(o){_hasParent$1(o.target,e)||r.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",r._onClick)})),this._escListener=function(o){("key"in o?o.key==="Escape":o.keyCode===27)&&r.deactivate()}}Emitter$1(Activator$2.prototype);Activator$2.current=null;Activator$2.prototype.destroy=function(){var e,r;this.deactivate();var t=_createForOfIteratorHelper$3$1(reverse$4(e=splice$4(r=this._cleanupQueue).call(r,0)).call(e)),n;try{for(t.s();!(n=t.n()).done;){var a=n.value;a()}}catch(o){t.e(o)}finally{t.f()}};Activator$2.prototype.activate=function(){Activator$2.current&&Activator$2.current.deactivate(),Activator$2.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Activator$2.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Activator$2.prototype._onTapOverlay=function(e){this.activate(),e.srcEvent.stopPropagation()};function _hasParent$1(e,r){for(;e;){if(e===r)return!0;e=e.parentNode}return!1}var $$5$1=_export$1,getBuiltIn$1$1=getBuiltIn$8$1,aFunction$1$1=aFunction$6$1,anObject$2$1=anObject$b$1,isObject$2$1=isObject$f$1,create$3$1=objectCreate$1,bind$2$1=functionBind$1,fails$3$1=fails$l$1,nativeConstruct$1=getBuiltIn$1$1("Reflect","construct"),NEW_TARGET_BUG$1=fails$3$1(function(){function e(){}return!(nativeConstruct$1(function(){},[],e)instanceof e)}),ARGS_BUG$1=!fails$3$1(function(){nativeConstruct$1(function(){})}),FORCED$1$1=NEW_TARGET_BUG$1||ARGS_BUG$1;$$5$1({target:"Reflect",stat:!0,forced:FORCED$1$1,sham:FORCED$1$1},{construct:function e(r,t){aFunction$1$1(r),anObject$2$1(t);var n=arguments.length<3?r:aFunction$1$1(arguments[2]);if(ARGS_BUG$1&&!NEW_TARGET_BUG$1)return nativeConstruct$1(r,t,n);if(r==n){switch(t.length){case 0:return new r;case 1:return new r(t[0]);case 2:return new r(t[0],t[1]);case 3:return new r(t[0],t[1],t[2]);case 4:return new r(t[0],t[1],t[2],t[3])}var a=[null];return a.push.apply(a,t),new(bind$2$1.apply(r,a))}var o=n.prototype,s=create$3$1(isObject$2$1(o)?o:Object.prototype),l=Function.apply.call(r,s,t);return isObject$2$1(l)?l:s}});var path$3$1=path$p$1,construct$2$1=path$3$1.Reflect.construct,parent$d$1=construct$2$1,construct$1$1=parent$d$1,construct$4=construct$1$1,parent$c$1=create$5$1,create$2$1=parent$c$1,create$1$1=create$2$1,$$4$1=_export$1,setPrototypeOf$4$1=objectSetPrototypeOf$1;$$4$1({target:"Object",stat:!0},{setPrototypeOf:setPrototypeOf$4$1});var path$2$1=path$p$1,setPrototypeOf$3$1=path$2$1.Object.setPrototypeOf,parent$b$1=setPrototypeOf$3$1,setPrototypeOf$2$1=parent$b$1,parent$a$1=setPrototypeOf$2$1,setPrototypeOf$1$1=parent$a$1,setPrototypeOf$5=setPrototypeOf$1$1;function _setPrototypeOf$1(e,r){return _setPrototypeOf$1=setPrototypeOf$5||function(n,a){return n.__proto__=a,n},_setPrototypeOf$1(e,r)}function _inherits$1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=create$1$1(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_setPrototypeOf$1(e,r)}function _assertThisInitialized$2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn$1(e,r){if(r&&(_typeof$1(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(e)}var parent$9$1=getPrototypeOf$2$1,getPrototypeOf$1$1=parent$9$1,getPrototypeOf$8=getPrototypeOf$1$1;function _getPrototypeOf$1(e){return _getPrototypeOf$1=setPrototypeOf$5?getPrototypeOf$8:function(t){return t.__proto__||getPrototypeOf$8(t)},_getPrototypeOf$1(e)}var runtime={exports:{}};(function(e){var r=function(t){var n=Object.prototype,a=n.hasOwnProperty,o,s=typeof Symbol=="function"?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function d(j,L,G){return Object.defineProperty(j,L,{value:G,enumerable:!0,configurable:!0,writable:!0}),j[L]}try{d({},"")}catch{d=function(L,G,Q){return L[G]=Q}}function v(j,L,G,Q){var Y=L&&L.prototype instanceof O?L:O,se=Object.create(Y.prototype),le=new ie(Q||[]);return se._invoke=F(j,G,le),se}t.wrap=v;function g(j,L,G){try{return{type:"normal",arg:j.call(L,G)}}catch(Q){return{type:"throw",arg:Q}}}var m="suspendedStart",b="suspendedYield",E="executing",w="completed",_={};function O(){}function S(){}function T(){}var I={};I[l]=function(){return this};var k=Object.getPrototypeOf,N=k&&k(k(te([])));N&&N!==n&&a.call(N,l)&&(I=N);var R=T.prototype=O.prototype=Object.create(I);S.prototype=R.constructor=T,T.constructor=S,S.displayName=d(T,f,"GeneratorFunction");function C(j){["next","throw","return"].forEach(function(L){d(j,L,function(G){return this._invoke(L,G)})})}t.isGeneratorFunction=function(j){var L=typeof j=="function"&&j.constructor;return L?L===S||(L.displayName||L.name)==="GeneratorFunction":!1},t.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,T):(j.__proto__=T,d(j,f,"GeneratorFunction")),j.prototype=Object.create(R),j},t.awrap=function(j){return{__await:j}};function A(j,L){function G(se,le,fe,ye){var ce=g(j[se],j,le);if(ce.type==="throw")ye(ce.arg);else{var ve=ce.arg,be=ve.value;return be&&typeof be=="object"&&a.call(be,"__await")?L.resolve(be.__await).then(function(me){G("next",me,fe,ye)},function(me){G("throw",me,fe,ye)}):L.resolve(be).then(function(me){ve.value=me,fe(ve)},function(me){return G("throw",me,fe,ye)})}}var Q;function Y(se,le){function fe(){return new L(function(ye,ce){G(se,le,ye,ce)})}return Q=Q?Q.then(fe,fe):fe()}this._invoke=Y}C(A.prototype),A.prototype[u]=function(){return this},t.AsyncIterator=A,t.async=function(j,L,G,Q,Y){Y===void 0&&(Y=Promise);var se=new A(v(j,L,G,Q),Y);return t.isGeneratorFunction(L)?se:se.next().then(function(le){return le.done?le.value:se.next()})};function F(j,L,G){var Q=m;return function(se,le){if(Q===E)throw new Error("Generator is already running");if(Q===w){if(se==="throw")throw le;return ee()}for(G.method=se,G.arg=le;;){var fe=G.delegate;if(fe){var ye=D(fe,G);if(ye){if(ye===_)continue;return ye}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(Q===m)throw Q=w,G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);Q=E;var ce=g(j,L,G);if(ce.type==="normal"){if(Q=G.done?w:b,ce.arg===_)continue;return{value:ce.arg,done:G.done}}else ce.type==="throw"&&(Q=w,G.method="throw",G.arg=ce.arg)}}}function D(j,L){var G=j.iterator[L.method];if(G===o){if(L.delegate=null,L.method==="throw"){if(j.iterator.return&&(L.method="return",L.arg=o,D(j,L),L.method==="throw"))return _;L.method="throw",L.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var Q=g(G,j.iterator,L.arg);if(Q.type==="throw")return L.method="throw",L.arg=Q.arg,L.delegate=null,_;var Y=Q.arg;if(!Y)return L.method="throw",L.arg=new TypeError("iterator result is not an object"),L.delegate=null,_;if(Y.done)L[j.resultName]=Y.value,L.next=j.nextLoc,L.method!=="return"&&(L.method="next",L.arg=o);else return Y;return L.delegate=null,_}C(R),d(R,f,"Generator"),R[l]=function(){return this},R.toString=function(){return"[object Generator]"};function B(j){var L={tryLoc:j[0]};1 in j&&(L.catchLoc=j[1]),2 in j&&(L.finallyLoc=j[2],L.afterLoc=j[3]),this.tryEntries.push(L)}function Z(j){var L=j.completion||{};L.type="normal",delete L.arg,j.completion=L}function ie(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(B,this),this.reset(!0)}t.keys=function(j){var L=[];for(var G in j)L.push(G);return L.reverse(),function Q(){for(;L.length;){var Y=L.pop();if(Y in j)return Q.value=Y,Q.done=!1,Q}return Q.done=!0,Q}};function te(j){if(j){var L=j[l];if(L)return L.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var G=-1,Q=function Y(){for(;++G<j.length;)if(a.call(j,G))return Y.value=j[G],Y.done=!1,Y;return Y.value=o,Y.done=!0,Y};return Q.next=Q}}return{next:ee}}t.values=te;function ee(){return{value:o,done:!0}}return ie.prototype={constructor:ie,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(Z),!j)for(var L in this)L.charAt(0)==="t"&&a.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=o)},stop:function(){this.done=!0;var j=this.tryEntries[0],L=j.completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var L=this;function G(ye,ce){return se.type="throw",se.arg=j,L.next=ye,ce&&(L.method="next",L.arg=o),!!ce}for(var Q=this.tryEntries.length-1;Q>=0;--Q){var Y=this.tryEntries[Q],se=Y.completion;if(Y.tryLoc==="root")return G("end");if(Y.tryLoc<=this.prev){var le=a.call(Y,"catchLoc"),fe=a.call(Y,"finallyLoc");if(le&&fe){if(this.prev<Y.catchLoc)return G(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return G(Y.finallyLoc)}else if(le){if(this.prev<Y.catchLoc)return G(Y.catchLoc,!0)}else if(fe){if(this.prev<Y.finallyLoc)return G(Y.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(j,L){for(var G=this.tryEntries.length-1;G>=0;--G){var Q=this.tryEntries[G];if(Q.tryLoc<=this.prev&&a.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var Y=Q;break}}Y&&(j==="break"||j==="continue")&&Y.tryLoc<=L&&L<=Y.finallyLoc&&(Y=null);var se=Y?Y.completion:{};return se.type=j,se.arg=L,Y?(this.method="next",this.next=Y.finallyLoc,_):this.complete(se)},complete:function(j,L){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&L&&(this.next=L),_},finish:function(j){for(var L=this.tryEntries.length-1;L>=0;--L){var G=this.tryEntries[L];if(G.finallyLoc===j)return this.complete(G.completion,G.afterLoc),Z(G),_}},catch:function(j){for(var L=this.tryEntries.length-1;L>=0;--L){var G=this.tryEntries[L];if(G.tryLoc===j){var Q=G.completion;if(Q.type==="throw"){var Y=Q.arg;Z(G)}return Y}}throw new Error("illegal catch attempt")},delegateYield:function(j,L,G){return this.delegate={iterator:te(j),resultName:L,nextLoc:G},this.method==="next"&&(this.arg=o),_}},t}(e.exports);try{regeneratorRuntime=r}catch{Function("r","regeneratorRuntime = r")(r)}})(runtime);var regenerator=runtime.exports,internalMetadata$1={exports:{}},fails$2$1=fails$l$1,freezing$1=!fails$2$1(function(){return Object.isExtensible(Object.preventExtensions({}))}),$$3$1=_export$1,hiddenKeys$7=hiddenKeys$6$1,isObject$1$1=isObject$f$1,has$d=has$b$1,defineProperty$2$1=objectDefineProperty$1.f,getOwnPropertyNamesModule$3=objectGetOwnPropertyNames$1,getOwnPropertyNamesExternalModule$1=objectGetOwnPropertyNamesExternal$1,uid$5=uid$4$1,FREEZING$1=freezing$1,REQUIRED$1=!1,METADATA$1=uid$5("meta"),id$3=0,isExtensible$2=Object.isExtensible||function(){return!0},setMetadata$1=function(e){defineProperty$2$1(e,METADATA$1,{value:{objectID:"O"+id$3++,weakData:{}}})},fastKey$1$1=function(e,r){if(!isObject$1$1(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!has$d(e,METADATA$1)){if(!isExtensible$2(e))return"F";if(!r)return"E";setMetadata$1(e)}return e[METADATA$1].objectID},getWeakData$2=function(e,r){if(!has$d(e,METADATA$1)){if(!isExtensible$2(e))return!0;if(!r)return!1;setMetadata$1(e)}return e[METADATA$1].weakData},onFreeze$1=function(e){return FREEZING$1&&REQUIRED$1&&isExtensible$2(e)&&!has$d(e,METADATA$1)&&setMetadata$1(e),e},enable$1=function(){meta$1.enable=function(){},REQUIRED$1=!0;var e=getOwnPropertyNamesModule$3.f,r=[].splice,t={};t[METADATA$1]=1,e(t).length&&(getOwnPropertyNamesModule$3.f=function(n){for(var a=e(n),o=0,s=a.length;o<s;o++)if(a[o]===METADATA$1){r.call(a,o,1);break}return a},$$3$1({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:getOwnPropertyNamesExternalModule$1.f}))},meta$1=internalMetadata$1.exports={enable:enable$1,fastKey:fastKey$1$1,getWeakData:getWeakData$2,onFreeze:onFreeze$1};hiddenKeys$7[METADATA$1]=!0;var anObject$1$1=anObject$b$1,isArrayIteratorMethod$3=isArrayIteratorMethod$2$1,toLength$1$1=toLength$c,bind$1$1=functionBindContext$1,getIteratorMethod$1$1=getIteratorMethod$7,iteratorClose$3=iteratorClose$2$1,Result$1=function(e,r){this.stopped=e,this.result=r},iterate$2$1=function(e,r,t){var n=t&&t.that,a=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_ITERATOR),s=!!(t&&t.INTERRUPTED),l=bind$1$1(r,n,1+a+s),u,f,d,v,g,m,b,E=function(_){return u&&iteratorClose$3(u),new Result$1(!0,_)},w=function(_){return a?(anObject$1$1(_),s?l(_[0],_[1],E):l(_[0],_[1])):s?l(_,E):l(_)};if(o)u=e;else{if(f=getIteratorMethod$1$1(e),typeof f!="function")throw TypeError("Target is not iterable");if(isArrayIteratorMethod$3(f)){for(d=0,v=toLength$1$1(e.length);v>d;d++)if(g=w(e[d]),g&&g instanceof Result$1)return g;return new Result$1(!1)}u=f.call(e)}for(m=u.next;!(b=m.call(u)).done;){try{g=w(b.value)}catch(_){throw iteratorClose$3(u),_}if(typeof g=="object"&&g&&g instanceof Result$1)return g}return new Result$1(!1)},anInstance$2$1=function(e,r,t){if(!(e instanceof r))throw TypeError("Incorrect "+(t?t+" ":"")+"invocation");return e},$$2$1=_export$1,global$1$1=global$h$1,InternalMetadataModule$2=internalMetadata$1.exports,fails$1$1=fails$l$1,createNonEnumerableProperty$a=createNonEnumerableProperty$9$1,iterate$1$1=iterate$2$1,anInstance$1$1=anInstance$2$1,isObject$k=isObject$f$1,setToStringTag$6=setToStringTag$5$1,defineProperty$1$1=objectDefineProperty$1.f,forEach$7=arrayIteration$1.forEach,DESCRIPTORS$2$1=descriptors$1,InternalStateModule$1$1=internalState$1,setInternalState$1$1=InternalStateModule$1$1.set,internalStateGetterFor$1$1=InternalStateModule$1$1.getterFor,collection$2$1=function(e,r,t){var n=e.indexOf("Map")!==-1,a=e.indexOf("Weak")!==-1,o=n?"set":"add",s=global$1$1[e],l=s&&s.prototype,u={},f;if(!DESCRIPTORS$2$1||typeof s!="function"||!(a||l.forEach&&!fails$1$1(function(){new s().entries().next()})))f=t.getConstructor(r,e,n,o),InternalMetadataModule$2.enable();else{f=r(function(v,g){setInternalState$1$1(anInstance$1$1(v,f,e),{type:e,collection:new s}),g!=null&&iterate$1$1(g,v[o],{that:v,AS_ENTRIES:n})});var d=internalStateGetterFor$1$1(e);forEach$7(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(v){var g=v=="add"||v=="set";v in l&&!(a&&v=="clear")&&createNonEnumerableProperty$a(f.prototype,v,function(m,b){var E=d(this).collection;if(!g&&a&&!isObject$k(m))return v=="get"?void 0:!1;var w=E[v](m===0?0:m,b);return g?this:w})}),a||defineProperty$1$1(f.prototype,"size",{configurable:!0,get:function(){return d(this).collection.size}})}return setToStringTag$6(f,e,!1,!0),u[e]=f,$$2$1({global:!0,forced:!0},u),a||t.setStrong(f,e,n),f},redefine$4=redefine$3$1,redefineAll$1$1=function(e,r,t){for(var n in r)t&&t.unsafe&&e[n]?e[n]=r[n]:redefine$4(e,n,r[n],t);return e},getBuiltIn$9=getBuiltIn$8$1,definePropertyModule$5=objectDefineProperty$1,wellKnownSymbol$k=wellKnownSymbol$j$1,DESCRIPTORS$1$1=descriptors$1,SPECIES$4=wellKnownSymbol$k("species"),setSpecies$1$1=function(e){var r=getBuiltIn$9(e),t=definePropertyModule$5.f;DESCRIPTORS$1$1&&r&&!r[SPECIES$4]&&t(r,SPECIES$4,{configurable:!0,get:function(){return this}})},defineProperty$c=objectDefineProperty$1.f,create$9=objectCreate$1,redefineAll$4=redefineAll$1$1,bind$c=functionBindContext$1,anInstance$4=anInstance$2$1,iterate$4=iterate$2$1,defineIterator$4=defineIterator$3$1,setSpecies$2=setSpecies$1$1,DESCRIPTORS$g=descriptors$1,fastKey$2=internalMetadata$1.exports.fastKey,InternalStateModule$6=internalState$1,setInternalState$6=InternalStateModule$6.set,internalStateGetterFor$3=InternalStateModule$6.getterFor,collectionStrong$2$1={getConstructor:function(e,r,t,n){var a=e(function(u,f){anInstance$4(u,a,r),setInternalState$6(u,{type:r,index:create$9(null),first:void 0,last:void 0,size:0}),DESCRIPTORS$g||(u.size=0),f!=null&&iterate$4(f,u[n],{that:u,AS_ENTRIES:t})}),o=internalStateGetterFor$3(r),s=function(u,f,d){var v=o(u),g=l(u,f),m,b;return g?g.value=d:(v.last=g={index:b=fastKey$2(f,!0),key:f,value:d,previous:m=v.last,next:void 0,removed:!1},v.first||(v.first=g),m&&(m.next=g),DESCRIPTORS$g?v.size++:u.size++,b!=="F"&&(v.index[b]=g)),u},l=function(u,f){var d=o(u),v=fastKey$2(f),g;if(v!=="F")return d.index[v];for(g=d.first;g;g=g.next)if(g.key==f)return g};return redefineAll$4(a.prototype,{clear:function(){for(var f=this,d=o(f),v=d.index,g=d.first;g;)g.removed=!0,g.previous&&(g.previous=g.previous.next=void 0),delete v[g.index],g=g.next;d.first=d.last=void 0,DESCRIPTORS$g?d.size=0:f.size=0},delete:function(u){var f=this,d=o(f),v=l(f,u);if(v){var g=v.next,m=v.previous;delete d.index[v.index],v.removed=!0,m&&(m.next=g),g&&(g.previous=m),d.first==v&&(d.first=g),d.last==v&&(d.last=m),DESCRIPTORS$g?d.size--:f.size--}return!!v},forEach:function(f){for(var d=o(this),v=bind$c(f,arguments.length>1?arguments[1]:void 0,3),g;g=g?g.next:d.first;)for(v(g.value,g.key,this);g&&g.removed;)g=g.previous},has:function(f){return!!l(this,f)}}),redefineAll$4(a.prototype,t?{get:function(f){var d=l(this,f);return d&&d.value},set:function(f,d){return s(this,f===0?0:f,d)}}:{add:function(f){return s(this,f=f===0?0:f,f)}}),DESCRIPTORS$g&&defineProperty$c(a.prototype,"size",{get:function(){return o(this).size}}),a},setStrong:function(e,r,t){var n=r+" Iterator",a=internalStateGetterFor$3(r),o=internalStateGetterFor$3(n);defineIterator$4(e,r,function(s,l){setInternalState$6(this,{type:n,target:s,state:a(s),kind:l,last:void 0})},function(){for(var s=o(this),l=s.kind,u=s.last;u&&u.removed;)u=u.previous;return!s.target||!(s.last=u=u?u.next:s.state.first)?(s.target=void 0,{value:void 0,done:!0}):l=="keys"?{value:u.key,done:!1}:l=="values"?{value:u.value,done:!1}:{value:[u.key,u.value],done:!1}},t?"entries":"values",!t,!0),setSpecies$2(r)}},collection$1$1=collection$2$1,collectionStrong$1$1=collectionStrong$2$1;collection$1$1("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},collectionStrong$1$1);var path$1$1=path$p$1,map$2$1=path$1$1.Map,parent$8$1=map$2$1,map$1$1=parent$8$1,map$7=map$1$1,$$1$1=_export$1,$some$1=arrayIteration$1.some,arrayMethodIsStrict$1$1=arrayMethodIsStrict$5$1,STRICT_METHOD$1$1=arrayMethodIsStrict$1$1("some");$$1$1({target:"Array",proto:!0,forced:!STRICT_METHOD$1$1},{some:function e(r){return $some$1(this,r,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$4$1=entryVirtual$k,some$3$1=entryVirtual$4$1("Array").some,some$2$1=some$3$1,ArrayPrototype$4$1=Array.prototype,some_1$1=function(e){var r=e.some;return e===ArrayPrototype$4$1||e instanceof Array&&r===ArrayPrototype$4$1.some?some$2$1:r},parent$7$1=some_1$1,some$1$1=parent$7$1,some$4=some$1$1,entryVirtual$3$1=entryVirtual$k,keys$3$1=entryVirtual$3$1("Array").keys,parent$6$1=keys$3$1,keys$2$1=parent$6$1,keys$1$1=keys$2$1,classof$2$1=classof$8$1,ArrayPrototype$3$1=Array.prototype,DOMIterables$2$1={DOMTokenList:!0,NodeList:!0},keys_1=function(e){var r=e.keys;return e===ArrayPrototype$3$1||e instanceof Array&&r===ArrayPrototype$3$1.keys||DOMIterables$2$1.hasOwnProperty(classof$2$1(e))?keys$1$1:r},keys$8=keys_1,floor$2=Math.floor,mergeSort$1=function(e,r){var t=e.length,n=floor$2(t/2);return t<8?insertionSort$1(e,r):merge$3(mergeSort$1(e.slice(0,n),r),mergeSort$1(e.slice(n),r),r)},insertionSort$1=function(e,r){for(var t=e.length,n=1,a,o;n<t;){for(o=n,a=e[n];o&&r(e[o-1],a)>0;)e[o]=e[--o];o!==n++&&(e[o]=a)}return e},merge$3=function(e,r,t){for(var n=e.length,a=r.length,o=0,s=0,l=[];o<n||s<a;)o<n&&s<a?l.push(t(e[o],r[s])<=0?e[o++]:r[s++]):l.push(o<n?e[o++]:r[s++]);return l},arraySort$1=mergeSort$1,userAgent$1$1=engineUserAgent$1,firefox$1=userAgent$1$1.match(/firefox\/(\d+)/i),engineFfVersion$1=!!firefox$1&&+firefox$1[1],UA$1=engineUserAgent$1,engineIsIeOrEdge$1=/MSIE|Trident/.test(UA$1),userAgent$4=engineUserAgent$1,webkit$1=userAgent$4.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion$1=!!webkit$1&&+webkit$1[1],$$J=_export$1,aFunction$8=aFunction$6$1,toObject$f=toObject$e,toLength$d=toLength$c,toString$b=toString$8$1,fails$n=fails$l$1,internalSort$1=arraySort$1,arrayMethodIsStrict$7=arrayMethodIsStrict$5$1,FF$1=engineFfVersion$1,IE_OR_EDGE$1=engineIsIeOrEdge$1,V8$1=engineV8Version$1,WEBKIT$1=engineWebkitVersion$1,test$3=[],nativeSort$1=test$3.sort,FAILS_ON_UNDEFINED$1=fails$n(function(){test$3.sort(void 0)}),FAILS_ON_NULL$1=fails$n(function(){test$3.sort(null)}),STRICT_METHOD$6=arrayMethodIsStrict$7("sort"),STABLE_SORT$1=!fails$n(function(){if(V8$1)return V8$1<70;if(!(FF$1&&FF$1>3)){if(IE_OR_EDGE$1)return!0;if(WEBKIT$1)return WEBKIT$1<603;var e="",r,t,n,a;for(r=65;r<76;r++){switch(t=String.fromCharCode(r),r){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(a=0;a<47;a++)test$3.push({k:t+a,v:n})}for(test$3.sort(function(o,s){return s.v-o.v}),a=0;a<test$3.length;a++)t=test$3[a].k.charAt(0),e.charAt(e.length-1)!==t&&(e+=t);return e!=="DGBEFHACIJK"}}),FORCED$7=FAILS_ON_UNDEFINED$1||!FAILS_ON_NULL$1||!STRICT_METHOD$6||!STABLE_SORT$1,getSortCompare$1=function(e){return function(r,t){return t===void 0?-1:r===void 0?1:e!==void 0?+e(r,t)||0:toString$b(r)>toString$b(t)?1:-1}};$$J({target:"Array",proto:!0,forced:FORCED$7},{sort:function e(r){r!==void 0&&aFunction$8(r);var t=toObject$f(this);if(STABLE_SORT$1)return r===void 0?nativeSort$1.call(t):nativeSort$1.call(t,r);var n=[],a=toLength$d(t.length),o,s;for(s=0;s<a;s++)s in t&&n.push(t[s]);for(n=internalSort$1(n,getSortCompare$1(r)),o=n.length,s=0;s<o;)t[s]=n[s++];for(;s<a;)delete t[s++];return t}});var entryVirtual$2$1=entryVirtual$k,sort$3$1=entryVirtual$2$1("Array").sort,sort$2$1=sort$3$1,ArrayPrototype$2$1=Array.prototype,sort_1$1=function(e){var r=e.sort;return e===ArrayPrototype$2$1||e instanceof Array&&r===ArrayPrototype$2$1.sort?sort$2$1:r},parent$5$1=sort_1$1,sort$1$1=parent$5$1,sort$4=sort$1$1,entryVirtual$1$1=entryVirtual$k,values$3$1=entryVirtual$1$1("Array").values,parent$4$1=values$3$1,values$2$1=parent$4$1,values$1$1=values$2$1,classof$1$1=classof$8$1,ArrayPrototype$1$1=Array.prototype,DOMIterables$1$1={DOMTokenList:!0,NodeList:!0},values_1$1=function(e){var r=e.values;return e===ArrayPrototype$1$1||e instanceof Array&&r===ArrayPrototype$1$1.values||DOMIterables$1$1.hasOwnProperty(classof$1$1(e))?values$1$1:r},values$4=values_1$1,iterator$5=iterator$3$1,entryVirtual$l=entryVirtual$k,entries$3=entryVirtual$l("Array").entries,parent$3$1=entries$3,entries$2=parent$3$1,entries$1=entries$2,classof$c=classof$8$1,ArrayPrototype$g=Array.prototype,DOMIterables$5={DOMTokenList:!0,NodeList:!0},entries_1=function(e){var r=e.entries;return e===ArrayPrototype$g||e instanceof Array&&r===ArrayPrototype$g.entries||DOMIterables$5.hasOwnProperty(classof$c(e))?entries$1:r},entries=entries_1,getRandomValues$1,rnds8$1=new Uint8Array(16);function rng$1(){if(!getRandomValues$1&&(getRandomValues$1=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues$1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8$1)}var REGEX$1=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate$1(e){return typeof e=="string"&&REGEX$1.test(e)}var byteToHex$1=[];for(var i$1=0;i$1<256;++i$1)byteToHex$1.push((i$1+256).toString(16).substr(1));function stringify$4(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(byteToHex$1[e[r+0]]+byteToHex$1[e[r+1]]+byteToHex$1[e[r+2]]+byteToHex$1[e[r+3]]+"-"+byteToHex$1[e[r+4]]+byteToHex$1[e[r+5]]+"-"+byteToHex$1[e[r+6]]+byteToHex$1[e[r+7]]+"-"+byteToHex$1[e[r+8]]+byteToHex$1[e[r+9]]+"-"+byteToHex$1[e[r+10]]+byteToHex$1[e[r+11]]+byteToHex$1[e[r+12]]+byteToHex$1[e[r+13]]+byteToHex$1[e[r+14]]+byteToHex$1[e[r+15]]).toLowerCase();if(!validate$1(t))throw TypeError("Stringified UUID is invalid");return t}function v4$1(e,r,t){e=e||{};var n=e.random||(e.rng||rng$1)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var a=0;a<16;++a)r[t+a]=n[a];return r}return stringify$4(n)}function isId(e){return typeof e=="string"||typeof e=="number"}var Queue=function(){function e(r){_classCallCheck$1(this,e),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(r)}return _createClass$1(e,[{key:"setOptions",value:function(t){t&&typeof t.delay!="undefined"&&(this.delay=t.delay),t&&typeof t.max!="undefined"&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,n=this._extended.methods,a=0;a<n.length;a++){var o=n[a];o.original?t[o.name]=o.original:delete t[o.name]}this._extended=null}}},{key:"replace",value:function(t,n){var a=this,o=t[n];if(!o)throw new Error("Method "+n+" undefined");t[n]=function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];a.queue({args:l,fn:o,context:this})}}},{key:"queue",value:function(t){typeof t=="function"?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=setTimeout$1$1(function(){t.flush()},this.delay))}},{key:"flush",value:function(){var t,n;forEach$1$1(t=splice$4(n=this._queue).call(n,0)).call(t,function(a){a.fn.apply(a.context||a.fn,a.args||[])})}}],[{key:"extend",value:function(t,n){var a=new e(n);if(t.flush!==void 0)throw new Error("Target object already has a property flush");t.flush=function(){a.flush()};var o=[{name:"flush",original:void 0}];if(n&&n.replace)for(var s=0;s<n.replace.length;s++){var l=n.replace[s];o.push({name:l,original:t[l]}),a.replace(t,l)}return a._extended={object:t,methods:o},a}}]),e}(),DataSetPart=function(){function e(){_classCallCheck$1(this,e),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=e.prototype.on,this.unsubscribe=e.prototype.off}return _createClass$1(e,[{key:"_trigger",value:function(t,n,a){var o,s;if(t==="*")throw new Error("Cannot trigger event *");forEach$1$1(o=concat$4(s=[]).call(s,_toConsumableArray$1(this._subscribers[t]),_toConsumableArray$1(this._subscribers["*"]))).call(o,function(l){l(t,n,a??null)})}},{key:"on",value:function(t,n){typeof n=="function"&&this._subscribers[t].push(n)}},{key:"off",value:function(t,n){var a;this._subscribers[t]=filter$4(a=this._subscribers[t]).call(a,function(o){return o!==n})}}]),e}(),collection$4=collection$2$1,collectionStrong$3=collectionStrong$2$1;collection$4("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},collectionStrong$3);var path$y=path$p$1,set$2$1=path$y.Set,parent$2$1=set$2$1,set$1$1=parent$2$1,set$4=set$1$1,anObject$d=anObject$b$1,getIteratorMethod$8=getIteratorMethod$7,getIterator$4=function(e){var r=getIteratorMethod$8(e);if(typeof r!="function")throw TypeError(String(e)+" is not iterable");return anObject$d(r.call(e))},getIterator$3=getIterator$4,getIterator_1=getIterator$3,parent$1$1=getIterator_1,getIterator$2=parent$1$1,parent$U=getIterator$2,getIterator$1=parent$U,getIterator=getIterator$1;function _createForOfIteratorHelper$2$1(e,r){var t=typeof symbol$5!="undefined"&&getIteratorMethod$2$1(e)||e["@@iterator"];if(!t){if(isArray$1$1(e)||(t=_unsupportedIterableToArray$2$1(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,l;return{s:function(){t=t.call(e)},n:function(){var f=t.next();return o=f.done,f},e:function(f){s=!0,l=f},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function _unsupportedIterableToArray$2$1(e,r){var t;if(!!e){if(typeof e=="string")return _arrayLikeToArray$2$1(e,r);var n=slice$1$1(t=Object.prototype.toString.call(e)).call(t,8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return from$2$1(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$2$1(e,r)}}function _arrayLikeToArray$2$1(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var DataStream=function(e){function r(t){_classCallCheck$1(this,r),this._pairs=t}return _createClass$1(r,[{key:e,value:regenerator.mark(function t(){var n,a,o,s,l;return regenerator.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:n=_createForOfIteratorHelper$2$1(this._pairs),f.prev=1,n.s();case 3:if((a=n.n()).done){f.next=9;break}return o=_slicedToArray$1(a.value,2),s=o[0],l=o[1],f.next=7,[s,l];case 7:f.next=3;break;case 9:f.next=14;break;case 11:f.prev=11,f.t0=f.catch(1),n.e(f.t0);case 14:return f.prev=14,n.f(),f.finish(14);case 17:case"end":return f.stop()}},t,this,[[1,11,14,17]])})},{key:"entries",value:regenerator.mark(function t(){var n,a,o,s,l;return regenerator.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:n=_createForOfIteratorHelper$2$1(this._pairs),f.prev=1,n.s();case 3:if((a=n.n()).done){f.next=9;break}return o=_slicedToArray$1(a.value,2),s=o[0],l=o[1],f.next=7,[s,l];case 7:f.next=3;break;case 9:f.next=14;break;case 11:f.prev=11,f.t0=f.catch(1),n.e(f.t0);case 14:return f.prev=14,n.f(),f.finish(14);case 17:case"end":return f.stop()}},t,this,[[1,11,14,17]])})},{key:"keys",value:regenerator.mark(function t(){var n,a,o,s;return regenerator.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:n=_createForOfIteratorHelper$2$1(this._pairs),u.prev=1,n.s();case 3:if((a=n.n()).done){u.next=9;break}return o=_slicedToArray$1(a.value,1),s=o[0],u.next=7,s;case 7:u.next=3;break;case 9:u.next=14;break;case 11:u.prev=11,u.t0=u.catch(1),n.e(u.t0);case 14:return u.prev=14,n.f(),u.finish(14);case 17:case"end":return u.stop()}},t,this,[[1,11,14,17]])})},{key:"values",value:regenerator.mark(function t(){var n,a,o,s;return regenerator.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:n=_createForOfIteratorHelper$2$1(this._pairs),u.prev=1,n.s();case 3:if((a=n.n()).done){u.next=9;break}return o=_slicedToArray$1(a.value,2),s=o[1],u.next=7,s;case 7:u.next=3;break;case 9:u.next=14;break;case 11:u.prev=11,u.t0=u.catch(1),n.e(u.t0);case 14:return u.prev=14,n.f(),u.finish(14);case 17:case"end":return u.stop()}},t,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var n;return map$3$1(n=_toConsumableArray$1(this._pairs)).call(n,function(a){return a[0]})}},{key:"toItemArray",value:function(){var n;return map$3$1(n=_toConsumableArray$1(this._pairs)).call(n,function(a){return a[1]})}},{key:"toEntryArray",value:function(){return _toConsumableArray$1(this._pairs)}},{key:"toObjectMap",value:function(){var n=create$4$1(null),a=_createForOfIteratorHelper$2$1(this._pairs),o;try{for(a.s();!(o=a.n()).done;){var s=_slicedToArray$1(o.value,2),l=s[0],u=s[1];n[l]=u}}catch(f){a.e(f)}finally{a.f()}return n}},{key:"toMap",value:function(){return new map$7(this._pairs)}},{key:"toIdSet",value:function(){return new set$4(this.toIdArray())}},{key:"toItemSet",value:function(){return new set$4(this.toItemArray())}},{key:"cache",value:function(){return new r(_toConsumableArray$1(this._pairs))}},{key:"distinct",value:function(n){var a=new set$4,o=_createForOfIteratorHelper$2$1(this._pairs),s;try{for(o.s();!(s=o.n()).done;){var l=_slicedToArray$1(s.value,2),u=l[0],f=l[1];a.add(n(f,u))}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"filter",value:function(n){var a=this._pairs;return new r(_defineProperty$1({},iterator$5,regenerator.mark(function o(){var s,l,u,f,d;return regenerator.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:s=_createForOfIteratorHelper$2$1(a),g.prev=1,s.s();case 3:if((l=s.n()).done){g.next=10;break}if(u=_slicedToArray$1(l.value,2),f=u[0],d=u[1],!n(d,f)){g.next=8;break}return g.next=8,[f,d];case 8:g.next=3;break;case 10:g.next=15;break;case 12:g.prev=12,g.t0=g.catch(1),s.e(g.t0);case 15:return g.prev=15,s.f(),g.finish(15);case 18:case"end":return g.stop()}},o,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(n){var a=_createForOfIteratorHelper$2$1(this._pairs),o;try{for(a.s();!(o=a.n()).done;){var s=_slicedToArray$1(o.value,2),l=s[0],u=s[1];n(u,l)}}catch(f){a.e(f)}finally{a.f()}}},{key:"map",value:function(n){var a=this._pairs;return new r(_defineProperty$1({},iterator$5,regenerator.mark(function o(){var s,l,u,f,d;return regenerator.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:s=_createForOfIteratorHelper$2$1(a),g.prev=1,s.s();case 3:if((l=s.n()).done){g.next=9;break}return u=_slicedToArray$1(l.value,2),f=u[0],d=u[1],g.next=7,[f,n(d,f)];case 7:g.next=3;break;case 9:g.next=14;break;case 11:g.prev=11,g.t0=g.catch(1),s.e(g.t0);case 14:return g.prev=14,s.f(),g.finish(14);case 17:case"end":return g.stop()}},o,null,[[1,11,14,17]])})))}},{key:"max",value:function(n){var a=getIterator(this._pairs),o=a.next();if(o.done)return null;for(var s=o.value[1],l=n(o.value[1],o.value[0]);!(o=a.next()).done;){var u=_slicedToArray$1(o.value,2),f=u[0],d=u[1],v=n(d,f);v>l&&(l=v,s=d)}return s}},{key:"min",value:function(n){var a=getIterator(this._pairs),o=a.next();if(o.done)return null;for(var s=o.value[1],l=n(o.value[1],o.value[0]);!(o=a.next()).done;){var u=_slicedToArray$1(o.value,2),f=u[0],d=u[1],v=n(d,f);v<l&&(l=v,s=d)}return s}},{key:"reduce",value:function(n,a){var o=_createForOfIteratorHelper$2$1(this._pairs),s;try{for(o.s();!(s=o.n()).done;){var l=_slicedToArray$1(s.value,2),u=l[0],f=l[1];a=n(a,f,u)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"sort",value:function(n){var a=this;return new r(_defineProperty$1({},iterator$5,function(){var o;return getIterator(sort$4(o=_toConsumableArray$1(a._pairs)).call(o,function(s,l){var u=_slicedToArray$1(s,2),f=u[0],d=u[1],v=_slicedToArray$1(l,2),g=v[0],m=v[1];return n(d,m,f,g)}))}))}}]),r}(iterator$5);function ownKeys$7(e,r){var t=keys$4(e);if(getOwnPropertySymbols$3){var n=getOwnPropertySymbols$3(e);r&&(n=filter$4(n).call(n,function(a){return getOwnPropertyDescriptor$8(e,a).enumerable})),t.push.apply(t,n)}return t}function _objectSpread$4(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){var n;forEach$1$1(n=ownKeys$7(Object(t),!0)).call(n,function(o){_defineProperty$1(e,o,t[o])})}else if(getOwnPropertyDescriptors$3)defineProperties$6(e,getOwnPropertyDescriptors$3(t));else{var a;forEach$1$1(a=ownKeys$7(Object(t))).call(a,function(o){defineProperty$4$1(e,o,getOwnPropertyDescriptor$8(t,o))})}}return e}function _createForOfIteratorHelper$1$1(e,r){var t=typeof symbol$5!="undefined"&&getIteratorMethod$2$1(e)||e["@@iterator"];if(!t){if(isArray$1$1(e)||(t=_unsupportedIterableToArray$1$1(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,l;return{s:function(){t=t.call(e)},n:function(){var f=t.next();return o=f.done,f},e:function(f){s=!0,l=f},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function _unsupportedIterableToArray$1$1(e,r){var t;if(!!e){if(typeof e=="string")return _arrayLikeToArray$1$1(e,r);var n=slice$1$1(t=Object.prototype.toString.call(e)).call(t,8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return from$2$1(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$1$1(e,r)}}function _arrayLikeToArray$1$1(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _createSuper$1$1(e){var r=_isNativeReflectConstruct$1$1();return function(){var n=_getPrototypeOf$1(e),a;if(r){var o=_getPrototypeOf$1(this).constructor;a=construct$4(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn$1(this,a)}}function _isNativeReflectConstruct$1$1(){if(typeof Reflect=="undefined"||!construct$4||construct$4.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct$4(Boolean,[],function(){})),!0}catch{return!1}}function ensureFullItem(e,r){return e[r]==null&&(e[r]=v4$1()),e}var DataSet=function(e){_inherits$1(t,e);var r=_createSuper$1$1(t);function t(n,a){var o;return _classCallCheck$1(this,t),o=r.call(this),o._queue=null,n&&!isArray$1$1(n)&&(a=n,n=[]),o._options=a||{},o._data=new map$7,o.length=0,o._idProp=o._options.fieldId||"id",n&&n.length&&o.add(n),o.setOptions(a),o}return _createClass$1(t,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(a){a&&a.queue!==void 0&&(a.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Queue.extend(this,{replace:["add","update","remove"]})),a.queue&&_typeof$1(a.queue)==="object"&&this._queue.setOptions(a.queue)))}},{key:"add",value:function(a,o){var s=this,l=[],u;if(isArray$1$1(a)){var f=map$3$1(a).call(a,function(g){return g[s._idProp]});if(some$4(f).call(f,function(g){return s._data.has(g)}))throw new Error("A duplicate id was found in the parameter array.");for(var d=0,v=a.length;d<v;d++)u=this._addItem(a[d]),l.push(u)}else if(a&&_typeof$1(a)==="object")u=this._addItem(a),l.push(u);else throw new Error("Unknown dataType");return l.length&&this._trigger("add",{items:l},o),l}},{key:"update",value:function(a,o){var s=this,l=[],u=[],f=[],d=[],v=this._idProp,g=function(_){var O=_[v];if(O!=null&&s._data.has(O)){var S=_,T=assign$2$1({},s._data.get(O)),I=s._updateItem(S);u.push(I),d.push(S),f.push(T)}else{var k=s._addItem(_);l.push(k)}};if(isArray$1$1(a))for(var m=0,b=a.length;m<b;m++)a[m]&&_typeof$1(a[m])==="object"?g(a[m]):console.warn("Ignoring input item, which is not an object at index "+m);else if(a&&_typeof$1(a)==="object")g(a);else throw new Error("Unknown dataType");if(l.length&&this._trigger("add",{items:l},o),u.length){var E={items:u,oldData:f,data:d};this._trigger("update",E,o)}return concat$4(l).call(l,u)}},{key:"updateOnly",value:function(a,o){var s,l=this;isArray$1$1(a)||(a=[a]);var u=map$3$1(s=map$3$1(a).call(a,function(d){var v=l._data.get(d[l._idProp]);if(v==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:v,update:d}})).call(s,function(d){var v=d.oldData,g=d.update,m=v[l._idProp],b=pureDeepObjectAssign(v,g);return l._data.set(m,b),{id:m,oldData:v,updatedData:b}});if(u.length){var f={items:map$3$1(u).call(u,function(d){return d.id}),oldData:map$3$1(u).call(u,function(d){return d.oldData}),data:map$3$1(u).call(u,function(d){return d.updatedData})};return this._trigger("update",f,o),f.items}else return[]}},{key:"get",value:function(a,o){var s=void 0,l=void 0,u=void 0;isId(a)?(s=a,u=o):isArray$1$1(a)?(l=a,u=o):u=a;var f=u&&u.returnType==="Object"?"Object":"Array",d=u&&filter$4(u),v=[],g=void 0,m=void 0,b=void 0;if(s!=null)g=this._data.get(s),g&&d&&!d(g)&&(g=void 0);else if(l!=null)for(var E=0,w=l.length;E<w;E++)g=this._data.get(l[E]),g!=null&&(!d||d(g))&&v.push(g);else{var _;m=_toConsumableArray$1(keys$8(_=this._data).call(_));for(var O=0,S=m.length;O<S;O++)b=m[O],g=this._data.get(b),g!=null&&(!d||d(g))&&v.push(g)}if(u&&u.order&&s==null&&this._sort(v,u.order),u&&u.fields){var T=u.fields;if(s!=null&&g!=null)g=this._filterFields(g,T);else for(var I=0,k=v.length;I<k;I++)v[I]=this._filterFields(v[I],T)}if(f=="Object"){for(var N={},R=0,C=v.length;R<C;R++){var A=v[R],F=A[this._idProp];N[F]=A}return N}else if(s!=null){var D;return(D=g)!==null&&D!==void 0?D:null}else return v}},{key:"getIds",value:function(a){var o=this._data,s=a&&filter$4(a),l=a&&a.order,u=_toConsumableArray$1(keys$8(o).call(o)),f=[];if(s)if(l){for(var d=[],v=0,g=u.length;v<g;v++){var m=u[v],b=this._data.get(m);b!=null&&s(b)&&d.push(b)}this._sort(d,l);for(var E=0,w=d.length;E<w;E++)f.push(d[E][this._idProp])}else for(var _=0,O=u.length;_<O;_++){var S=u[_],T=this._data.get(S);T!=null&&s(T)&&f.push(T[this._idProp])}else if(l){for(var I=[],k=0,N=u.length;k<N;k++){var R=u[k];I.push(o.get(R))}this._sort(I,l);for(var C=0,A=I.length;C<A;C++)f.push(I[C][this._idProp])}else for(var F=0,D=u.length;F<D;F++){var B=u[F],Z=o.get(B);Z!=null&&f.push(Z[this._idProp])}return f}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(a,o){var s=o&&filter$4(o),l=this._data,u=_toConsumableArray$1(keys$8(l).call(l));if(o&&o.order)for(var f=this.get(o),d=0,v=f.length;d<v;d++){var g=f[d],m=g[this._idProp];a(g,m)}else for(var b=0,E=u.length;b<E;b++){var w=u[b],_=this._data.get(w);_!=null&&(!s||s(_))&&a(_,w)}}},{key:"map",value:function(a,o){for(var s=o&&filter$4(o),l=[],u=this._data,f=_toConsumableArray$1(keys$8(u).call(u)),d=0,v=f.length;d<v;d++){var g=f[d],m=this._data.get(g);m!=null&&(!s||s(m))&&l.push(a(m,g))}return o&&o.order&&this._sort(l,o.order),l}},{key:"_filterFields",value:function(a,o){var s;return a&&reduce$4(s=isArray$1$1(o)?o:keys$4(o)).call(s,function(l,u){return l[u]=a[u],l},{})}},{key:"_sort",value:function(a,o){if(typeof o=="string"){var s=o;sort$4(a).call(a,function(l,u){var f=l[s],d=u[s];return f>d?1:f<d?-1:0})}else if(typeof o=="function")sort$4(a).call(a,o);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(a,o){for(var s=[],l=[],u=isArray$1$1(a)?a:[a],f=0,d=u.length;f<d;f++){var v=this._remove(u[f]);if(v){var g=v[this._idProp];g!=null&&(s.push(g),l.push(v))}}return s.length&&this._trigger("remove",{items:s,oldData:l},o),s}},{key:"_remove",value:function(a){var o;if(isId(a)?o=a:a&&_typeof$1(a)==="object"&&(o=a[this._idProp]),o!=null&&this._data.has(o)){var s=this._data.get(o)||null;return this._data.delete(o),--this.length,s}return null}},{key:"clear",value:function(a){for(var o,s=_toConsumableArray$1(keys$8(o=this._data).call(o)),l=[],u=0,f=s.length;u<f;u++)l.push(this._data.get(s[u]));return this._data.clear(),this.length=0,this._trigger("remove",{items:s,oldData:l},a),s}},{key:"max",value:function(a){var o,s=null,l=null,u=_createForOfIteratorHelper$1$1(values$4(o=this._data).call(o)),f;try{for(u.s();!(f=u.n()).done;){var d=f.value,v=d[a];typeof v=="number"&&(l==null||v>l)&&(s=d,l=v)}}catch(g){u.e(g)}finally{u.f()}return s||null}},{key:"min",value:function(a){var o,s=null,l=null,u=_createForOfIteratorHelper$1$1(values$4(o=this._data).call(o)),f;try{for(u.s();!(f=u.n()).done;){var d=f.value,v=d[a];typeof v=="number"&&(l==null||v<l)&&(s=d,l=v)}}catch(g){u.e(g)}finally{u.f()}return s||null}},{key:"distinct",value:function(a){for(var o=this._data,s=_toConsumableArray$1(keys$8(o).call(o)),l=[],u=0,f=0,d=s.length;f<d;f++){for(var v=s[f],g=o.get(v),m=g[a],b=!1,E=0;E<u;E++)if(l[E]==m){b=!0;break}!b&&m!==void 0&&(l[u]=m,u++)}return l}},{key:"_addItem",value:function(a){var o=ensureFullItem(a,this._idProp),s=o[this._idProp];if(this._data.has(s))throw new Error("Cannot add item: item with id "+s+" already exists");return this._data.set(s,o),++this.length,s}},{key:"_updateItem",value:function(a){var o=a[this._idProp];if(o==null)throw new Error("Cannot update item: item has no id (item: "+stringify$1$1(a)+")");var s=this._data.get(o);if(!s)throw new Error("Cannot update item: no item with id "+o+" found");return this._data.set(o,_objectSpread$4(_objectSpread$4({},s),a)),o}},{key:"stream",value:function(a){if(a){var o=this._data;return new DataStream(_defineProperty$1({},iterator$5,regenerator.mark(function l(){var u,f,d,v;return regenerator.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:u=_createForOfIteratorHelper$1$1(a),m.prev=1,u.s();case 3:if((f=u.n()).done){m.next=11;break}if(d=f.value,v=o.get(d),v==null){m.next=9;break}return m.next=9,[d,v];case 9:m.next=3;break;case 11:m.next=16;break;case 13:m.prev=13,m.t0=m.catch(1),u.e(m.t0);case 16:return m.prev=16,u.f(),m.finish(16);case 19:case"end":return m.stop()}},l,null,[[1,13,16,19]])})))}else{var s;return new DataStream(_defineProperty$1({},iterator$5,bind$6$1(s=entries(this._data)).call(s,this._data)))}}}]),t}(DataSetPart);function isDataSetLike(e,r){return _typeof$1(r)==="object"&&r!==null&&e===r.idProp&&typeof r.add=="function"&&typeof r.clear=="function"&&typeof r.distinct=="function"&&typeof forEach$1$1(r)=="function"&&typeof r.get=="function"&&typeof r.getDataSet=="function"&&typeof r.getIds=="function"&&typeof r.length=="number"&&typeof map$3$1(r)=="function"&&typeof r.max=="function"&&typeof r.min=="function"&&typeof r.off=="function"&&typeof r.on=="function"&&typeof r.remove=="function"&&typeof r.setOptions=="function"&&typeof r.stream=="function"&&typeof r.update=="function"&&typeof r.updateOnly=="function"}function isDataViewLike(e,r){return _typeof$1(r)==="object"&&r!==null&&e===r.idProp&&typeof forEach$1$1(r)=="function"&&typeof r.get=="function"&&typeof r.getDataSet=="function"&&typeof r.getIds=="function"&&typeof r.length=="number"&&typeof map$3$1(r)=="function"&&typeof r.off=="function"&&typeof r.on=="function"&&typeof r.stream=="function"&&isDataSetLike(e,r.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.0
 * @date    2021-08-29T08:43:14.666Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},check=function(e){return e&&e.Math==Math&&e},global$k=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")(),objectGetOwnPropertyDescriptor={},fails$m=function(e){try{return!!e()}catch{return!0}},fails$l=fails$m,descriptors=!fails$l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),objectPropertyIsEnumerable={},$propertyIsEnumerable$1={}.propertyIsEnumerable,getOwnPropertyDescriptor$7=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$7&&!$propertyIsEnumerable$1.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function e(r){var t=getOwnPropertyDescriptor$7(this,r);return!!t&&t.enumerable}:$propertyIsEnumerable$1;var createPropertyDescriptor$5=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},toString$a={}.toString,classofRaw$1=function(e){return toString$a.call(e).slice(8,-1)},fails$k=fails$m,classof$9=classofRaw$1,split="".split,indexedObject=fails$k(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return classof$9(e)=="String"?split.call(e,""):Object(e)}:Object,requireObjectCoercible$5=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},IndexedObject$3=indexedObject,requireObjectCoercible$4=requireObjectCoercible$5,toIndexedObject$a=function(e){return IndexedObject$3(requireObjectCoercible$4(e))},isObject$j=function(e){return typeof e=="object"?e!==null:typeof e=="function"},path$x={},path$w=path$x,global$j=global$k,aFunction$6=function(e){return typeof e=="function"?e:void 0},getBuiltIn$8=function(e,r){return arguments.length<2?aFunction$6(path$w[e])||aFunction$6(global$j[e]):path$w[e]&&path$w[e][r]||global$j[e]&&global$j[e][r]},getBuiltIn$7=getBuiltIn$8,engineUserAgent=getBuiltIn$7("navigator","userAgent")||"",global$i=global$k,userAgent$3=engineUserAgent,process=global$i.process,Deno=global$i.Deno,versions=process&&process.versions||Deno&&Deno.version,v8=versions&&versions.v8,match,version;v8?(match=v8.split("."),version=match[0]<4?1:match[0]+match[1]):userAgent$3&&(match=userAgent$3.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent$3.match(/Chrome\/(\d+)/),match&&(version=match[1])));var engineV8Version=version&&+version,V8_VERSION$2=engineV8Version,fails$j=fails$m,nativeSymbol=!!Object.getOwnPropertySymbols&&!fails$j(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION$2&&V8_VERSION$2<41}),NATIVE_SYMBOL$2=nativeSymbol,useSymbolAsUid=NATIVE_SYMBOL$2&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$6=getBuiltIn$8,USE_SYMBOL_AS_UID$1=useSymbolAsUid,isSymbol$4=USE_SYMBOL_AS_UID$1?function(e){return typeof e=="symbol"}:function(e){var r=getBuiltIn$6("Symbol");return typeof r=="function"&&Object(e)instanceof r},isObject$i=isObject$j,ordinaryToPrimitive$1=function(e,r){var t,n;if(r==="string"&&typeof(t=e.toString)=="function"&&!isObject$i(n=t.call(e))||typeof(t=e.valueOf)=="function"&&!isObject$i(n=t.call(e))||r!=="string"&&typeof(t=e.toString)=="function"&&!isObject$i(n=t.call(e)))return n;throw TypeError("Can't convert object to primitive value")},shared$4={exports:{}},global$h=global$k,setGlobal$1=function(e,r){try{Object.defineProperty(global$h,e,{value:r,configurable:!0,writable:!0})}catch{global$h[e]=r}return r},global$g=global$k,setGlobal=setGlobal$1,SHARED="__core-js_shared__",store$3=global$g[SHARED]||setGlobal(SHARED,{}),sharedStore=store$3,store$2=sharedStore;(shared$4.exports=function(e,r){return store$2[e]||(store$2[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.16.1",mode:"pure",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"});var requireObjectCoercible$3=requireObjectCoercible$5,toObject$d=function(e){return Object(requireObjectCoercible$3(e))},toObject$c=toObject$d,hasOwnProperty={}.hasOwnProperty,has$c=Object.hasOwn||function e(r,t){return hasOwnProperty.call(toObject$c(r),t)},id$2=0,postfix=Math.random(),uid$4=function(e){return"Symbol("+String(e===void 0?"":e)+")_"+(++id$2+postfix).toString(36)},global$f=global$k,shared$3=shared$4.exports,has$b=has$c,uid$3=uid$4,NATIVE_SYMBOL$1=nativeSymbol,USE_SYMBOL_AS_UID=useSymbolAsUid,WellKnownSymbolsStore$1=shared$3("wks"),Symbol$1=global$f.Symbol,createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid$3,wellKnownSymbol$j=function(e){return(!has$b(WellKnownSymbolsStore$1,e)||!(NATIVE_SYMBOL$1||typeof WellKnownSymbolsStore$1[e]=="string"))&&(NATIVE_SYMBOL$1&&has$b(Symbol$1,e)?WellKnownSymbolsStore$1[e]=Symbol$1[e]:WellKnownSymbolsStore$1[e]=createWellKnownSymbol("Symbol."+e)),WellKnownSymbolsStore$1[e]},isObject$h=isObject$j,isSymbol$3=isSymbol$4,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$i=wellKnownSymbol$j,TO_PRIMITIVE$1=wellKnownSymbol$i("toPrimitive"),toPrimitive$1=function(e,r){if(!isObject$h(e)||isSymbol$3(e))return e;var t=e[TO_PRIMITIVE$1],n;if(t!==void 0){if(r===void 0&&(r="default"),n=t.call(e,r),!isObject$h(n)||isSymbol$3(n))return n;throw TypeError("Can't convert object to primitive value")}return r===void 0&&(r="number"),ordinaryToPrimitive(e,r)},toPrimitive=toPrimitive$1,isSymbol$2=isSymbol$4,toPropertyKey$4=function(e){var r=toPrimitive(e,"string");return isSymbol$2(r)?r:String(r)},global$e=global$k,isObject$g=isObject$j,document$1=global$e.document,EXISTS=isObject$g(document$1)&&isObject$g(document$1.createElement),documentCreateElement$1=function(e){return EXISTS?document$1.createElement(e):{}},DESCRIPTORS$f=descriptors,fails$i=fails$m,createElement=documentCreateElement$1,ie8DomDefine=!DESCRIPTORS$f&&!fails$i(function(){return Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a!=7}),DESCRIPTORS$e=descriptors,propertyIsEnumerableModule$2=objectPropertyIsEnumerable,createPropertyDescriptor$4=createPropertyDescriptor$5,toIndexedObject$9=toIndexedObject$a,toPropertyKey$3=toPropertyKey$4,has$a=has$c,IE8_DOM_DEFINE$1=ie8DomDefine,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$e?$getOwnPropertyDescriptor$1:function e(r,t){if(r=toIndexedObject$9(r),t=toPropertyKey$3(t),IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$1(r,t)}catch{}if(has$a(r,t))return createPropertyDescriptor$4(!propertyIsEnumerableModule$2.f.call(r,t),r[t])};var fails$h=fails$m,replacement=/#|\.prototype\./,isForced$1=function(e,r){var t=data[normalize(e)];return t==POLYFILL?!0:t==NATIVE?!1:typeof r=="function"?fails$h(r):!!r},normalize=isForced$1.normalize=function(e){return String(e).replace(replacement,".").toLowerCase()},data=isForced$1.data={},NATIVE=isForced$1.NATIVE="N",POLYFILL=isForced$1.POLYFILL="P",isForced_1=isForced$1,aFunction$5=function(e){if(typeof e!="function")throw TypeError(String(e)+" is not a function");return e},aFunction$4=aFunction$5,functionBindContext=function(e,r,t){if(aFunction$4(e),r===void 0)return e;switch(t){case 0:return function(){return e.call(r)};case 1:return function(n){return e.call(r,n)};case 2:return function(n,a){return e.call(r,n,a)};case 3:return function(n,a,o){return e.call(r,n,a,o)}}return function(){return e.apply(r,arguments)}},objectDefineProperty={},isObject$f=isObject$j,anObject$c=function(e){if(!isObject$f(e))throw TypeError(String(e)+" is not an object");return e},DESCRIPTORS$d=descriptors,IE8_DOM_DEFINE=ie8DomDefine,anObject$b=anObject$c,toPropertyKey$2=toPropertyKey$4,$defineProperty$1=Object.defineProperty;objectDefineProperty.f=DESCRIPTORS$d?$defineProperty$1:function e(r,t,n){if(anObject$b(r),t=toPropertyKey$2(t),anObject$b(n),IE8_DOM_DEFINE)try{return $defineProperty$1(r,t,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(r[t]=n.value),r};var DESCRIPTORS$c=descriptors,definePropertyModule$4=objectDefineProperty,createPropertyDescriptor$3=createPropertyDescriptor$5,createNonEnumerableProperty$9=DESCRIPTORS$c?function(e,r,t){return definePropertyModule$4.f(e,r,createPropertyDescriptor$3(1,t))}:function(e,r,t){return e[r]=t,e},global$d=global$k,getOwnPropertyDescriptor$6=objectGetOwnPropertyDescriptor.f,isForced=isForced_1,path$v=path$x,bind$a=functionBindContext,createNonEnumerableProperty$8=createNonEnumerableProperty$9,has$9=has$c,wrapConstructor=function(e){var r=function(t,n,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,a)}return e.apply(this,arguments)};return r.prototype=e.prototype,r},_export=function(e,r){var t=e.target,n=e.global,a=e.stat,o=e.proto,s=n?global$d:a?global$d[t]:(global$d[t]||{}).prototype,l=n?path$v:path$v[t]||(path$v[t]={}),u=l.prototype,f,d,v,g,m,b,E,w,_;for(g in r)f=isForced(n?g:t+(a?".":"#")+g,e.forced),d=!f&&s&&has$9(s,g),b=l[g],d&&(e.noTargetGet?(_=getOwnPropertyDescriptor$6(s,g),E=_&&_.value):E=s[g]),m=d&&E?E:r[g],!(d&&typeof b==typeof m)&&(e.bind&&d?w=bind$a(m,global$d):e.wrap&&d?w=wrapConstructor(m):o&&typeof m=="function"?w=bind$a(Function.call,m):w=m,(e.sham||m&&m.sham||b&&b.sham)&&createNonEnumerableProperty$8(w,"sham",!0),l[g]=w,o&&(v=t+"Prototype",has$9(path$v,v)||createNonEnumerableProperty$8(path$v,v,{}),path$v[v][g]=m,e.real&&u&&!u[g]&&createNonEnumerableProperty$8(u,g,m)))},ceil=Math.ceil,floor$1=Math.floor,toInteger$4=function(e){return isNaN(e=+e)?0:(e>0?floor$1:ceil)(e)},toInteger$3=toInteger$4,min$2=Math.min,toLength$a=function(e){return e>0?min$2(toInteger$3(e),9007199254740991):0},toInteger$2=toInteger$4,max$2=Math.max,min$1=Math.min,toAbsoluteIndex$4=function(e,r){var t=toInteger$2(e);return t<0?max$2(t+r,0):min$1(t,r)},toIndexedObject$8=toIndexedObject$a,toLength$9=toLength$a,toAbsoluteIndex$3=toAbsoluteIndex$4,createMethod$5=function(e){return function(r,t,n){var a=toIndexedObject$8(r),o=toLength$9(a.length),s=toAbsoluteIndex$3(n,o),l;if(e&&t!=t){for(;o>s;)if(l=a[s++],l!=l)return!0}else for(;o>s;s++)if((e||s in a)&&a[s]===t)return e||s||0;return!e&&-1}},arrayIncludes$1={includes:createMethod$5(!0),indexOf:createMethod$5(!1)},hiddenKeys$6={},has$8=has$c,toIndexedObject$7=toIndexedObject$a,indexOf$4=arrayIncludes$1.indexOf,hiddenKeys$5=hiddenKeys$6,objectKeysInternal=function(e,r){var t=toIndexedObject$7(e),n=0,a=[],o;for(o in t)!has$8(hiddenKeys$5,o)&&has$8(t,o)&&a.push(o);for(;r.length>n;)has$8(t,o=r[n++])&&(~indexOf$4(a,o)||a.push(o));return a},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,objectKeys$4=Object.keys||function e(r){return internalObjectKeys$1(r,enumBugKeys$2)},objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var DESCRIPTORS$b=descriptors,fails$g=fails$m,objectKeys$3=objectKeys$4,getOwnPropertySymbolsModule$2=objectGetOwnPropertySymbols,propertyIsEnumerableModule$1=objectPropertyIsEnumerable,toObject$b=toObject$d,IndexedObject$2=indexedObject,$assign=Object.assign,defineProperty$b=Object.defineProperty,objectAssign=!$assign||fails$g(function(){if(DESCRIPTORS$b&&$assign({b:1},$assign(defineProperty$b({},"a",{enumerable:!0,get:function(){defineProperty$b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},r={},t=Symbol(),n="abcdefghijklmnopqrst";return e[t]=7,n.split("").forEach(function(a){r[a]=a}),$assign({},e)[t]!=7||objectKeys$3($assign({},r)).join("")!=n})?function e(r,t){for(var n=toObject$b(r),a=arguments.length,o=1,s=getOwnPropertySymbolsModule$2.f,l=propertyIsEnumerableModule$1.f;a>o;)for(var u=IndexedObject$2(arguments[o++]),f=s?objectKeys$3(u).concat(s(u)):objectKeys$3(u),d=f.length,v=0,g;d>v;)g=f[v++],(!DESCRIPTORS$b||l.call(u,g))&&(n[g]=u[g]);return n}:$assign,$$I=_export,assign$5=objectAssign;$$I({target:"Object",stat:!0,forced:Object.assign!==assign$5},{assign:assign$5});var path$u=path$x,assign$4=path$u.Object.assign,parent$T=assign$4,assign$3=parent$T,assign$2=assign$3,aFunction$3=aFunction$5,isObject$e=isObject$j,slice$7=[].slice,factories={},construct$3=function(e,r,t){if(!(r in factories)){for(var n=[],a=0;a<r;a++)n[a]="a["+a+"]";factories[r]=Function("C,a","return new C("+n.join(",")+")")}return factories[r](e,t)},functionBind=Function.bind||function e(r){var t=aFunction$3(this),n=slice$7.call(arguments,1),a=function(){var s=n.concat(slice$7.call(arguments));return this instanceof a?construct$3(t,s.length,s):t.apply(r,s)};return isObject$e(t.prototype)&&(a.prototype=t.prototype),a},$$H=_export,bind$9=functionBind;$$H({target:"Function",proto:!0},{bind:bind$9});var path$t=path$x,entryVirtual$i=function(e){return path$t[e+"Prototype"]},entryVirtual$h=entryVirtual$i,bind$8=entryVirtual$h("Function").bind,bind$7=bind$8,FunctionPrototype=Function.prototype,bind_1=function(e){var r=e.bind;return e===FunctionPrototype||e instanceof Function&&r===FunctionPrototype.bind?bind$7:r},parent$S=bind_1,bind$6=parent$S,bind$5=bind$6;function drawCircle(e,r,t,n){e.beginPath(),e.arc(r,t,n,0,2*Math.PI,!1),e.closePath()}function drawSquare(e,r,t,n){e.beginPath(),e.rect(r-n,t-n,n*2,n*2),e.closePath()}function drawTriangle(e,r,t,n){e.beginPath(),n*=1.15,t+=.275*n;var a=n*2,o=a/2,s=Math.sqrt(3)/6*a,l=Math.sqrt(a*a-o*o);e.moveTo(r,t-(l-s)),e.lineTo(r+o,t+s),e.lineTo(r-o,t+s),e.lineTo(r,t-(l-s)),e.closePath()}function drawTriangleDown(e,r,t,n){e.beginPath(),n*=1.15,t-=.275*n;var a=n*2,o=a/2,s=Math.sqrt(3)/6*a,l=Math.sqrt(a*a-o*o);e.moveTo(r,t+(l-s)),e.lineTo(r+o,t-s),e.lineTo(r-o,t-s),e.lineTo(r,t+(l-s)),e.closePath()}function drawStar(e,r,t,n){e.beginPath(),n*=.82,t+=.1*n;for(var a=0;a<10;a++){var o=a%2==0?n*1.3:n*.5;e.lineTo(r+o*Math.sin(a*2*Math.PI/10),t-o*Math.cos(a*2*Math.PI/10))}e.closePath()}function drawDiamond(e,r,t,n){e.beginPath(),e.lineTo(r,t+n),e.lineTo(r+n,t),e.lineTo(r,t-n),e.lineTo(r-n,t),e.closePath()}function drawRoundRect(e,r,t,n,a,o){var s=Math.PI/180;n-2*o<0&&(o=n/2),a-2*o<0&&(o=a/2),e.beginPath(),e.moveTo(r+o,t),e.lineTo(r+n-o,t),e.arc(r+n-o,t+o,o,s*270,s*360,!1),e.lineTo(r+n,t+a-o),e.arc(r+n-o,t+a-o,o,0,s*90,!1),e.lineTo(r+o,t+a),e.arc(r+o,t+a-o,o,s*90,s*180,!1),e.lineTo(r,t+o),e.arc(r+o,t+o,o,s*180,s*270,!1),e.closePath()}function drawEllipse(e,r,t,n,a){var o=.5522848,s=n/2*o,l=a/2*o,u=r+n,f=t+a,d=r+n/2,v=t+a/2;e.beginPath(),e.moveTo(r,v),e.bezierCurveTo(r,v-l,d-s,t,d,t),e.bezierCurveTo(d+s,t,u,v-l,u,v),e.bezierCurveTo(u,v+l,d+s,f,d,f),e.bezierCurveTo(d-s,f,r,v+l,r,v),e.closePath()}function drawDatabase(e,r,t,n,a){var o=1/3,s=n,l=a*o,u=.5522848,f=s/2*u,d=l/2*u,v=r+s,g=t+l,m=r+s/2,b=t+l/2,E=t+(a-l/2),w=t+a;e.beginPath(),e.moveTo(v,b),e.bezierCurveTo(v,b+d,m+f,g,m,g),e.bezierCurveTo(m-f,g,r,b+d,r,b),e.bezierCurveTo(r,b-d,m-f,t,m,t),e.bezierCurveTo(m+f,t,v,b-d,v,b),e.lineTo(v,E),e.bezierCurveTo(v,E+d,m+f,w,m,w),e.bezierCurveTo(m-f,w,r,E+d,r,E),e.lineTo(r,b)}function drawDashedLine(e,r,t,n,a,o){e.beginPath(),e.moveTo(r,t);for(var s=o.length,l=n-r,u=a-t,f=u/l,d=Math.sqrt(l*l+u*u),v=0,g=!0,m=0,b=+o[0];d>=.1;)b=+o[v++%s],b>d&&(b=d),m=Math.sqrt(b*b/(1+f*f)),m=l<0?-m:m,r+=m,t+=f*m,g===!0?e.lineTo(r,t):e.moveTo(r,t),d-=b,g=!g}function drawHexagon(e,r,t,n){e.beginPath();var a=6,o=Math.PI*2/a;e.moveTo(r+n,t);for(var s=1;s<a;s++)e.lineTo(r+n*Math.cos(o*s),t+n*Math.sin(o*s));e.closePath()}var shapeMap={circle:drawCircle,dashedLine:drawDashedLine,database:drawDatabase,diamond:drawDiamond,ellipse:drawEllipse,ellipse_vis:drawEllipse,hexagon:drawHexagon,roundRect:drawRoundRect,square:drawSquare,star:drawStar,triangle:drawTriangle,triangleDown:drawTriangleDown};function getShape(e){return Object.prototype.hasOwnProperty.call(shapeMap,e)?shapeMap[e]:function(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];CanvasRenderingContext2D.prototype[e].call(r,n)}}var componentEmitter={exports:{}};(function(e){e.exports=r;function r(n){if(n)return t(n)}function t(n){for(var a in r.prototype)n[a]=r.prototype[a];return n}r.prototype.on=r.prototype.addEventListener=function(n,a){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(a),this},r.prototype.once=function(n,a){function o(){this.off(n,o),a.apply(this,arguments)}return o.fn=a,this.on(n,o),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(n,a){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+n];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,l=0;l<o.length;l++)if(s=o[l],s===a||s.fn===a){o.splice(l,1);break}return o.length===0&&delete this._callbacks["$"+n],this},r.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var a=new Array(arguments.length-1),o=this._callbacks["$"+n],s=1;s<arguments.length;s++)a[s-1]=arguments[s];if(o){o=o.slice(0);for(var s=0,l=o.length;s<l;++s)o[s].apply(this,a)}return this},r.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},r.prototype.hasListeners=function(n){return!!this.listeners(n).length}})(componentEmitter);var Emitter=componentEmitter.exports,isSymbol$1=isSymbol$4,toString$9=function(e){if(isSymbol$1(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)},toInteger$1=toInteger$4,toString$8=toString$9,requireObjectCoercible$2=requireObjectCoercible$5,createMethod$4=function(e){return function(r,t){var n=toString$8(requireObjectCoercible$2(r)),a=toInteger$1(t),o=n.length,s,l;return a<0||a>=o?e?"":void 0:(s=n.charCodeAt(a),s<55296||s>56319||a+1===o||(l=n.charCodeAt(a+1))<56320||l>57343?e?n.charAt(a):s:e?n.slice(a,a+2):(s-55296<<10)+(l-56320)+65536)}},stringMultibyte={codeAt:createMethod$4(!1),charAt:createMethod$4(!0)},store$1=sharedStore,functionToString=Function.toString;typeof store$1.inspectSource!="function"&&(store$1.inspectSource=function(e){return functionToString.call(e)});var inspectSource$1=store$1.inspectSource,global$c=global$k,inspectSource=inspectSource$1,WeakMap$1=global$c.WeakMap,nativeWeakMap=typeof WeakMap$1=="function"&&/native code/.test(inspectSource(WeakMap$1)),shared$2=shared$4.exports,uid$2=uid$4,keys$3=shared$2("keys"),sharedKey$4=function(e){return keys$3[e]||(keys$3[e]=uid$2(e))},NATIVE_WEAK_MAP$1=nativeWeakMap,global$b=global$k,isObject$d=isObject$j,createNonEnumerableProperty$7=createNonEnumerableProperty$9,objectHas=has$c,shared$1=sharedStore,sharedKey$3=sharedKey$4,hiddenKeys$4=hiddenKeys$6,OBJECT_ALREADY_INITIALIZED="Object already initialized",WeakMap$2=global$b.WeakMap,set$3,get$5,has$7,enforce=function(e){return has$7(e)?get$5(e):set$3(e,{})},getterFor=function(e){return function(r){var t;if(!isObject$d(r)||(t=get$5(r)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return t}};if(NATIVE_WEAK_MAP$1||shared$1.state){var store=shared$1.state||(shared$1.state=new WeakMap$2),wmget=store.get,wmhas=store.has,wmset=store.set;set$3=function(e,r){if(wmhas.call(store,e))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return r.facade=e,wmset.call(store,e,r),r},get$5=function(e){return wmget.call(store,e)||{}},has$7=function(e){return wmhas.call(store,e)}}else{var STATE=sharedKey$3("state");hiddenKeys$4[STATE]=!0,set$3=function(e,r){if(objectHas(e,STATE))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return r.facade=e,createNonEnumerableProperty$7(e,STATE,r),r},get$5=function(e){return objectHas(e,STATE)?e[STATE]:{}},has$7=function(e){return objectHas(e,STATE)}}var internalState={set:set$3,get:get$5,has:has$7,enforce,getterFor},fails$f=fails$m,correctPrototypeGetter=!fails$f(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),has$6=has$c,toObject$a=toObject$d,sharedKey$2=sharedKey$4,CORRECT_PROTOTYPE_GETTER$1=correctPrototypeGetter,IE_PROTO$1=sharedKey$2("IE_PROTO"),ObjectPrototype$1=Object.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER$1?Object.getPrototypeOf:function(e){return e=toObject$a(e),has$6(e,IE_PROTO$1)?e[IE_PROTO$1]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ObjectPrototype$1:null},fails$e=fails$m,getPrototypeOf$7=objectGetPrototypeOf,createNonEnumerableProperty$6=createNonEnumerableProperty$9,has$5=has$c,wellKnownSymbol$h=wellKnownSymbol$j,ITERATOR$4=wellKnownSymbol$h("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,returnThis$2=function(){return this},IteratorPrototype$2,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$7(getPrototypeOf$7(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$2=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=IteratorPrototype$2==null||fails$e(function(){var e={};return IteratorPrototype$2[ITERATOR$4].call(e)!==e});NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$2={});NEW_ITERATOR_PROTOTYPE&&!has$5(IteratorPrototype$2,ITERATOR$4)&&createNonEnumerableProperty$6(IteratorPrototype$2,ITERATOR$4,returnThis$2);var iteratorsCore={IteratorPrototype:IteratorPrototype$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},DESCRIPTORS$a=descriptors,definePropertyModule$3=objectDefineProperty,anObject$a=anObject$c,objectKeys$2=objectKeys$4,objectDefineProperties=DESCRIPTORS$a?Object.defineProperties:function e(r,t){anObject$a(r);for(var n=objectKeys$2(t),a=n.length,o=0,s;a>o;)definePropertyModule$3.f(r,s=n[o++],t[s]);return r},getBuiltIn$5=getBuiltIn$8,html$1=getBuiltIn$5("document","documentElement"),anObject$9=anObject$c,defineProperties$5=objectDefineProperties,enumBugKeys$1=enumBugKeys$3,hiddenKeys$3=hiddenKeys$6,html=html$1,documentCreateElement=documentCreateElement$1,sharedKey$1=sharedKey$4,GT=">",LT="<",PROTOTYPE$1="prototype",SCRIPT="script",IE_PROTO=sharedKey$1("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(e){return LT+SCRIPT+GT+e+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(e){e.write(scriptTag("")),e.close();var r=e.parentWindow.Object;return e=null,r},NullProtoObjectViaIFrame=function(){var e=documentCreateElement("iframe"),r="java"+SCRIPT+":",t;if(e.style)return e.style.display="none",html.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(scriptTag("document.F=Object")),t.close(),t.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame()||NullProtoObjectViaActiveX(activeXDocument);for(var e=enumBugKeys$1.length;e--;)delete NullProtoObject[PROTOTYPE$1][enumBugKeys$1[e]];return NullProtoObject()};hiddenKeys$3[IE_PROTO]=!0;var objectCreate=Object.create||function e(r,t){var n;return r!==null?(EmptyConstructor[PROTOTYPE$1]=anObject$9(r),n=new EmptyConstructor,EmptyConstructor[PROTOTYPE$1]=null,n[IE_PROTO]=r):n=NullProtoObject(),t===void 0?n:defineProperties$5(n,t)},wellKnownSymbol$g=wellKnownSymbol$j,TO_STRING_TAG$3=wellKnownSymbol$g("toStringTag"),test$2={};test$2[TO_STRING_TAG$3]="z";var toStringTagSupport=String(test$2)==="[object z]",TO_STRING_TAG_SUPPORT$2=toStringTagSupport,classofRaw=classofRaw$1,wellKnownSymbol$f=wellKnownSymbol$j,TO_STRING_TAG$2=wellKnownSymbol$f("toStringTag"),CORRECT_ARGUMENTS=classofRaw(function(){return arguments}())=="Arguments",tryGet=function(e,r){try{return e[r]}catch{}},classof$8=TO_STRING_TAG_SUPPORT$2?classofRaw:function(e){var r,t,n;return e===void 0?"Undefined":e===null?"Null":typeof(t=tryGet(r=Object(e),TO_STRING_TAG$2))=="string"?t:CORRECT_ARGUMENTS?classofRaw(r):(n=classofRaw(r))=="Object"&&typeof r.callee=="function"?"Arguments":n},TO_STRING_TAG_SUPPORT$1=toStringTagSupport,classof$7=classof$8,objectToString=TO_STRING_TAG_SUPPORT$1?{}.toString:function e(){return"[object "+classof$7(this)+"]"},TO_STRING_TAG_SUPPORT=toStringTagSupport,defineProperty$a=objectDefineProperty.f,createNonEnumerableProperty$5=createNonEnumerableProperty$9,has$4=has$c,toString$7=objectToString,wellKnownSymbol$e=wellKnownSymbol$j,TO_STRING_TAG$1=wellKnownSymbol$e("toStringTag"),setToStringTag$5=function(e,r,t,n){if(e){var a=t?e:e.prototype;has$4(a,TO_STRING_TAG$1)||defineProperty$a(a,TO_STRING_TAG$1,{configurable:!0,value:r}),n&&!TO_STRING_TAG_SUPPORT&&createNonEnumerableProperty$5(a,"toString",toString$7)}},iterators={},IteratorPrototype$1=iteratorsCore.IteratorPrototype,create$8=objectCreate,createPropertyDescriptor$2=createPropertyDescriptor$5,setToStringTag$4=setToStringTag$5,Iterators$5=iterators,returnThis$1=function(){return this},createIteratorConstructor$1=function(e,r,t){var n=r+" Iterator";return e.prototype=create$8(IteratorPrototype$1,{next:createPropertyDescriptor$2(1,t)}),setToStringTag$4(e,n,!1,!0),Iterators$5[n]=returnThis$1,e},isObject$c=isObject$j,aPossiblePrototype$1=function(e){if(!isObject$c(e)&&e!==null)throw TypeError("Can't set "+String(e)+" as a prototype");return e},anObject$8=anObject$c,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(r,[]),e=r instanceof Array}catch{}return function(a,o){return anObject$8(a),aPossiblePrototype(o),e?t.call(a,o):a.__proto__=o,a}}():void 0),createNonEnumerableProperty$4=createNonEnumerableProperty$9,redefine$3=function(e,r,t,n){n&&n.enumerable?e[r]=t:createNonEnumerableProperty$4(e,r,t)},$$G=_export,createIteratorConstructor=createIteratorConstructor$1,getPrototypeOf$6=objectGetPrototypeOf,setToStringTag$3=setToStringTag$5,createNonEnumerableProperty$3=createNonEnumerableProperty$9,redefine$2=redefine$3,wellKnownSymbol$d=wellKnownSymbol$j,Iterators$4=iterators,IteratorsCore=iteratorsCore,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$3=wellKnownSymbol$d("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},defineIterator$3=function(e,r,t,n,a,o,s){createIteratorConstructor(t,r,n);var l=function(_){if(_===a&&g)return g;if(!BUGGY_SAFARI_ITERATORS&&_ in d)return d[_];switch(_){case KEYS:return function(){return new t(this,_)};case VALUES:return function(){return new t(this,_)};case ENTRIES:return function(){return new t(this,_)}}return function(){return new t(this)}},u=r+" Iterator",f=!1,d=e.prototype,v=d[ITERATOR$3]||d["@@iterator"]||a&&d[a],g=!BUGGY_SAFARI_ITERATORS&&v||l(a),m=r=="Array"&&d.entries||v,b,E,w;if(m&&(b=getPrototypeOf$6(m.call(new e)),IteratorPrototype!==Object.prototype&&b.next&&(setToStringTag$3(b,u,!0,!0),Iterators$4[u]=returnThis)),a==VALUES&&v&&v.name!==VALUES&&(f=!0,g=function(){return v.call(this)}),s&&d[ITERATOR$3]!==g&&createNonEnumerableProperty$3(d,ITERATOR$3,g),Iterators$4[r]=g,a)if(E={values:l(VALUES),keys:o?g:l(KEYS),entries:l(ENTRIES)},s)for(w in E)(BUGGY_SAFARI_ITERATORS||f||!(w in d))&&redefine$2(d,w,E[w]);else $$G({target:r,proto:!0,forced:BUGGY_SAFARI_ITERATORS||f},E);return E},charAt=stringMultibyte.charAt,toString$6=toString$9,InternalStateModule$5=internalState,defineIterator$2=defineIterator$3,STRING_ITERATOR="String Iterator",setInternalState$5=InternalStateModule$5.set,getInternalState$2=InternalStateModule$5.getterFor(STRING_ITERATOR);defineIterator$2(String,"String",function(e){setInternalState$5(this,{type:STRING_ITERATOR,string:toString$6(e),index:0})},function e(){var r=getInternalState$2(this),t=r.string,n=r.index,a;return n>=t.length?{value:void 0,done:!0}:(a=charAt(t,n),r.index+=a.length,{value:a,done:!1})});var anObject$7=anObject$c,iteratorClose$2=function(e){var r=e.return;if(r!==void 0)return anObject$7(r.call(e)).value},anObject$6=anObject$c,iteratorClose$1=iteratorClose$2,callWithSafeIterationClosing$1=function(e,r,t,n){try{return n?r(anObject$6(t)[0],t[1]):r(t)}catch(a){throw iteratorClose$1(e),a}},wellKnownSymbol$c=wellKnownSymbol$j,Iterators$3=iterators,ITERATOR$2=wellKnownSymbol$c("iterator"),ArrayPrototype$f=Array.prototype,isArrayIteratorMethod$2=function(e){return e!==void 0&&(Iterators$3.Array===e||ArrayPrototype$f[ITERATOR$2]===e)},toPropertyKey$1=toPropertyKey$4,definePropertyModule$2=objectDefineProperty,createPropertyDescriptor$1=createPropertyDescriptor$5,createProperty$5=function(e,r,t){var n=toPropertyKey$1(r);n in e?definePropertyModule$2.f(e,n,createPropertyDescriptor$1(0,t)):e[n]=t},classof$6=classof$8,Iterators$2=iterators,wellKnownSymbol$b=wellKnownSymbol$j,ITERATOR$1=wellKnownSymbol$b("iterator"),getIteratorMethod$6=function(e){if(e!=null)return e[ITERATOR$1]||e["@@iterator"]||Iterators$2[classof$6(e)]},bind$4=functionBindContext,toObject$9=toObject$d,callWithSafeIterationClosing=callWithSafeIterationClosing$1,isArrayIteratorMethod$1=isArrayIteratorMethod$2,toLength$8=toLength$a,createProperty$4=createProperty$5,getIteratorMethod$5=getIteratorMethod$6,arrayFrom=function e(r){var t=toObject$9(r),n=typeof this=="function"?this:Array,a=arguments.length,o=a>1?arguments[1]:void 0,s=o!==void 0,l=getIteratorMethod$5(t),u=0,f,d,v,g,m,b;if(s&&(o=bind$4(o,a>2?arguments[2]:void 0,2)),l!=null&&!(n==Array&&isArrayIteratorMethod$1(l)))for(g=l.call(t),m=g.next,d=new n;!(v=m.call(g)).done;u++)b=s?callWithSafeIterationClosing(g,o,[v.value,u],!0):v.value,createProperty$4(d,u,b);else for(f=toLength$8(t.length),d=new n(f);f>u;u++)b=s?o(t[u],u):t[u],createProperty$4(d,u,b);return d.length=u,d},wellKnownSymbol$a=wellKnownSymbol$j,ITERATOR=wellKnownSymbol$a("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(e){}var checkCorrectnessOfIteration$1=function(e,r){if(!r&&!SAFE_CLOSING)return!1;var t=!1;try{var n={};n[ITERATOR]=function(){return{next:function(){return{done:t=!0}}}},e(n)}catch{}return t},$$F=_export,from$5=arrayFrom,checkCorrectnessOfIteration=checkCorrectnessOfIteration$1,INCORRECT_ITERATION=!checkCorrectnessOfIteration(function(e){Array.from(e)});$$F({target:"Array",stat:!0,forced:INCORRECT_ITERATION},{from:from$5});var path$s=path$x,from$4=path$s.Array.from,parent$R=from$4,from$3=parent$R,from$2=from$3,toIndexedObject$6=toIndexedObject$a,Iterators$1=iterators,InternalStateModule$4=internalState,defineIterator$1=defineIterator$3,ARRAY_ITERATOR="Array Iterator",setInternalState$4=InternalStateModule$4.set,getInternalState$1=InternalStateModule$4.getterFor(ARRAY_ITERATOR);defineIterator$1(Array,"Array",function(e,r){setInternalState$4(this,{type:ARRAY_ITERATOR,target:toIndexedObject$6(e),index:0,kind:r})},function(){var e=getInternalState$1(this),r=e.target,t=e.kind,n=e.index++;return!r||n>=r.length?(e.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:n,done:!1}:t=="values"?{value:r[n],done:!1}:{value:[n,r[n]],done:!1}},"values");Iterators$1.Arguments=Iterators$1.Array;var getIteratorMethod$4=getIteratorMethod$6,getIteratorMethod_1=getIteratorMethod$4,domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},DOMIterables$2=domIterables,global$a=global$k,classof$5=classof$8,createNonEnumerableProperty$2=createNonEnumerableProperty$9,Iterators=iterators,wellKnownSymbol$9=wellKnownSymbol$j,TO_STRING_TAG=wellKnownSymbol$9("toStringTag");for(var COLLECTION_NAME in DOMIterables$2){var Collection=global$a[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;CollectionPrototype&&classof$5(CollectionPrototype)!==TO_STRING_TAG&&createNonEnumerableProperty$2(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),Iterators[COLLECTION_NAME]=Iterators.Array}var parent$Q=getIteratorMethod_1,getIteratorMethod$3=parent$Q,parent$P=getIteratorMethod$3,getIteratorMethod$2=parent$P,getIteratorMethod$1=getIteratorMethod$2,classof$4=classofRaw$1,isArray$b=Array.isArray||function e(r){return classof$4(r)=="Array"},objectGetOwnPropertyNames={},internalObjectKeys=objectKeysInternal,enumBugKeys=enumBugKeys$3,hiddenKeys$2=enumBugKeys.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function e(r){return internalObjectKeys(r,hiddenKeys$2)};var objectGetOwnPropertyNamesExternal={},toIndexedObject$5=toIndexedObject$a,$getOwnPropertyNames$1=objectGetOwnPropertyNames.f,toString$5={}.toString,windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(e){try{return $getOwnPropertyNames$1(e)}catch{return windowNames.slice()}};objectGetOwnPropertyNamesExternal.f=function e(r){return windowNames&&toString$5.call(r)=="[object Window]"?getWindowNames(r):$getOwnPropertyNames$1(toIndexedObject$5(r))};var wellKnownSymbolWrapped={},wellKnownSymbol$8=wellKnownSymbol$j;wellKnownSymbolWrapped.f=wellKnownSymbol$8;var path$r=path$x,has$3=has$c,wrappedWellKnownSymbolModule$1=wellKnownSymbolWrapped,defineProperty$9=objectDefineProperty.f,defineWellKnownSymbol$l=function(e){var r=path$r.Symbol||(path$r.Symbol={});has$3(r,e)||defineProperty$9(r,e,{value:wrappedWellKnownSymbolModule$1.f(e)})},isObject$b=isObject$j,isArray$a=isArray$b,wellKnownSymbol$7=wellKnownSymbol$j,SPECIES$3=wellKnownSymbol$7("species"),arraySpeciesConstructor$1=function(e){var r;return isArray$a(e)&&(r=e.constructor,typeof r=="function"&&(r===Array||isArray$a(r.prototype))?r=void 0:isObject$b(r)&&(r=r[SPECIES$3],r===null&&(r=void 0))),r===void 0?Array:r},arraySpeciesConstructor=arraySpeciesConstructor$1,arraySpeciesCreate$3=function(e,r){return new(arraySpeciesConstructor(e))(r===0?0:r)},bind$3=functionBindContext,IndexedObject$1=indexedObject,toObject$8=toObject$d,toLength$7=toLength$a,arraySpeciesCreate$2=arraySpeciesCreate$3,push=[].push,createMethod$3=function(e){var r=e==1,t=e==2,n=e==3,a=e==4,o=e==6,s=e==7,l=e==5||o;return function(u,f,d,v){for(var g=toObject$8(u),m=IndexedObject$1(g),b=bind$3(f,d,3),E=toLength$7(m.length),w=0,_=v||arraySpeciesCreate$2,O=r?_(u,E):t||s?_(u,0):void 0,S,T;E>w;w++)if((l||w in m)&&(S=m[w],T=b(S,w,g),e))if(r)O[w]=T;else if(T)switch(e){case 3:return!0;case 5:return S;case 6:return w;case 2:push.call(O,S)}else switch(e){case 4:return!1;case 7:push.call(O,S)}return o?-1:n||a?a:O}},arrayIteration={forEach:createMethod$3(0),map:createMethod$3(1),filter:createMethod$3(2),some:createMethod$3(3),every:createMethod$3(4),find:createMethod$3(5),findIndex:createMethod$3(6),filterReject:createMethod$3(7)},$$E=_export,global$9=global$k,getBuiltIn$4=getBuiltIn$8,DESCRIPTORS$9=descriptors,NATIVE_SYMBOL=nativeSymbol,fails$d=fails$m,has$2=has$c,isArray$9=isArray$b,isObject$a=isObject$j,isSymbol=isSymbol$4,anObject$5=anObject$c,toObject$7=toObject$d,toIndexedObject$4=toIndexedObject$a,toPropertyKey=toPropertyKey$4,$toString=toString$9,createPropertyDescriptor=createPropertyDescriptor$5,nativeObjectCreate=objectCreate,objectKeys$1=objectKeys$4,getOwnPropertyNamesModule$2=objectGetOwnPropertyNames,getOwnPropertyNamesExternal=objectGetOwnPropertyNamesExternal,getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols,getOwnPropertyDescriptorModule$2=objectGetOwnPropertyDescriptor,definePropertyModule$1=objectDefineProperty,propertyIsEnumerableModule=objectPropertyIsEnumerable,createNonEnumerableProperty$1=createNonEnumerableProperty$9,redefine$1=redefine$3,shared=shared$4.exports,sharedKey=sharedKey$4,hiddenKeys$1=hiddenKeys$6,uid$1=uid$4,wellKnownSymbol$6=wellKnownSymbol$j,wrappedWellKnownSymbolModule=wellKnownSymbolWrapped,defineWellKnownSymbol$k=defineWellKnownSymbol$l,setToStringTag$2=setToStringTag$5,InternalStateModule$3=internalState,$forEach$1=arrayIteration.forEach,HIDDEN=sharedKey("hidden"),SYMBOL="Symbol",PROTOTYPE="prototype",TO_PRIMITIVE=wellKnownSymbol$6("toPrimitive"),setInternalState$3=InternalStateModule$3.set,getInternalState=InternalStateModule$3.getterFor(SYMBOL),ObjectPrototype=Object[PROTOTYPE],$Symbol=global$9.Symbol,$stringify$1=getBuiltIn$4("JSON","stringify"),nativeGetOwnPropertyDescriptor$1=getOwnPropertyDescriptorModule$2.f,nativeDefineProperty=definePropertyModule$1.f,nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f,nativePropertyIsEnumerable=propertyIsEnumerableModule.f,AllSymbols=shared("symbols"),ObjectPrototypeSymbols=shared("op-symbols"),StringToSymbolRegistry=shared("string-to-symbol-registry"),SymbolToStringRegistry=shared("symbol-to-string-registry"),WellKnownSymbolsStore=shared("wks"),QObject=global$9.QObject,USE_SETTER=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,setSymbolDescriptor=DESCRIPTORS$9&&fails$d(function(){return nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a!=7})?function(e,r,t){var n=nativeGetOwnPropertyDescriptor$1(ObjectPrototype,r);n&&delete ObjectPrototype[r],nativeDefineProperty(e,r,t),n&&e!==ObjectPrototype&&nativeDefineProperty(ObjectPrototype,r,n)}:nativeDefineProperty,wrap$1=function(e,r){var t=AllSymbols[e]=nativeObjectCreate($Symbol[PROTOTYPE]);return setInternalState$3(t,{type:SYMBOL,tag:e,description:r}),DESCRIPTORS$9||(t.description=r),t},$defineProperty=function e(r,t,n){r===ObjectPrototype&&$defineProperty(ObjectPrototypeSymbols,t,n),anObject$5(r);var a=toPropertyKey(t);return anObject$5(n),has$2(AllSymbols,a)?(n.enumerable?(has$2(r,HIDDEN)&&r[HIDDEN][a]&&(r[HIDDEN][a]=!1),n=nativeObjectCreate(n,{enumerable:createPropertyDescriptor(0,!1)})):(has$2(r,HIDDEN)||nativeDefineProperty(r,HIDDEN,createPropertyDescriptor(1,{})),r[HIDDEN][a]=!0),setSymbolDescriptor(r,a,n)):nativeDefineProperty(r,a,n)},$defineProperties=function e(r,t){anObject$5(r);var n=toIndexedObject$4(t),a=objectKeys$1(n).concat($getOwnPropertySymbols(n));return $forEach$1(a,function(o){(!DESCRIPTORS$9||$propertyIsEnumerable.call(n,o))&&$defineProperty(r,o,n[o])}),r},$create=function e(r,t){return t===void 0?nativeObjectCreate(r):$defineProperties(nativeObjectCreate(r),t)},$propertyIsEnumerable=function e(r){var t=toPropertyKey(r),n=nativePropertyIsEnumerable.call(this,t);return this===ObjectPrototype&&has$2(AllSymbols,t)&&!has$2(ObjectPrototypeSymbols,t)?!1:n||!has$2(this,t)||!has$2(AllSymbols,t)||has$2(this,HIDDEN)&&this[HIDDEN][t]?n:!0},$getOwnPropertyDescriptor=function e(r,t){var n=toIndexedObject$4(r),a=toPropertyKey(t);if(!(n===ObjectPrototype&&has$2(AllSymbols,a)&&!has$2(ObjectPrototypeSymbols,a))){var o=nativeGetOwnPropertyDescriptor$1(n,a);return o&&has$2(AllSymbols,a)&&!(has$2(n,HIDDEN)&&n[HIDDEN][a])&&(o.enumerable=!0),o}},$getOwnPropertyNames=function e(r){var t=nativeGetOwnPropertyNames(toIndexedObject$4(r)),n=[];return $forEach$1(t,function(a){!has$2(AllSymbols,a)&&!has$2(hiddenKeys$1,a)&&n.push(a)}),n},$getOwnPropertySymbols=function e(r){var t=r===ObjectPrototype,n=nativeGetOwnPropertyNames(t?ObjectPrototypeSymbols:toIndexedObject$4(r)),a=[];return $forEach$1(n,function(o){has$2(AllSymbols,o)&&(!t||has$2(ObjectPrototype,o))&&a.push(AllSymbols[o])}),a};NATIVE_SYMBOL||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor");var r=!arguments.length||arguments[0]===void 0?void 0:$toString(arguments[0]),t=uid$1(r),n=function(a){this===ObjectPrototype&&n.call(ObjectPrototypeSymbols,a),has$2(this,HIDDEN)&&has$2(this[HIDDEN],t)&&(this[HIDDEN][t]=!1),setSymbolDescriptor(this,t,createPropertyDescriptor(1,a))};return DESCRIPTORS$9&&USE_SETTER&&setSymbolDescriptor(ObjectPrototype,t,{configurable:!0,set:n}),wrap$1(t,r)},redefine$1($Symbol[PROTOTYPE],"toString",function(){return getInternalState(this).tag}),redefine$1($Symbol,"withoutSetter",function(e){return wrap$1(uid$1(e),e)}),propertyIsEnumerableModule.f=$propertyIsEnumerable,definePropertyModule$1.f=$defineProperty,getOwnPropertyDescriptorModule$2.f=$getOwnPropertyDescriptor,getOwnPropertyNamesModule$2.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames,getOwnPropertySymbolsModule$1.f=$getOwnPropertySymbols,wrappedWellKnownSymbolModule.f=function(e){return wrap$1(wellKnownSymbol$6(e),e)},DESCRIPTORS$9&&nativeDefineProperty($Symbol[PROTOTYPE],"description",{configurable:!0,get:function(){return getInternalState(this).description}}));$$E({global:!0,wrap:!0,forced:!NATIVE_SYMBOL,sham:!NATIVE_SYMBOL},{Symbol:$Symbol});$forEach$1(objectKeys$1(WellKnownSymbolsStore),function(e){defineWellKnownSymbol$k(e)});$$E({target:SYMBOL,stat:!0,forced:!NATIVE_SYMBOL},{for:function(e){var r=$toString(e);if(has$2(StringToSymbolRegistry,r))return StringToSymbolRegistry[r];var t=$Symbol(r);return StringToSymbolRegistry[r]=t,SymbolToStringRegistry[t]=r,t},keyFor:function e(r){if(!isSymbol(r))throw TypeError(r+" is not a symbol");if(has$2(SymbolToStringRegistry,r))return SymbolToStringRegistry[r]},useSetter:function(){USE_SETTER=!0},useSimple:function(){USE_SETTER=!1}});$$E({target:"Object",stat:!0,forced:!NATIVE_SYMBOL,sham:!DESCRIPTORS$9},{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor});$$E({target:"Object",stat:!0,forced:!NATIVE_SYMBOL},{getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});$$E({target:"Object",stat:!0,forced:fails$d(function(){getOwnPropertySymbolsModule$1.f(1)})},{getOwnPropertySymbols:function e(r){return getOwnPropertySymbolsModule$1.f(toObject$7(r))}});if($stringify$1){var FORCED_JSON_STRINGIFY=!NATIVE_SYMBOL||fails$d(function(){var e=$Symbol();return $stringify$1([e])!="[null]"||$stringify$1({a:e})!="{}"||$stringify$1(Object(e))!="{}"});$$E({target:"JSON",stat:!0,forced:FORCED_JSON_STRINGIFY},{stringify:function(r,t,n){for(var a=[r],o=1,s;arguments.length>o;)a.push(arguments[o++]);if(s=t,!(!isObject$a(t)&&r===void 0||isSymbol(r)))return isArray$9(t)||(t=function(l,u){if(typeof s=="function"&&(u=s.call(this,l,u)),!isSymbol(u))return u}),a[1]=t,$stringify$1.apply(null,a)}})}$Symbol[PROTOTYPE][TO_PRIMITIVE]||createNonEnumerableProperty$1($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf);setToStringTag$2($Symbol,SYMBOL);hiddenKeys$1[HIDDEN]=!0;var path$q=path$x,getOwnPropertySymbols$2=path$q.Object.getOwnPropertySymbols,parent$O=getOwnPropertySymbols$2,getOwnPropertySymbols$1=parent$O,getOwnPropertySymbols=getOwnPropertySymbols$1,getOwnPropertyDescriptor$5={exports:{}},$$D=_export,fails$c=fails$m,toIndexedObject$3=toIndexedObject$a,nativeGetOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,DESCRIPTORS$8=descriptors,FAILS_ON_PRIMITIVES$3=fails$c(function(){nativeGetOwnPropertyDescriptor(1)}),FORCED$6=!DESCRIPTORS$8||FAILS_ON_PRIMITIVES$3;$$D({target:"Object",stat:!0,forced:FORCED$6,sham:!DESCRIPTORS$8},{getOwnPropertyDescriptor:function e(r,t){return nativeGetOwnPropertyDescriptor(toIndexedObject$3(r),t)}});var path$p=path$x,Object$5=path$p.Object,getOwnPropertyDescriptor$4=getOwnPropertyDescriptor$5.exports=function e(r,t){return Object$5.getOwnPropertyDescriptor(r,t)};Object$5.getOwnPropertyDescriptor.sham&&(getOwnPropertyDescriptor$4.sham=!0);var parent$N=getOwnPropertyDescriptor$5.exports,getOwnPropertyDescriptor$3=parent$N,getOwnPropertyDescriptor$2=getOwnPropertyDescriptor$3,getBuiltIn$3=getBuiltIn$8,getOwnPropertyNamesModule$1=objectGetOwnPropertyNames,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,anObject$4=anObject$c,ownKeys$6=getBuiltIn$3("Reflect","ownKeys")||function e(r){var t=getOwnPropertyNamesModule$1.f(anObject$4(r)),n=getOwnPropertySymbolsModule.f;return n?t.concat(n(r)):t},$$C=_export,DESCRIPTORS$7=descriptors,ownKeys$5=ownKeys$6,toIndexedObject$2=toIndexedObject$a,getOwnPropertyDescriptorModule$1=objectGetOwnPropertyDescriptor,createProperty$3=createProperty$5;$$C({target:"Object",stat:!0,sham:!DESCRIPTORS$7},{getOwnPropertyDescriptors:function e(r){for(var t=toIndexedObject$2(r),n=getOwnPropertyDescriptorModule$1.f,a=ownKeys$5(t),o={},s=0,l,u;a.length>s;)u=n(t,l=a[s++]),u!==void 0&&createProperty$3(o,l,u);return o}});var path$o=path$x,getOwnPropertyDescriptors$2=path$o.Object.getOwnPropertyDescriptors,parent$M=getOwnPropertyDescriptors$2,getOwnPropertyDescriptors$1=parent$M,getOwnPropertyDescriptors=getOwnPropertyDescriptors$1,defineProperties$4={exports:{}},$$B=_export,DESCRIPTORS$6=descriptors,defineProperties$3=objectDefineProperties;$$B({target:"Object",stat:!0,forced:!DESCRIPTORS$6,sham:!DESCRIPTORS$6},{defineProperties:defineProperties$3});var path$n=path$x,Object$4=path$n.Object,defineProperties$2=defineProperties$4.exports=function e(r,t){return Object$4.defineProperties(r,t)};Object$4.defineProperties.sham&&(defineProperties$2.sham=!0);var parent$L=defineProperties$4.exports,defineProperties$1=parent$L,defineProperties=defineProperties$1,defineProperty$8={exports:{}},$$A=_export,DESCRIPTORS$5=descriptors,objectDefinePropertyModile=objectDefineProperty;$$A({target:"Object",stat:!0,forced:!DESCRIPTORS$5,sham:!DESCRIPTORS$5},{defineProperty:objectDefinePropertyModile.f});var path$m=path$x,Object$3=path$m.Object,defineProperty$7=defineProperty$8.exports=function e(r,t,n){return Object$3.defineProperty(r,t,n)};Object$3.defineProperty.sham&&(defineProperty$7.sham=!0);var parent$K=defineProperty$8.exports,defineProperty$6=parent$K,defineProperty$5=defineProperty$6;function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var parent$J=defineProperty$6,defineProperty$4=parent$J,defineProperty$3=defineProperty$4;function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),defineProperty$3(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}function _defineProperty(e,r,t){return r in e?defineProperty$3(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var $$z=_export,isArray$8=isArray$b;$$z({target:"Array",stat:!0},{isArray:isArray$8});var path$l=path$x,isArray$7=path$l.Array.isArray,parent$I=isArray$7,isArray$6=parent$I,parent$H=isArray$6,isArray$5=parent$H,isArray$4=isArray$5;function _arrayWithHoles(e){if(isArray$4(e))return e}var fails$b=fails$m,wellKnownSymbol$5=wellKnownSymbol$j,V8_VERSION$1=engineV8Version,SPECIES$2=wellKnownSymbol$5("species"),arrayMethodHasSpeciesSupport$5=function(e){return V8_VERSION$1>=51||!fails$b(function(){var r=[],t=r.constructor={};return t[SPECIES$2]=function(){return{foo:1}},r[e](Boolean).foo!==1})},$$y=_export,fails$a=fails$m,isArray$3=isArray$b,isObject$9=isObject$j,toObject$6=toObject$d,toLength$6=toLength$a,createProperty$2=createProperty$5,arraySpeciesCreate$1=arraySpeciesCreate$3,arrayMethodHasSpeciesSupport$4=arrayMethodHasSpeciesSupport$5,wellKnownSymbol$4=wellKnownSymbol$j,V8_VERSION=engineV8Version,IS_CONCAT_SPREADABLE=wellKnownSymbol$4("isConcatSpreadable"),MAX_SAFE_INTEGER$1=9007199254740991,MAXIMUM_ALLOWED_INDEX_EXCEEDED="Maximum allowed index exceeded",IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION>=51||!fails$a(function(){var e=[];return e[IS_CONCAT_SPREADABLE]=!1,e.concat()[0]!==e}),SPECIES_SUPPORT=arrayMethodHasSpeciesSupport$4("concat"),isConcatSpreadable=function(e){if(!isObject$9(e))return!1;var r=e[IS_CONCAT_SPREADABLE];return r!==void 0?!!r:isArray$3(e)},FORCED$5=!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT;$$y({target:"Array",proto:!0,forced:FORCED$5},{concat:function e(r){var t=toObject$6(this),n=arraySpeciesCreate$1(t,0),a=0,o,s,l,u,f;for(o=-1,l=arguments.length;o<l;o++)if(f=o===-1?t:arguments[o],isConcatSpreadable(f)){if(u=toLength$6(f.length),a+u>MAX_SAFE_INTEGER$1)throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);for(s=0;s<u;s++,a++)s in f&&createProperty$2(n,a,f[s])}else{if(a>=MAX_SAFE_INTEGER$1)throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);createProperty$2(n,a++,f)}return n.length=a,n}});var defineWellKnownSymbol$j=defineWellKnownSymbol$l;defineWellKnownSymbol$j("asyncIterator");var defineWellKnownSymbol$i=defineWellKnownSymbol$l;defineWellKnownSymbol$i("hasInstance");var defineWellKnownSymbol$h=defineWellKnownSymbol$l;defineWellKnownSymbol$h("isConcatSpreadable");var defineWellKnownSymbol$g=defineWellKnownSymbol$l;defineWellKnownSymbol$g("iterator");var defineWellKnownSymbol$f=defineWellKnownSymbol$l;defineWellKnownSymbol$f("match");var defineWellKnownSymbol$e=defineWellKnownSymbol$l;defineWellKnownSymbol$e("matchAll");var defineWellKnownSymbol$d=defineWellKnownSymbol$l;defineWellKnownSymbol$d("replace");var defineWellKnownSymbol$c=defineWellKnownSymbol$l;defineWellKnownSymbol$c("search");var defineWellKnownSymbol$b=defineWellKnownSymbol$l;defineWellKnownSymbol$b("species");var defineWellKnownSymbol$a=defineWellKnownSymbol$l;defineWellKnownSymbol$a("split");var defineWellKnownSymbol$9=defineWellKnownSymbol$l;defineWellKnownSymbol$9("toPrimitive");var defineWellKnownSymbol$8=defineWellKnownSymbol$l;defineWellKnownSymbol$8("toStringTag");var defineWellKnownSymbol$7=defineWellKnownSymbol$l;defineWellKnownSymbol$7("unscopables");var global$8=global$k,setToStringTag$1=setToStringTag$5;setToStringTag$1(global$8.JSON,"JSON",!0);var path$k=path$x,symbol$4=path$k.Symbol,parent$G=symbol$4,symbol$3=parent$G,defineWellKnownSymbol$6=defineWellKnownSymbol$l;defineWellKnownSymbol$6("asyncDispose");var defineWellKnownSymbol$5=defineWellKnownSymbol$l;defineWellKnownSymbol$5("dispose");var defineWellKnownSymbol$4=defineWellKnownSymbol$l;defineWellKnownSymbol$4("matcher");var defineWellKnownSymbol$3=defineWellKnownSymbol$l;defineWellKnownSymbol$3("metadata");var defineWellKnownSymbol$2=defineWellKnownSymbol$l;defineWellKnownSymbol$2("observable");var defineWellKnownSymbol$1=defineWellKnownSymbol$l;defineWellKnownSymbol$1("patternMatch");var defineWellKnownSymbol=defineWellKnownSymbol$l;defineWellKnownSymbol("replaceAll");var parent$F=symbol$3,symbol$2=parent$F,symbol$1=symbol$2;function _iterableToArrayLimit(e,r){var t=e==null?null:typeof symbol$1!="undefined"&&getIteratorMethod$1(e)||e["@@iterator"];if(t!=null){var n=[],a=!0,o=!1,s,l;try{for(t=t.call(e);!(a=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));a=!0);}catch(u){o=!0,l=u}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw l}}return n}}var $$x=_export,isObject$8=isObject$j,isArray$2=isArray$b,toAbsoluteIndex$2=toAbsoluteIndex$4,toLength$5=toLength$a,toIndexedObject$1=toIndexedObject$a,createProperty$1=createProperty$5,wellKnownSymbol$3=wellKnownSymbol$j,arrayMethodHasSpeciesSupport$3=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$3=arrayMethodHasSpeciesSupport$3("slice"),SPECIES$1=wellKnownSymbol$3("species"),nativeSlice=[].slice,max$1=Math.max;$$x({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$3},{slice:function e(r,t){var n=toIndexedObject$1(this),a=toLength$5(n.length),o=toAbsoluteIndex$2(r,a),s=toAbsoluteIndex$2(t===void 0?a:t,a),l,u,f;if(isArray$2(n)&&(l=n.constructor,typeof l=="function"&&(l===Array||isArray$2(l.prototype))?l=void 0:isObject$8(l)&&(l=l[SPECIES$1],l===null&&(l=void 0)),l===Array||l===void 0))return nativeSlice.call(n,o,s);for(u=new(l===void 0?Array:l)(max$1(s-o,0)),f=0;o<s;o++,f++)o in n&&createProperty$1(u,f,n[o]);return u.length=f,u}});var entryVirtual$g=entryVirtual$i,slice$6=entryVirtual$g("Array").slice,slice$5=slice$6,ArrayPrototype$e=Array.prototype,slice_1=function(e){var r=e.slice;return e===ArrayPrototype$e||e instanceof Array&&r===ArrayPrototype$e.slice?slice$5:r},parent$E=slice_1,slice$4=parent$E,parent$D=slice$4,slice$3=parent$D,slice$2=slice$3,parent$C=from$3,from$1=parent$C,from=from$1;function _arrayLikeToArray$8(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _unsupportedIterableToArray$8(e,r){var t;if(!!e){if(typeof e=="string")return _arrayLikeToArray$8(e,r);var n=slice$2(t=Object.prototype.toString.call(e)).call(t,8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$8(e,r)}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_unsupportedIterableToArray$8(e,r)||_nonIterableRest()}var WrappedWellKnownSymbolModule=wellKnownSymbolWrapped,iterator$3=WrappedWellKnownSymbolModule.f("iterator"),parent$B=iterator$3,iterator$2=parent$B,parent$A=iterator$2,iterator$1=parent$A,iterator=iterator$1;function _typeof(e){return typeof symbol$1=="function"&&typeof iterator=="symbol"?_typeof=function(t){return typeof t}:_typeof=function(t){return t&&typeof symbol$1=="function"&&t.constructor===symbol$1&&t!==symbol$1.prototype?"symbol":typeof t},_typeof(e)}function _arrayWithoutHoles(e){if(isArray$4(e))return _arrayLikeToArray$8(e)}function _iterableToArray(e){if(typeof symbol$1!="undefined"&&getIteratorMethod$1(e)!=null||e["@@iterator"]!=null)return from(e)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray$8(e)||_nonIterableSpread()}var symbol=symbol$3,entryVirtual$f=entryVirtual$i,concat$3=entryVirtual$f("Array").concat,concat$2=concat$3,ArrayPrototype$d=Array.prototype,concat_1=function(e){var r=e.concat;return e===ArrayPrototype$d||e instanceof Array&&r===ArrayPrototype$d.concat?concat$2:r},parent$z=concat_1,concat$1=parent$z,concat=concat$1,slice$1=slice$4,$$w=_export,ownKeys$4=ownKeys$6;$$w({target:"Reflect",stat:!0},{ownKeys:ownKeys$4});var path$j=path$x;path$j.Reflect.ownKeys;var isArray$1=isArray$6,$$v=_export,$map=arrayIteration.map,arrayMethodHasSpeciesSupport$2=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$2=arrayMethodHasSpeciesSupport$2("map");$$v({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$2},{map:function e(r){return $map(this,r,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$e=entryVirtual$i,map$6=entryVirtual$e("Array").map,map$5=map$6,ArrayPrototype$c=Array.prototype,map_1=function(e){var r=e.map;return e===ArrayPrototype$c||e instanceof Array&&r===ArrayPrototype$c.map?map$5:r},parent$y=map_1,map$4=parent$y,map$3=map$4,$$u=_export,toObject$5=toObject$d,nativeKeys=objectKeys$4,fails$9=fails$m,FAILS_ON_PRIMITIVES$2=fails$9(function(){nativeKeys(1)});$$u({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$2},{keys:function e(r){return nativeKeys(toObject$5(r))}});var path$i=path$x,keys$2=path$i.Object.keys,parent$x=keys$2,keys$1=parent$x,keys=keys$1,$$t=_export;$$t({target:"Date",stat:!0},{now:function e(){return new Date().getTime()}});var path$h=path$x,now$3=path$h.Date.now,parent$w=now$3,now$2=parent$w,now$1=now$2,fails$8=fails$m,arrayMethodIsStrict$6=function(e,r){var t=[][e];return!!t&&fails$8(function(){t.call(null,r||function(){throw 1},1)})},$forEach=arrayIteration.forEach,arrayMethodIsStrict$5=arrayMethodIsStrict$6,STRICT_METHOD$5=arrayMethodIsStrict$5("forEach"),arrayForEach=STRICT_METHOD$5?[].forEach:function e(r){return $forEach(this,r,arguments.length>1?arguments[1]:void 0)},$$s=_export,forEach$6=arrayForEach;$$s({target:"Array",proto:!0,forced:[].forEach!=forEach$6},{forEach:forEach$6});var entryVirtual$d=entryVirtual$i,forEach$5=entryVirtual$d("Array").forEach,parent$v=forEach$5,forEach$4=parent$v,forEach$3=forEach$4,classof$3=classof$8,ArrayPrototype$b=Array.prototype,DOMIterables$1={DOMTokenList:!0,NodeList:!0},forEach_1=function(e){var r=e.forEach;return e===ArrayPrototype$b||e instanceof Array&&r===ArrayPrototype$b.forEach||DOMIterables$1.hasOwnProperty(classof$3(e))?forEach$3:r},forEach$2=forEach_1,$$r=_export,isArray=isArray$b,nativeReverse=[].reverse,test$1=[1,2];$$r({target:"Array",proto:!0,forced:String(test$1)===String(test$1.reverse())},{reverse:function e(){return isArray(this)&&(this.length=this.length),nativeReverse.call(this)}});var entryVirtual$c=entryVirtual$i,reverse$3=entryVirtual$c("Array").reverse,reverse$2=reverse$3,ArrayPrototype$a=Array.prototype,reverse_1=function(e){var r=e.reverse;return e===ArrayPrototype$a||e instanceof Array&&r===ArrayPrototype$a.reverse?reverse$2:r},parent$u=reverse_1,reverse$1=parent$u,reverse=reverse$1,$$q=_export,toAbsoluteIndex$1=toAbsoluteIndex$4,toInteger=toInteger$4,toLength$4=toLength$a,toObject$4=toObject$d,arraySpeciesCreate=arraySpeciesCreate$3,createProperty=createProperty$5,arrayMethodHasSpeciesSupport$1=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$1=arrayMethodHasSpeciesSupport$1("splice"),max=Math.max,min=Math.min,MAX_SAFE_INTEGER=9007199254740991,MAXIMUM_ALLOWED_LENGTH_EXCEEDED="Maximum allowed length exceeded";$$q({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$1},{splice:function e(r,t){var n=toObject$4(this),a=toLength$4(n.length),o=toAbsoluteIndex$1(r,a),s=arguments.length,l,u,f,d,v,g;if(s===0?l=u=0:s===1?(l=0,u=a-o):(l=s-2,u=min(max(toInteger(t),0),a-o)),a+l-u>MAX_SAFE_INTEGER)throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);for(f=arraySpeciesCreate(n,u),d=0;d<u;d++)v=o+d,v in n&&createProperty(f,d,n[v]);if(f.length=u,l<u){for(d=o;d<a-u;d++)v=d+u,g=d+l,v in n?n[g]=n[v]:delete n[g];for(d=a;d>a-u+l;d--)delete n[d-1]}else if(l>u)for(d=a-u;d>o;d--)v=d+u-1,g=d+l-1,v in n?n[g]=n[v]:delete n[g];for(d=0;d<l;d++)n[d+o]=arguments[d+2];return n.length=a-u+l,f}});var entryVirtual$b=entryVirtual$i,splice$3=entryVirtual$b("Array").splice,splice$2=splice$3,ArrayPrototype$9=Array.prototype,splice_1=function(e){var r=e.splice;return e===ArrayPrototype$9||e instanceof Array&&r===ArrayPrototype$9.splice?splice$2:r},parent$t=splice_1,splice$1=parent$t,splice=splice$1,$$p=_export,$includes=arrayIncludes$1.includes;$$p({target:"Array",proto:!0},{includes:function e(r){return $includes(this,r,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$a=entryVirtual$i,includes$4=entryVirtual$a("Array").includes,isObject$7=isObject$j,classof$2=classofRaw$1,wellKnownSymbol$2=wellKnownSymbol$j,MATCH$1=wellKnownSymbol$2("match"),isRegexp=function(e){var r;return isObject$7(e)&&((r=e[MATCH$1])!==void 0?!!r:classof$2(e)=="RegExp")},isRegExp=isRegexp,notARegexp=function(e){if(isRegExp(e))throw TypeError("The method doesn't accept regular expressions");return e},wellKnownSymbol$1=wellKnownSymbol$j,MATCH=wellKnownSymbol$1("match"),correctIsRegexpLogic=function(e){var r=/./;try{"/./"[e](r)}catch{try{return r[MATCH]=!1,"/./"[e](r)}catch{}}return!1},$$o=_export,notARegExp=notARegexp,requireObjectCoercible$1=requireObjectCoercible$5,toString$4=toString$9,correctIsRegExpLogic=correctIsRegexpLogic;$$o({target:"String",proto:!0,forced:!correctIsRegExpLogic("includes")},{includes:function e(r){return!!~toString$4(requireObjectCoercible$1(this)).indexOf(toString$4(notARegExp(r)),arguments.length>1?arguments[1]:void 0)}});var entryVirtual$9=entryVirtual$i,includes$3=entryVirtual$9("String").includes,arrayIncludes=includes$4,stringIncludes=includes$3,ArrayPrototype$8=Array.prototype,StringPrototype=String.prototype,includes$2=function(e){var r=e.includes;return e===ArrayPrototype$8||e instanceof Array&&r===ArrayPrototype$8.includes?arrayIncludes:typeof e=="string"||e===StringPrototype||e instanceof String&&r===StringPrototype.includes?stringIncludes:r},parent$s=includes$2,includes$1=parent$s,includes=includes$1,$$n=_export,fails$7=fails$m,toObject$3=toObject$d,nativeGetPrototypeOf=objectGetPrototypeOf,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,FAILS_ON_PRIMITIVES$1=fails$7(function(){nativeGetPrototypeOf(1)});$$n({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$1,sham:!CORRECT_PROTOTYPE_GETTER},{getPrototypeOf:function e(r){return nativeGetPrototypeOf(toObject$3(r))}});var path$g=path$x,getPrototypeOf$5=path$g.Object.getPrototypeOf,parent$r=getPrototypeOf$5,getPrototypeOf$4=parent$r,getPrototypeOf$3=getPrototypeOf$4,$$m=_export,$filter=arrayIteration.filter,arrayMethodHasSpeciesSupport=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("filter");$$m({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT},{filter:function e(r){return $filter(this,r,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$8=entryVirtual$i,filter$3=entryVirtual$8("Array").filter,filter$2=filter$3,ArrayPrototype$7=Array.prototype,filter_1=function(e){var r=e.filter;return e===ArrayPrototype$7||e instanceof Array&&r===ArrayPrototype$7.filter?filter$2:r},parent$q=filter_1,filter$1=parent$q,filter=filter$1,DESCRIPTORS$4=descriptors,objectKeys=objectKeys$4,toIndexedObject=toIndexedObject$a,propertyIsEnumerable=objectPropertyIsEnumerable.f,createMethod$2=function(e){return function(r){for(var t=toIndexedObject(r),n=objectKeys(t),a=n.length,o=0,s=[],l;a>o;)l=n[o++],(!DESCRIPTORS$4||propertyIsEnumerable.call(t,l))&&s.push(e?[l,t[l]]:t[l]);return s}},objectToArray={entries:createMethod$2(!0),values:createMethod$2(!1)},$$l=_export,$values=objectToArray.values;$$l({target:"Object",stat:!0},{values:function e(r){return $values(r)}});var path$f=path$x;path$f.Object.values;var whitespaces$4=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,requireObjectCoercible=requireObjectCoercible$5,toString$3=toString$9,whitespaces$3=whitespaces$4,whitespace="["+whitespaces$3+"]",ltrim=RegExp("^"+whitespace+whitespace+"*"),rtrim=RegExp(whitespace+whitespace+"*$"),createMethod$1=function(e){return function(r){var t=toString$3(requireObjectCoercible(r));return e&1&&(t=t.replace(ltrim,"")),e&2&&(t=t.replace(rtrim,"")),t}},stringTrim={start:createMethod$1(1),end:createMethod$1(2),trim:createMethod$1(3)},global$7=global$k,toString$2=toString$9,trim$1=stringTrim.trim,whitespaces$2=whitespaces$4,$parseInt=global$7.parseInt,hex=/^[+-]?0[Xx]/,FORCED$4=$parseInt(whitespaces$2+"08")!==8||$parseInt(whitespaces$2+"0x16")!==22,numberParseInt=FORCED$4?function e(r,t){var n=trim$1(toString$2(r));return $parseInt(n,t>>>0||(hex.test(n)?16:10))}:$parseInt,$$k=_export,parseIntImplementation=numberParseInt;$$k({global:!0,forced:parseInt!=parseIntImplementation},{parseInt:parseIntImplementation});var path$e=path$x,_parseInt$2=path$e.parseInt,parent$p=_parseInt$2,_parseInt$1=parent$p,_parseInt=_parseInt$1,$$j=_export,$indexOf=arrayIncludes$1.indexOf,arrayMethodIsStrict$4=arrayMethodIsStrict$6,nativeIndexOf=[].indexOf,NEGATIVE_ZERO=!!nativeIndexOf&&1/[1].indexOf(1,-0)<0,STRICT_METHOD$4=arrayMethodIsStrict$4("indexOf");$$j({target:"Array",proto:!0,forced:NEGATIVE_ZERO||!STRICT_METHOD$4},{indexOf:function e(r){return NEGATIVE_ZERO?nativeIndexOf.apply(this,arguments)||0:$indexOf(this,r,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$7=entryVirtual$i,indexOf$3=entryVirtual$7("Array").indexOf,indexOf$2=indexOf$3,ArrayPrototype$6=Array.prototype,indexOf_1=function(e){var r=e.indexOf;return e===ArrayPrototype$6||e instanceof Array&&r===ArrayPrototype$6.indexOf?indexOf$2:r},parent$o=indexOf_1,indexOf$1=parent$o,indexOf=indexOf$1,fails$6=fails$m,whitespaces$1=whitespaces$4,non="\u200B\x85\u180E",stringTrimForced=function(e){return fails$6(function(){return!!whitespaces$1[e]()||non[e]()!=non||whitespaces$1[e].name!==e})},$$i=_export,$trim=stringTrim.trim,forcedStringTrimMethod=stringTrimForced;$$i({target:"String",proto:!0,forced:forcedStringTrimMethod("trim")},{trim:function e(){return $trim(this)}});var entryVirtual$6=entryVirtual$i;entryVirtual$6("String").trim;var $$h=_export,DESCRIPTORS$3=descriptors,create$7=objectCreate;$$h({target:"Object",stat:!0,sham:!DESCRIPTORS$3},{create:create$7});var path$d=path$x,Object$2=path$d.Object,create$6=function e(r,t){return Object$2.create(r,t)},parent$n=create$6,create$5=parent$n,create$4=create$5,$$g=_export,getBuiltIn$2=getBuiltIn$8,fails$5=fails$m,$stringify=getBuiltIn$2("JSON","stringify"),re=/[\uD800-\uDFFF]/g,low=/^[\uD800-\uDBFF]$/,hi=/^[\uDC00-\uDFFF]$/,fix=function(e,r,t){var n=t.charAt(r-1),a=t.charAt(r+1);return low.test(e)&&!hi.test(a)||hi.test(e)&&!low.test(n)?"\\u"+e.charCodeAt(0).toString(16):e},FORCED$3=fails$5(function(){return $stringify("\uDF06\uD834")!=='"\\udf06\\ud834"'||$stringify("\uDEAD")!=='"\\udead"'});$stringify&&$$g({target:"JSON",stat:!0,forced:FORCED$3},{stringify:function(r,t,n){var a=$stringify.apply(null,arguments);return typeof a=="string"?a.replace(re,fix):a}});var core=path$x;core.JSON||(core.JSON={stringify:JSON.stringify});var stringify$3=function e(r,t,n){return core.JSON.stringify.apply(null,arguments)},parent$m=stringify$3,stringify$2=parent$m,stringify$1=stringify$2,$$f=_export,global$6=global$k,userAgent$2=engineUserAgent,slice=[].slice,MSIE=/MSIE .\./.test(userAgent$2),wrap=function(e){return function(r,t){var n=arguments.length>2,a=n?slice.call(arguments,2):void 0;return e(n?function(){(typeof r=="function"?r:Function(r)).apply(this,a)}:r,t)}};$$f({global:!0,bind:!0,forced:MSIE},{setTimeout:wrap(global$6.setTimeout),setInterval:wrap(global$6.setInterval)});var path$c=path$x,setTimeout$2=path$c.setTimeout,setTimeout$1=setTimeout$2,toObject$2=toObject$d,toAbsoluteIndex=toAbsoluteIndex$4,toLength$3=toLength$a,arrayFill=function e(r){for(var t=toObject$2(this),n=toLength$3(t.length),a=arguments.length,o=toAbsoluteIndex(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,l=s===void 0?n:toAbsoluteIndex(s,n);l>o;)t[o++]=r;return t},$$e=_export,fill$4=arrayFill;$$e({target:"Array",proto:!0},{fill:fill$4});var entryVirtual$5=entryVirtual$i,fill$3=entryVirtual$5("Array").fill,fill$2=fill$3,ArrayPrototype$5=Array.prototype,fill_1=function(e){var r=e.fill;return e===ArrayPrototype$5||e instanceof Array&&r===ArrayPrototype$5.fill?fill$2:r},parent$l=fill_1,fill$1=parent$l,fill=fill$1;/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function _extends(){return _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_extends.apply(this,arguments)}function _inheritsLoose(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r}function _assertThisInitialized$1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var assign;typeof Object.assign!="function"?assign=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(r),n=1;n<arguments.length;n++){var a=arguments[n];if(a!=null)for(var o in a)a.hasOwnProperty(o)&&(t[o]=a[o])}return t}:assign=Object.assign;var assign$1=assign,VENDOR_PREFIXES=["","webkit","Moz","MS","ms","o"],TEST_ELEMENT=typeof document=="undefined"?{style:{}}:document.createElement("div"),TYPE_FUNCTION="function",round=Math.round,abs$1=Math.abs,now=Date.now;function prefixed(e,r){for(var t,n,a=r[0].toUpperCase()+r.slice(1),o=0;o<VENDOR_PREFIXES.length;){if(t=VENDOR_PREFIXES[o],n=t?t+a:r,n in e)return n;o++}}var win;typeof window=="undefined"?win={}:win=window;var PREFIXED_TOUCH_ACTION=prefixed(TEST_ELEMENT.style,"touchAction"),NATIVE_TOUCH_ACTION=PREFIXED_TOUCH_ACTION!==void 0;function getTouchActionProps(){if(!NATIVE_TOUCH_ACTION)return!1;var e={},r=win.CSS&&win.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return e[t]=r?win.CSS.supports("touch-action",t):!0}),e}var TOUCH_ACTION_COMPUTE="compute",TOUCH_ACTION_AUTO="auto",TOUCH_ACTION_MANIPULATION="manipulation",TOUCH_ACTION_NONE="none",TOUCH_ACTION_PAN_X="pan-x",TOUCH_ACTION_PAN_Y="pan-y",TOUCH_ACTION_MAP=getTouchActionProps(),MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,SUPPORT_TOUCH="ontouchstart"in win,SUPPORT_POINTER_EVENTS=prefixed(win,"PointerEvent")!==void 0,SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&MOBILE_REGEX.test(navigator.userAgent),INPUT_TYPE_TOUCH="touch",INPUT_TYPE_PEN="pen",INPUT_TYPE_MOUSE="mouse",INPUT_TYPE_KINECT="kinect",COMPUTE_INTERVAL=25,INPUT_START=1,INPUT_MOVE=2,INPUT_END=4,INPUT_CANCEL=8,DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_HORIZONTAL=DIRECTION_LEFT|DIRECTION_RIGHT,DIRECTION_VERTICAL=DIRECTION_UP|DIRECTION_DOWN,DIRECTION_ALL=DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,PROPS_XY=["x","y"],PROPS_CLIENT_XY=["clientX","clientY"];function each(e,r,t){var n;if(!!e)if(e.forEach)e.forEach(r,t);else if(e.length!==void 0)for(n=0;n<e.length;)r.call(t,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&r.call(t,e[n],n,e)}function boolOrFn(e,r){return typeof e===TYPE_FUNCTION?e.apply(r&&r[0]||void 0,r):e}function inStr(e,r){return e.indexOf(r)>-1}function cleanTouchActions(e){if(inStr(e,TOUCH_ACTION_NONE))return TOUCH_ACTION_NONE;var r=inStr(e,TOUCH_ACTION_PAN_X),t=inStr(e,TOUCH_ACTION_PAN_Y);return r&&t?TOUCH_ACTION_NONE:r||t?r?TOUCH_ACTION_PAN_X:TOUCH_ACTION_PAN_Y:inStr(e,TOUCH_ACTION_MANIPULATION)?TOUCH_ACTION_MANIPULATION:TOUCH_ACTION_AUTO}var TouchAction=function(){function e(t,n){this.manager=t,this.set(n)}var r=e.prototype;return r.set=function(n){n===TOUCH_ACTION_COMPUTE&&(n=this.compute()),NATIVE_TOUCH_ACTION&&this.manager.element.style&&TOUCH_ACTION_MAP[n]&&(this.manager.element.style[PREFIXED_TOUCH_ACTION]=n),this.actions=n.toLowerCase().trim()},r.update=function(){this.set(this.manager.options.touchAction)},r.compute=function(){var n=[];return each(this.manager.recognizers,function(a){boolOrFn(a.options.enable,[a])&&(n=n.concat(a.getTouchAction()))}),cleanTouchActions(n.join(" "))},r.preventDefaults=function(n){var a=n.srcEvent,o=n.offsetDirection;if(this.manager.session.prevented){a.preventDefault();return}var s=this.actions,l=inStr(s,TOUCH_ACTION_NONE)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_NONE],u=inStr(s,TOUCH_ACTION_PAN_Y)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y],f=inStr(s,TOUCH_ACTION_PAN_X)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];if(l){var d=n.pointers.length===1,v=n.distance<2,g=n.deltaTime<250;if(d&&v&&g)return}if(!(f&&u)&&(l||u&&o&DIRECTION_HORIZONTAL||f&&o&DIRECTION_VERTICAL))return this.preventSrc(a)},r.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},e}();function hasParent(e,r){for(;e;){if(e===r)return!0;e=e.parentNode}return!1}function getCenter(e){var r=e.length;if(r===1)return{x:round(e[0].clientX),y:round(e[0].clientY)};for(var t=0,n=0,a=0;a<r;)t+=e[a].clientX,n+=e[a].clientY,a++;return{x:round(t/r),y:round(n/r)}}function simpleCloneInputData(e){for(var r=[],t=0;t<e.pointers.length;)r[t]={clientX:round(e.pointers[t].clientX),clientY:round(e.pointers[t].clientY)},t++;return{timeStamp:now(),pointers:r,center:getCenter(r),deltaX:e.deltaX,deltaY:e.deltaY}}function getDistance(e,r,t){t||(t=PROPS_XY);var n=r[t[0]]-e[t[0]],a=r[t[1]]-e[t[1]];return Math.sqrt(n*n+a*a)}function getAngle(e,r,t){t||(t=PROPS_XY);var n=r[t[0]]-e[t[0]],a=r[t[1]]-e[t[1]];return Math.atan2(a,n)*180/Math.PI}function getDirection(e,r){return e===r?DIRECTION_NONE:abs$1(e)>=abs$1(r)?e<0?DIRECTION_LEFT:DIRECTION_RIGHT:r<0?DIRECTION_UP:DIRECTION_DOWN}function computeDeltaXY(e,r){var t=r.center,n=e.offsetDelta||{},a=e.prevDelta||{},o=e.prevInput||{};(r.eventType===INPUT_START||o.eventType===INPUT_END)&&(a=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=e.offsetDelta={x:t.x,y:t.y}),r.deltaX=a.x+(t.x-n.x),r.deltaY=a.y+(t.y-n.y)}function getVelocity(e,r,t){return{x:r/e||0,y:t/e||0}}function getScale(e,r){return getDistance(r[0],r[1],PROPS_CLIENT_XY)/getDistance(e[0],e[1],PROPS_CLIENT_XY)}function getRotation(e,r){return getAngle(r[1],r[0],PROPS_CLIENT_XY)+getAngle(e[1],e[0],PROPS_CLIENT_XY)}function computeIntervalInputData(e,r){var t=e.lastInterval||r,n=r.timeStamp-t.timeStamp,a,o,s,l;if(r.eventType!==INPUT_CANCEL&&(n>COMPUTE_INTERVAL||t.velocity===void 0)){var u=r.deltaX-t.deltaX,f=r.deltaY-t.deltaY,d=getVelocity(n,u,f);o=d.x,s=d.y,a=abs$1(d.x)>abs$1(d.y)?d.x:d.y,l=getDirection(u,f),e.lastInterval=r}else a=t.velocity,o=t.velocityX,s=t.velocityY,l=t.direction;r.velocity=a,r.velocityX=o,r.velocityY=s,r.direction=l}function computeInputData(e,r){var t=e.session,n=r.pointers,a=n.length;t.firstInput||(t.firstInput=simpleCloneInputData(r)),a>1&&!t.firstMultiple?t.firstMultiple=simpleCloneInputData(r):a===1&&(t.firstMultiple=!1);var o=t.firstInput,s=t.firstMultiple,l=s?s.center:o.center,u=r.center=getCenter(n);r.timeStamp=now(),r.deltaTime=r.timeStamp-o.timeStamp,r.angle=getAngle(l,u),r.distance=getDistance(l,u),computeDeltaXY(t,r),r.offsetDirection=getDirection(r.deltaX,r.deltaY);var f=getVelocity(r.deltaTime,r.deltaX,r.deltaY);r.overallVelocityX=f.x,r.overallVelocityY=f.y,r.overallVelocity=abs$1(f.x)>abs$1(f.y)?f.x:f.y,r.scale=s?getScale(s.pointers,n):1,r.rotation=s?getRotation(s.pointers,n):0,r.maxPointers=t.prevInput?r.pointers.length>t.prevInput.maxPointers?r.pointers.length:t.prevInput.maxPointers:r.pointers.length,computeIntervalInputData(t,r);var d=e.element,v=r.srcEvent,g;v.composedPath?g=v.composedPath()[0]:v.path?g=v.path[0]:g=v.target,hasParent(g,d)&&(d=g),r.target=d}function inputHandler(e,r,t){var n=t.pointers.length,a=t.changedPointers.length,o=r&INPUT_START&&n-a==0,s=r&(INPUT_END|INPUT_CANCEL)&&n-a==0;t.isFirst=!!o,t.isFinal=!!s,o&&(e.session={}),t.eventType=r,computeInputData(e,t),e.emit("hammer.input",t),e.recognize(t),e.session.prevInput=t}function splitStr(e){return e.trim().split(/\s+/g)}function addEventListeners(e,r,t){each(splitStr(r),function(n){e.addEventListener(n,t,!1)})}function removeEventListeners(e,r,t){each(splitStr(r),function(n){e.removeEventListener(n,t,!1)})}function getWindowForElement(e){var r=e.ownerDocument||e;return r.defaultView||r.parentWindow||window}var Input=function(){function e(t,n){var a=this;this.manager=t,this.callback=n,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(o){boolOrFn(t.options.enable,[t])&&a.handler(o)},this.init()}var r=e.prototype;return r.handler=function(){},r.init=function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},r.destroy=function(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},e}();function inArray(e,r,t){if(e.indexOf&&!t)return e.indexOf(r);for(var n=0;n<e.length;){if(t&&e[n][t]==r||!t&&e[n]===r)return n;n++}return-1}var POINTER_INPUT_MAP={pointerdown:INPUT_START,pointermove:INPUT_MOVE,pointerup:INPUT_END,pointercancel:INPUT_CANCEL,pointerout:INPUT_CANCEL},IE10_POINTER_TYPE_ENUM={2:INPUT_TYPE_TOUCH,3:INPUT_TYPE_PEN,4:INPUT_TYPE_MOUSE,5:INPUT_TYPE_KINECT},POINTER_ELEMENT_EVENTS="pointerdown",POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";win.MSPointerEvent&&!win.PointerEvent&&(POINTER_ELEMENT_EVENTS="MSPointerDown",POINTER_WINDOW_EVENTS="MSPointerMove MSPointerUp MSPointerCancel");var PointerEventInput=function(e){_inheritsLoose(r,e);function r(){var n,a=r.prototype;return a.evEl=POINTER_ELEMENT_EVENTS,a.evWin=POINTER_WINDOW_EVENTS,n=e.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var t=r.prototype;return t.handler=function(a){var o=this.store,s=!1,l=a.type.toLowerCase().replace("ms",""),u=POINTER_INPUT_MAP[l],f=IE10_POINTER_TYPE_ENUM[a.pointerType]||a.pointerType,d=f===INPUT_TYPE_TOUCH,v=inArray(o,a.pointerId,"pointerId");u&INPUT_START&&(a.button===0||d)?v<0&&(o.push(a),v=o.length-1):u&(INPUT_END|INPUT_CANCEL)&&(s=!0),!(v<0)&&(o[v]=a,this.callback(this.manager,u,{pointers:o,changedPointers:[a],pointerType:f,srcEvent:a}),s&&o.splice(v,1))},r}(Input);function toArray(e){return Array.prototype.slice.call(e,0)}function uniqueArray(e,r,t){for(var n=[],a=[],o=0;o<e.length;){var s=r?e[o][r]:e[o];inArray(a,s)<0&&n.push(e[o]),a[o]=s,o++}return t&&(r?n=n.sort(function(l,u){return l[r]>u[r]}):n=n.sort()),n}var TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},TOUCH_TARGET_EVENTS="touchstart touchmove touchend touchcancel",TouchInput=function(e){_inheritsLoose(r,e);function r(){var n;return r.prototype.evTarget=TOUCH_TARGET_EVENTS,n=e.apply(this,arguments)||this,n.targetIds={},n}var t=r.prototype;return t.handler=function(a){var o=TOUCH_INPUT_MAP[a.type],s=getTouches.call(this,a,o);!s||this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:a})},r}(Input);function getTouches(e,r){var t=toArray(e.touches),n=this.targetIds;if(r&(INPUT_START|INPUT_MOVE)&&t.length===1)return n[t[0].identifier]=!0,[t,t];var a,o,s=toArray(e.changedTouches),l=[],u=this.target;if(o=t.filter(function(f){return hasParent(f.target,u)}),r===INPUT_START)for(a=0;a<o.length;)n[o[a].identifier]=!0,a++;for(a=0;a<s.length;)n[s[a].identifier]&&l.push(s[a]),r&(INPUT_END|INPUT_CANCEL)&&delete n[s[a].identifier],a++;if(!!l.length)return[uniqueArray(o.concat(l),"identifier",!0),l]}var MOUSE_INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END},MOUSE_ELEMENT_EVENTS="mousedown",MOUSE_WINDOW_EVENTS="mousemove mouseup",MouseInput=function(e){_inheritsLoose(r,e);function r(){var n,a=r.prototype;return a.evEl=MOUSE_ELEMENT_EVENTS,a.evWin=MOUSE_WINDOW_EVENTS,n=e.apply(this,arguments)||this,n.pressed=!1,n}var t=r.prototype;return t.handler=function(a){var o=MOUSE_INPUT_MAP[a.type];o&INPUT_START&&a.button===0&&(this.pressed=!0),o&INPUT_MOVE&&a.which!==1&&(o=INPUT_END),!!this.pressed&&(o&INPUT_END&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[a],changedPointers:[a],pointerType:INPUT_TYPE_MOUSE,srcEvent:a}))},r}(Input),DEDUP_TIMEOUT=2500,DEDUP_DISTANCE=25;function setLastTouch(e){var r=e.changedPointers,t=r[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},a=this.lastTouches;this.lastTouches.push(n);var o=function(){var l=a.indexOf(n);l>-1&&a.splice(l,1)};setTimeout(o,DEDUP_TIMEOUT)}}function recordTouches(e,r){e&INPUT_START?(this.primaryTouch=r.changedPointers[0].identifier,setLastTouch.call(this,r)):e&(INPUT_END|INPUT_CANCEL)&&setLastTouch.call(this,r)}function isSyntheticEvent(e){for(var r=e.srcEvent.clientX,t=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var a=this.lastTouches[n],o=Math.abs(r-a.x),s=Math.abs(t-a.y);if(o<=DEDUP_DISTANCE&&s<=DEDUP_DISTANCE)return!0}return!1}var TouchMouseInput=function(){var e=function(r){_inheritsLoose(t,r);function t(a,o){var s;return s=r.call(this,a,o)||this,s.handler=function(l,u,f){var d=f.pointerType===INPUT_TYPE_TOUCH,v=f.pointerType===INPUT_TYPE_MOUSE;if(!(v&&f.sourceCapabilities&&f.sourceCapabilities.firesTouchEvents)){if(d)recordTouches.call(_assertThisInitialized$1(_assertThisInitialized$1(s)),u,f);else if(v&&isSyntheticEvent.call(_assertThisInitialized$1(_assertThisInitialized$1(s)),f))return;s.callback(l,u,f)}},s.touch=new TouchInput(s.manager,s.handler),s.mouse=new MouseInput(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var n=t.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Input);return e}();function createInputInstance(e){var r,t=e.options.inputClass;return t?r=t:SUPPORT_POINTER_EVENTS?r=PointerEventInput:SUPPORT_ONLY_TOUCH?r=TouchInput:SUPPORT_TOUCH?r=TouchMouseInput:r=MouseInput,new r(e,inputHandler)}function invokeArrayArg(e,r,t){return Array.isArray(e)?(each(e,t[r],t),!0):!1}var STATE_POSSIBLE=1,STATE_BEGAN=2,STATE_CHANGED=4,STATE_ENDED=8,STATE_RECOGNIZED=STATE_ENDED,STATE_CANCELLED=16,STATE_FAILED=32,_uniqueId=1;function uniqueId(){return _uniqueId++}function getRecognizerByNameIfManager(e,r){var t=r.manager;return t?t.get(e):e}function stateStr(e){return e&STATE_CANCELLED?"cancel":e&STATE_ENDED?"end":e&STATE_CHANGED?"move":e&STATE_BEGAN?"start":""}var Recognizer=function(){function e(t){t===void 0&&(t={}),this.options=_extends({enable:!0},t),this.id=uniqueId(),this.manager=null,this.state=STATE_POSSIBLE,this.simultaneous={},this.requireFail=[]}var r=e.prototype;return r.set=function(n){return assign$1(this.options,n),this.manager&&this.manager.touchAction.update(),this},r.recognizeWith=function(n){if(invokeArrayArg(n,"recognizeWith",this))return this;var a=this.simultaneous;return n=getRecognizerByNameIfManager(n,this),a[n.id]||(a[n.id]=n,n.recognizeWith(this)),this},r.dropRecognizeWith=function(n){return invokeArrayArg(n,"dropRecognizeWith",this)?this:(n=getRecognizerByNameIfManager(n,this),delete this.simultaneous[n.id],this)},r.requireFailure=function(n){if(invokeArrayArg(n,"requireFailure",this))return this;var a=this.requireFail;return n=getRecognizerByNameIfManager(n,this),inArray(a,n)===-1&&(a.push(n),n.requireFailure(this)),this},r.dropRequireFailure=function(n){if(invokeArrayArg(n,"dropRequireFailure",this))return this;n=getRecognizerByNameIfManager(n,this);var a=inArray(this.requireFail,n);return a>-1&&this.requireFail.splice(a,1),this},r.hasRequireFailures=function(){return this.requireFail.length>0},r.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},r.emit=function(n){var a=this,o=this.state;function s(l){a.manager.emit(l,n)}o<STATE_ENDED&&s(a.options.event+stateStr(o)),s(a.options.event),n.additionalEvent&&s(n.additionalEvent),o>=STATE_ENDED&&s(a.options.event+stateStr(o))},r.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=STATE_FAILED},r.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(STATE_FAILED|STATE_POSSIBLE)))return!1;n++}return!0},r.recognize=function(n){var a=assign$1({},n);if(!boolOrFn(this.options.enable,[this,a])){this.reset(),this.state=STATE_FAILED;return}this.state&(STATE_RECOGNIZED|STATE_CANCELLED|STATE_FAILED)&&(this.state=STATE_POSSIBLE),this.state=this.process(a),this.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED|STATE_CANCELLED)&&this.tryEmit(a)},r.process=function(n){},r.getTouchAction=function(){},r.reset=function(){},e}(),TapRecognizer=function(e){_inheritsLoose(r,e);function r(n){var a;return n===void 0&&(n={}),a=e.call(this,_extends({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,a.pTime=!1,a.pCenter=!1,a._timer=null,a._input=null,a.count=0,a}var t=r.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_MANIPULATION]},t.process=function(a){var o=this,s=this.options,l=a.pointers.length===s.pointers,u=a.distance<s.threshold,f=a.deltaTime<s.time;if(this.reset(),a.eventType&INPUT_START&&this.count===0)return this.failTimeout();if(u&&f&&l){if(a.eventType!==INPUT_END)return this.failTimeout();var d=this.pTime?a.timeStamp-this.pTime<s.interval:!0,v=!this.pCenter||getDistance(this.pCenter,a.center)<s.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,!v||!d?this.count=1:this.count+=1,this._input=a;var g=this.count%s.taps;if(g===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=STATE_RECOGNIZED,o.tryEmit()},s.interval),STATE_BEGAN):STATE_RECOGNIZED}return STATE_FAILED},t.failTimeout=function(){var a=this;return this._timer=setTimeout(function(){a.state=STATE_FAILED},this.options.interval),STATE_FAILED},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===STATE_RECOGNIZED&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},r}(Recognizer),AttrRecognizer=function(e){_inheritsLoose(r,e);function r(n){return n===void 0&&(n={}),e.call(this,_extends({pointers:1},n))||this}var t=r.prototype;return t.attrTest=function(a){var o=this.options.pointers;return o===0||a.pointers.length===o},t.process=function(a){var o=this.state,s=a.eventType,l=o&(STATE_BEGAN|STATE_CHANGED),u=this.attrTest(a);return l&&(s&INPUT_CANCEL||!u)?o|STATE_CANCELLED:l||u?s&INPUT_END?o|STATE_ENDED:o&STATE_BEGAN?o|STATE_CHANGED:STATE_BEGAN:STATE_FAILED},r}(Recognizer);function directionStr(e){return e===DIRECTION_DOWN?"down":e===DIRECTION_UP?"up":e===DIRECTION_LEFT?"left":e===DIRECTION_RIGHT?"right":""}var PanRecognizer=function(e){_inheritsLoose(r,e);function r(n){var a;return n===void 0&&(n={}),a=e.call(this,_extends({event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL},n))||this,a.pX=null,a.pY=null,a}var t=r.prototype;return t.getTouchAction=function(){var a=this.options.direction,o=[];return a&DIRECTION_HORIZONTAL&&o.push(TOUCH_ACTION_PAN_Y),a&DIRECTION_VERTICAL&&o.push(TOUCH_ACTION_PAN_X),o},t.directionTest=function(a){var o=this.options,s=!0,l=a.distance,u=a.direction,f=a.deltaX,d=a.deltaY;return u&o.direction||(o.direction&DIRECTION_HORIZONTAL?(u=f===0?DIRECTION_NONE:f<0?DIRECTION_LEFT:DIRECTION_RIGHT,s=f!==this.pX,l=Math.abs(a.deltaX)):(u=d===0?DIRECTION_NONE:d<0?DIRECTION_UP:DIRECTION_DOWN,s=d!==this.pY,l=Math.abs(a.deltaY))),a.direction=u,s&&l>o.threshold&&u&o.direction},t.attrTest=function(a){return AttrRecognizer.prototype.attrTest.call(this,a)&&(this.state&STATE_BEGAN||!(this.state&STATE_BEGAN)&&this.directionTest(a))},t.emit=function(a){this.pX=a.deltaX,this.pY=a.deltaY;var o=directionStr(a.direction);o&&(a.additionalEvent=this.options.event+o),e.prototype.emit.call(this,a)},r}(AttrRecognizer),SwipeRecognizer=function(e){_inheritsLoose(r,e);function r(n){return n===void 0&&(n={}),e.call(this,_extends({event:"swipe",threshold:10,velocity:.3,direction:DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,pointers:1},n))||this}var t=r.prototype;return t.getTouchAction=function(){return PanRecognizer.prototype.getTouchAction.call(this)},t.attrTest=function(a){var o=this.options.direction,s;return o&(DIRECTION_HORIZONTAL|DIRECTION_VERTICAL)?s=a.overallVelocity:o&DIRECTION_HORIZONTAL?s=a.overallVelocityX:o&DIRECTION_VERTICAL&&(s=a.overallVelocityY),e.prototype.attrTest.call(this,a)&&o&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers===this.options.pointers&&abs$1(s)>this.options.velocity&&a.eventType&INPUT_END},t.emit=function(a){var o=directionStr(a.offsetDirection);o&&this.manager.emit(this.options.event+o,a),this.manager.emit(this.options.event,a)},r}(AttrRecognizer),PinchRecognizer=function(e){_inheritsLoose(r,e);function r(n){return n===void 0&&(n={}),e.call(this,_extends({event:"pinch",threshold:0,pointers:2},n))||this}var t=r.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_NONE]},t.attrTest=function(a){return e.prototype.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&STATE_BEGAN)},t.emit=function(a){if(a.scale!==1){var o=a.scale<1?"in":"out";a.additionalEvent=this.options.event+o}e.prototype.emit.call(this,a)},r}(AttrRecognizer),RotateRecognizer=function(e){_inheritsLoose(r,e);function r(n){return n===void 0&&(n={}),e.call(this,_extends({event:"rotate",threshold:0,pointers:2},n))||this}var t=r.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_NONE]},t.attrTest=function(a){return e.prototype.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&STATE_BEGAN)},r}(AttrRecognizer),PressRecognizer=function(e){_inheritsLoose(r,e);function r(n){var a;return n===void 0&&(n={}),a=e.call(this,_extends({event:"press",pointers:1,time:251,threshold:9},n))||this,a._timer=null,a._input=null,a}var t=r.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_AUTO]},t.process=function(a){var o=this,s=this.options,l=a.pointers.length===s.pointers,u=a.distance<s.threshold,f=a.deltaTime>s.time;if(this._input=a,!u||!l||a.eventType&(INPUT_END|INPUT_CANCEL)&&!f)this.reset();else if(a.eventType&INPUT_START)this.reset(),this._timer=setTimeout(function(){o.state=STATE_RECOGNIZED,o.tryEmit()},s.time);else if(a.eventType&INPUT_END)return STATE_RECOGNIZED;return STATE_FAILED},t.reset=function(){clearTimeout(this._timer)},t.emit=function(a){this.state===STATE_RECOGNIZED&&(a&&a.eventType&INPUT_END?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=now(),this.manager.emit(this.options.event,this._input)))},r}(Recognizer),defaults={domEvents:!1,touchAction:TOUCH_ACTION_COMPUTE,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},preset=[[RotateRecognizer,{enable:!1}],[PinchRecognizer,{enable:!1},["rotate"]],[SwipeRecognizer,{direction:DIRECTION_HORIZONTAL}],[PanRecognizer,{direction:DIRECTION_HORIZONTAL},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],STOP=1,FORCED_STOP=2;function toggleCssProps(e,r){var t=e.element;if(!!t.style){var n;each(e.options.cssProps,function(a,o){n=prefixed(t.style,o),r?(e.oldCssProps[n]=t.style[n],t.style[n]=a):t.style[n]=e.oldCssProps[n]||""}),r||(e.oldCssProps={})}}function triggerDomEvent(e,r){var t=document.createEvent("Event");t.initEvent(e,!0,!0),t.gesture=r,r.target.dispatchEvent(t)}var Manager=function(){function e(t,n){var a=this;this.options=assign$1({},defaults,n||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=createInputInstance(this),this.touchAction=new TouchAction(this,this.options.touchAction),toggleCssProps(this,!0),each(this.options.recognizers,function(o){var s=a.add(new o[0](o[1]));o[2]&&s.recognizeWith(o[2]),o[3]&&s.requireFailure(o[3])},this)}var r=e.prototype;return r.set=function(n){return assign$1(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},r.stop=function(n){this.session.stopped=n?FORCED_STOP:STOP},r.recognize=function(n){var a=this.session;if(!a.stopped){this.touchAction.preventDefaults(n);var o,s=this.recognizers,l=a.curRecognizer;(!l||l&&l.state&STATE_RECOGNIZED)&&(a.curRecognizer=null,l=null);for(var u=0;u<s.length;)o=s[u],a.stopped!==FORCED_STOP&&(!l||o===l||o.canRecognizeWith(l))?o.recognize(n):o.reset(),!l&&o.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED)&&(a.curRecognizer=o,l=o),u++}},r.get=function(n){if(n instanceof Recognizer)return n;for(var a=this.recognizers,o=0;o<a.length;o++)if(a[o].options.event===n)return a[o];return null},r.add=function(n){if(invokeArrayArg(n,"add",this))return this;var a=this.get(n.options.event);return a&&this.remove(a),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},r.remove=function(n){if(invokeArrayArg(n,"remove",this))return this;var a=this.get(n);if(n){var o=this.recognizers,s=inArray(o,a);s!==-1&&(o.splice(s,1),this.touchAction.update())}return this},r.on=function(n,a){if(n===void 0||a===void 0)return this;var o=this.handlers;return each(splitStr(n),function(s){o[s]=o[s]||[],o[s].push(a)}),this},r.off=function(n,a){if(n===void 0)return this;var o=this.handlers;return each(splitStr(n),function(s){a?o[s]&&o[s].splice(inArray(o[s],a),1):delete o[s]}),this},r.emit=function(n,a){this.options.domEvents&&triggerDomEvent(n,a);var o=this.handlers[n]&&this.handlers[n].slice();if(!(!o||!o.length)){a.type=n,a.preventDefault=function(){a.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](a),s++}},r.destroy=function(){this.element&&toggleCssProps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),SINGLE_TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},SINGLE_TOUCH_TARGET_EVENTS="touchstart",SINGLE_TOUCH_WINDOW_EVENTS="touchstart touchmove touchend touchcancel",SingleTouchInput=function(e){_inheritsLoose(r,e);function r(){var n,a=r.prototype;return a.evTarget=SINGLE_TOUCH_TARGET_EVENTS,a.evWin=SINGLE_TOUCH_WINDOW_EVENTS,n=e.apply(this,arguments)||this,n.started=!1,n}var t=r.prototype;return t.handler=function(a){var o=SINGLE_TOUCH_INPUT_MAP[a.type];if(o===INPUT_START&&(this.started=!0),!!this.started){var s=normalizeSingleTouches.call(this,a,o);o&(INPUT_END|INPUT_CANCEL)&&s[0].length-s[1].length==0&&(this.started=!1),this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:a})}},r}(Input);function normalizeSingleTouches(e,r){var t=toArray(e.touches),n=toArray(e.changedTouches);return r&(INPUT_END|INPUT_CANCEL)&&(t=uniqueArray(t.concat(n),"identifier",!0)),[t,n]}function deprecate(e,r,t){var n="DEPRECATED METHOD: "+r+`
`+t+` AT 
`;return function(){var a=new Error("get-stack-trace"),o=a&&a.stack?a.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,n,o),e.apply(this,arguments)}}var extend=deprecate(function(e,r,t){for(var n=Object.keys(r),a=0;a<n.length;)(!t||t&&e[n[a]]===void 0)&&(e[n[a]]=r[n[a]]),a++;return e},"extend","Use `assign`."),merge$2=deprecate(function(e,r){return extend(e,r,!0)},"merge","Use `assign`.");function inherit(e,r,t){var n=r.prototype,a;a=e.prototype=Object.create(n),a.constructor=e,a._super=n,t&&assign$1(a,t)}function bindFn(e,r){return function(){return e.apply(r,arguments)}}var Hammer$2=function(){var e=function(t,n){return n===void 0&&(n={}),new Manager(t,_extends({recognizers:preset.concat()},n))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=DIRECTION_ALL,e.DIRECTION_DOWN=DIRECTION_DOWN,e.DIRECTION_LEFT=DIRECTION_LEFT,e.DIRECTION_RIGHT=DIRECTION_RIGHT,e.DIRECTION_UP=DIRECTION_UP,e.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL,e.DIRECTION_VERTICAL=DIRECTION_VERTICAL,e.DIRECTION_NONE=DIRECTION_NONE,e.DIRECTION_DOWN=DIRECTION_DOWN,e.INPUT_START=INPUT_START,e.INPUT_MOVE=INPUT_MOVE,e.INPUT_END=INPUT_END,e.INPUT_CANCEL=INPUT_CANCEL,e.STATE_POSSIBLE=STATE_POSSIBLE,e.STATE_BEGAN=STATE_BEGAN,e.STATE_CHANGED=STATE_CHANGED,e.STATE_ENDED=STATE_ENDED,e.STATE_RECOGNIZED=STATE_RECOGNIZED,e.STATE_CANCELLED=STATE_CANCELLED,e.STATE_FAILED=STATE_FAILED,e.Manager=Manager,e.Input=Input,e.TouchAction=TouchAction,e.TouchInput=TouchInput,e.MouseInput=MouseInput,e.PointerEventInput=PointerEventInput,e.TouchMouseInput=TouchMouseInput,e.SingleTouchInput=SingleTouchInput,e.Recognizer=Recognizer,e.AttrRecognizer=AttrRecognizer,e.Tap=TapRecognizer,e.Pan=PanRecognizer,e.Swipe=SwipeRecognizer,e.Pinch=PinchRecognizer,e.Rotate=RotateRecognizer,e.Press=PressRecognizer,e.on=addEventListeners,e.off=removeEventListeners,e.each=each,e.merge=merge$2,e.extend=extend,e.bindFn=bindFn,e.assign=assign$1,e.inherit=inherit,e.bindFn=bindFn,e.prefixed=prefixed,e.toArray=toArray,e.inArray=inArray,e.uniqueArray=uniqueArray,e.splitStr=splitStr,e.boolOrFn=boolOrFn,e.hasParent=hasParent,e.addEventListeners=addEventListeners,e.removeEventListeners=removeEventListeners,e.defaults=assign$1({},defaults,{preset}),e}(),RealHammer=Hammer$2;function _createForOfIteratorHelper$7(e,r){var t=typeof symbol!="undefined"&&getIteratorMethod$1(e)||e["@@iterator"];if(!t){if(isArray$1(e)||(t=_unsupportedIterableToArray$7(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,l;return{s:function(){t=t.call(e)},n:function(){var f=t.next();return o=f.done,f},e:function(f){s=!0,l=f},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function _unsupportedIterableToArray$7(e,r){var t;if(!!e){if(typeof e=="string")return _arrayLikeToArray$7(e,r);var n=slice$1(t=Object.prototype.toString.call(e)).call(t,8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return from$2(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$7(e,r)}}function _arrayLikeToArray$7(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}symbol("DELETE");function Alea(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return AleaImplementation(r.length?r:[now$1()])}function AleaImplementation(e){var r=mashSeed(e),t=_slicedToArray(r,3),n=t[0],a=t[1],o=t[2],s=1,l=function(){var f=2091639*n+s*23283064365386963e-26;return n=a,a=o,o=f-(s=f|0)};return l.uint32=function(){return l()*4294967296},l.fract53=function(){return l()+(l()*2097152|0)*11102230246251565e-32},l.algorithm="Alea",l.seed=e,l.version="0.9",l}function mashSeed(){for(var e=Mash(),r=e(" "),t=e(" "),n=e(" "),a=0;a<arguments.length;a++)r-=e(a<0||arguments.length<=a?void 0:arguments[a]),r<0&&(r+=1),t-=e(a<0||arguments.length<=a?void 0:arguments[a]),t<0&&(t+=1),n-=e(a<0||arguments.length<=a?void 0:arguments[a]),n<0&&(n+=1);return[r,t,n]}function Mash(){var e=4022871197;return function(r){for(var t=r.toString(),n=0;n<t.length;n++){e+=t.charCodeAt(n);var a=.02519603282416938*e;e=a>>>0,a-=e,a*=e,e=a>>>0,a-=e,e+=a*4294967296}return(e>>>0)*23283064365386963e-26}}function hammerMock(){var e=function(){};return{on:e,off:e,destroy:e,emit:e,get:function(){return{set:e}}}}var Hammer=typeof window!="undefined"?window.Hammer||RealHammer:function(){return hammerMock()};function Activator(e){var r=this,t;this._cleanupQueue=[],this.active=!1,this._dom={container:e,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){r._dom.overlay.parentNode.removeChild(r._dom.overlay)});var n=Hammer(this._dom.overlay);n.on("tap",bind$5(t=this._onTapOverlay).call(t,this)),this._cleanupQueue.push(function(){n.destroy()});var a=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];forEach$2(a).call(a,function(o){n.on(o,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(o){_hasParent(o.target,e)||r.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",r._onClick)})),this._escListener=function(o){("key"in o?o.key==="Escape":o.keyCode===27)&&r.deactivate()}}Emitter(Activator.prototype);Activator.current=null;Activator.prototype.destroy=function(){var e,r;this.deactivate();var t=_createForOfIteratorHelper$7(reverse(e=splice(r=this._cleanupQueue).call(r,0)).call(e)),n;try{for(t.s();!(n=t.n()).done;){var a=n.value;a()}}catch(o){t.e(o)}finally{t.f()}};Activator.prototype.activate=function(){Activator.current&&Activator.current.deactivate(),Activator.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Activator.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Activator.prototype._onTapOverlay=function(e){this.activate(),e.srcEvent.stopPropagation()};function _hasParent(e,r){for(;e;){if(e===r)return!0;e=e.parentNode}return!1}var fullHexRE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,shortHexRE=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,rgbRE=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,rgbaRE=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function recursiveDOMDelete(e){if(e)for(;e.hasChildNodes()===!0;){var r=e.firstChild;r&&(recursiveDOMDelete(r),e.removeChild(r))}}function isString(e){return e instanceof String||typeof e=="string"}function isObject$6(e){return _typeof(e)==="object"&&e!==null}function copyOrDelete(e,r,t,n){var a=!1;n===!0&&(a=r[t]===null&&e[t]!==void 0),a?delete e[t]:e[t]=r[t]}function fillIfDefined(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(var n in e)if(r[n]!==void 0)if(r[n]===null||_typeof(r[n])!=="object")copyOrDelete(e,r,n,t);else{var a=e[n],o=r[n];isObject$6(a)&&isObject$6(o)&&fillIfDefined(a,o,t)}}function selectiveDeepExtend(e,r,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(isArray$1(t))throw new TypeError("Arrays are not supported by deepExtend");for(var a=0;a<e.length;a++){var o=e[a];if(Object.prototype.hasOwnProperty.call(t,o))if(t[o]&&t[o].constructor===Object)r[o]===void 0&&(r[o]={}),r[o].constructor===Object?deepExtend(r[o],t[o],!1,n):copyOrDelete(r,t,o,n);else{if(isArray$1(t[o]))throw new TypeError("Arrays are not supported by deepExtend");copyOrDelete(r,t,o,n)}}return r}function selectiveNotDeepExtend(e,r,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(isArray$1(t))throw new TypeError("Arrays are not supported by deepExtend");for(var a in t)if(!!Object.prototype.hasOwnProperty.call(t,a)&&!includes(e).call(e,a))if(t[a]&&t[a].constructor===Object)r[a]===void 0&&(r[a]={}),r[a].constructor===Object?deepExtend(r[a],t[a]):copyOrDelete(r,t,a,n);else if(isArray$1(t[a])){r[a]=[];for(var o=0;o<t[a].length;o++)r[a].push(t[a][o])}else copyOrDelete(r,t,a,n);return r}function deepExtend(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)||t===!0)if(_typeof(r[a])==="object"&&r[a]!==null&&getPrototypeOf$3(r[a])===Object.prototype)e[a]===void 0?e[a]=deepExtend({},r[a],t):_typeof(e[a])==="object"&&e[a]!==null&&getPrototypeOf$3(e[a])===Object.prototype?deepExtend(e[a],r[a],t):copyOrDelete(e,r,a,n);else if(isArray$1(r[a])){var o;e[a]=slice$1(o=r[a]).call(o)}else copyOrDelete(e,r,a,n);return e}function copyAndExtendArray(e,r){var t;return concat(t=[]).call(t,_toConsumableArray(e),[r])}function copyArray(e){return slice$1(e).call(e)}function getAbsoluteLeft(e){return e.getBoundingClientRect().left}function getAbsoluteTop(e){return e.getBoundingClientRect().top}function forEach$1(e,r){if(isArray$1(e))for(var t=e.length,n=0;n<t;n++)r(e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r(e[a],a,e)}function addEventListener(e,r,t,n){if(e.addEventListener){var a;n===void 0&&(n=!1),r==="mousewheel"&&includes(a=navigator.userAgent).call(a,"Firefox")&&(r="DOMMouseScroll"),e.addEventListener(r,t,n)}else e.attachEvent("on"+r,t)}function removeEventListener(e,r,t,n){if(e.removeEventListener){var a;n===void 0&&(n=!1),r==="mousewheel"&&includes(a=navigator.userAgent).call(a,"Firefox")&&(r="DOMMouseScroll"),e.removeEventListener(r,t,n)}else e.detachEvent("on"+r,t)}function hexToRGB(e){var r;switch(e.length){case 3:case 4:return r=shortHexRE.exec(e),r?{r:_parseInt(r[1]+r[1],16),g:_parseInt(r[2]+r[2],16),b:_parseInt(r[3]+r[3],16)}:null;case 6:case 7:return r=fullHexRE.exec(e),r?{r:_parseInt(r[1],16),g:_parseInt(r[2],16),b:_parseInt(r[3],16)}:null;default:return null}}function overrideOpacity(e,r){if(includes(e).call(e,"rgba"))return e;if(includes(e).call(e,"rgb")){var t=e.substr(indexOf(e).call(e,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+r+")"}else{var n=hexToRGB(e);return n==null?e:"rgba("+n.r+","+n.g+","+n.b+","+r+")"}}function RGBToHex(e,r,t){var n;return"#"+slice$1(n=((1<<24)+(e<<16)+(r<<8)+t).toString(16)).call(n,1)}function parseColor(e,r){if(isString(e)){var t=e;if(isValidRGB(t)){var n,a=map$3(n=t.substr(4).substr(0,t.length-5).split(",")).call(n,function(g){return _parseInt(g)});t=RGBToHex(a[0],a[1],a[2])}if(isValidHex(t)===!0){var o=hexToHSV(t),s={h:o.h,s:o.s*.8,v:Math.min(1,o.v*1.02)},l={h:o.h,s:Math.min(1,o.s*1.25),v:o.v*.8},u=HSVToHex(l.h,l.s,l.v),f=HSVToHex(s.h,s.s,s.v);return{background:t,border:u,highlight:{background:f,border:u},hover:{background:f,border:u}}}else return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else if(r){var d={background:e.background||r.background,border:e.border||r.border,highlight:isString(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||r.highlight.background,border:e.highlight&&e.highlight.border||r.highlight.border},hover:isString(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||r.hover.border,background:e.hover&&e.hover.background||r.hover.background}};return d}else{var v={background:e.background||void 0,border:e.border||void 0,highlight:isString(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||void 0,border:e.highlight&&e.highlight.border||void 0},hover:isString(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||void 0,background:e.hover&&e.hover.background||void 0}};return v}}function RGBToHSV(e,r,t){e=e/255,r=r/255,t=t/255;var n=Math.min(e,Math.min(r,t)),a=Math.max(e,Math.max(r,t));if(n===a)return{h:0,s:0,v:n};var o=e===n?r-t:t===n?e-r:t-e,s=e===n?3:t===n?1:5,l=60*(s-o/(a-n))/360,u=(a-n)/a,f=a;return{h:l,s:u,v:f}}function HSVToRGB(e,r,t){var n,a,o,s=Math.floor(e*6),l=e*6-s,u=t*(1-r),f=t*(1-l*r),d=t*(1-(1-l)*r);switch(s%6){case 0:n=t,a=d,o=u;break;case 1:n=f,a=t,o=u;break;case 2:n=u,a=t,o=d;break;case 3:n=u,a=f,o=t;break;case 4:n=d,a=u,o=t;break;case 5:n=t,a=u,o=f;break}return{r:Math.floor(n*255),g:Math.floor(a*255),b:Math.floor(o*255)}}function HSVToHex(e,r,t){var n=HSVToRGB(e,r,t);return RGBToHex(n.r,n.g,n.b)}function hexToHSV(e){var r=hexToRGB(e);if(!r)throw new TypeError("'".concat(e,"' is not a valid color."));return RGBToHSV(r.r,r.g,r.b)}function isValidHex(e){var r=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e);return r}function isValidRGB(e){return rgbRE.test(e)}function isValidRGBA(e){return rgbaRE.test(e)}function bridgeObject(e){if(e===null||_typeof(e)!=="object")return null;if(e instanceof Element)return e;var r=create$4(e);for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&_typeof(e[t])=="object"&&(r[t]=bridgeObject(e[t]));return r}function mergeOptions(e,r,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=function(b){return b!=null},o=function(b){return b!==null&&_typeof(b)==="object"},s=function(b){for(var E in b)if(Object.prototype.hasOwnProperty.call(b,E))return!1;return!0};if(!o(e))throw new Error("Parameter mergeTarget must be an object");if(!o(r))throw new Error("Parameter options must be an object");if(!a(t))throw new Error("Parameter option must have a value");if(!o(n))throw new Error("Parameter globalOptions must be an object");var l=function(b,E,w){o(b[w])||(b[w]={});var _=E[w],O=b[w];for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(O[S]=_[S])},u=r[t],f=o(n)&&!s(n),d=f?n[t]:void 0,v=d?d.enabled:void 0;if(u!==void 0){if(typeof u=="boolean"){o(e[t])||(e[t]={}),e[t].enabled=u;return}if(u===null&&!o(e[t]))if(a(d))e[t]=create$4(d);else return;if(!!o(u)){var g=!0;u.enabled!==void 0?g=u.enabled:v!==void 0&&(g=d.enabled),l(e,r,t),e[t].enabled=g}}}var easingFunctions={linear:function e(r){return r},easeInQuad:function e(r){return r*r},easeOutQuad:function e(r){return r*(2-r)},easeInOutQuad:function e(r){return r<.5?2*r*r:-1+(4-2*r)*r},easeInCubic:function e(r){return r*r*r},easeOutCubic:function e(r){return--r*r*r+1},easeInOutCubic:function e(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},easeInQuart:function e(r){return r*r*r*r},easeOutQuart:function e(r){return 1- --r*r*r*r},easeInOutQuart:function e(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},easeInQuint:function e(r){return r*r*r*r*r},easeOutQuint:function e(r){return 1+--r*r*r*r*r},easeInOutQuint:function e(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r}};function topMost(e,r){var t;isArray$1(r)||(r=[r]);var n=_createForOfIteratorHelper$7(e),a;try{for(n.s();!(a=n.n()).done;){var o=a.value;if(o){t=o[r[0]];for(var s=1;s<r.length;s++)t&&(t=t[r[s]]);if(typeof t!="undefined")break}}}catch(l){n.e(l)}finally{n.f()}return t}var htmlColors={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},ColorPicker=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;_classCallCheck(this,e),this.pixelRatio=r,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return _createClass(e,[{key:"insertTo",value:function(t){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if(typeof t=="function")this.updateCallback=t;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}},{key:"setCloseCallback",value:function(t){if(typeof t=="function")this.closeCallback=t;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}},{key:"_isColorString",value:function(t){if(typeof t=="string")return htmlColors[t]}},{key:"setColor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t!=="none"){var a,o=this._isColorString(t);if(o!==void 0&&(t=o),isString(t)===!0){if(isValidRGB(t)===!0){var s=t.substr(4).substr(0,t.length-5).split(",");a={r:s[0],g:s[1],b:s[2],a:1}}else if(isValidRGBA(t)===!0){var l=t.substr(5).substr(0,t.length-6).split(",");a={r:l[0],g:l[1],b:l[2],a:l[3]}}else if(isValidHex(t)===!0){var u=hexToRGB(t);a={r:u.r,g:u.g,b:u.b,a:1}}}else if(t instanceof Object&&t.r!==void 0&&t.g!==void 0&&t.b!==void 0){var f=t.a!==void 0?t.a:"1.0";a={r:t.r,g:t.g,b:t.b,a:f}}if(a===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+stringify$1(t));this._setColor(a,n)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;n===!0&&(this.previousColor=assign$2({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout$1(function(){t.closeCallback!==void 0&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n===!0&&(this.initialColor=assign$2({},t)),this.color=t;var a=RGBToHSV(t.r,t.g,t.b),o=2*Math.PI,s=this.r*a.s,l=this.centerCoordinates.x+s*Math.sin(o*a.h),u=this.centerCoordinates.y+s*Math.cos(o*a.h);this.colorPickerSelector.style.left=l-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var n=RGBToHSV(this.color.r,this.color.g,this.color.b);n.v=t/100;var a=HSVToRGB(n.h,n.s,n.v);a.a=this.color.a,this.color=a,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,n=RGBToHSV(t.r,t.g,t.b),a=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)),a.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var o=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;a.clearRect(0,0,o,s),a.putImageData(this.hueCircle,0,0),a.fillStyle="rgba(0,0,0,"+(1-n.v)+")",a.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),fill(a).call(a),this.brightnessRange.value=100*n.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,n,a,o;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var l=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(l.webkitBackingStorePixelRatio||l.mozBackingStorePixelRatio||l.msBackingStorePixelRatio||l.oBackingStorePixelRatio||l.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var u=this;this.opacityRange.onchange=function(){u._setOpacity(this.value)},this.opacityRange.oninput=function(){u._setOpacity(this.value)},this.brightnessRange.onchange=function(){u._setBrightness(this.value)},this.brightnessRange.oninput=function(){u._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=bind$5(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=bind$5(n=this._apply).call(n,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=bind$5(a=this._save).call(a,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=bind$5(o=this._loadLast).call(o,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new Hammer(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(n){n.isFirst&&t._moveSelector(n)}),this.hammer.on("tap",function(n){t._moveSelector(n)}),this.hammer.on("panstart",function(n){t._moveSelector(n)}),this.hammer.on("panmove",function(n){t._moveSelector(n)}),this.hammer.on("panend",function(n){t._moveSelector(n)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var t=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,a=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,n,a);var o,s,l,u;this.centerCoordinates={x:n*.5,y:a*.5},this.r=.49*n;var f=2*Math.PI/360,d=1/360,v=1/this.r,g;for(l=0;l<360;l++)for(u=0;u<this.r;u++)o=this.centerCoordinates.x+u*Math.sin(f*l),s=this.centerCoordinates.y+u*Math.cos(f*l),g=HSVToRGB(l*d,u*v,1),t.fillStyle="rgb("+g.r+","+g.g+","+g.b+")",t.fillRect(o-.5,s-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,n,a)}this.generated=!0}},{key:"_moveSelector",value:function(t){var n=this.colorPickerDiv.getBoundingClientRect(),a=t.center.x-n.left,o=t.center.y-n.top,s=.5*this.colorPickerDiv.clientHeight,l=.5*this.colorPickerDiv.clientWidth,u=a-l,f=o-s,d=Math.atan2(u,f),v=.98*Math.min(Math.sqrt(u*u+f*f),l),g=Math.cos(d)*v+s,m=Math.sin(d)*v+l;this.colorPickerSelector.style.top=g-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=m-.5*this.colorPickerSelector.clientWidth+"px";var b=d/(2*Math.PI);b=b<0?b+1:b;var E=v/this.r,w=RGBToHSV(this.color.r,this.color.g,this.color.b);w.h=b,w.s=E;var _=HSVToRGB(w.h,w.s,w.v);_.a=this.color.a,this.color=_,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),e}();function wrapInTag(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];if(r.length<1)throw new TypeError("Invalid arguments.");if(r.length===1)return document.createTextNode(r[0]);var n=document.createElement(r[0]);return n.appendChild(wrapInTag.apply(void 0,_toConsumableArray(slice$1(r).call(r,1)))),n}var Configurator=function(){function e(r,t,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1};_classCallCheck(this,e),this.parent=r,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},assign$2(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ColorPicker(a),this.wrapper=void 0}return _createClass(e,[{key:"setOptions",value:function(t){if(t!==void 0){this.popupHistory={},this._removePopup();var n=!0;if(typeof t=="string")this.options.filter=t;else if(isArray$1(t))this.options.filter=t.join();else if(_typeof(t)==="object"){if(t==null)throw new TypeError("options cannot be null");t.container!==void 0&&(this.options.container=t.container),filter(t)!==void 0&&(this.options.filter=filter(t)),t.showButton!==void 0&&(this.options.showButton=t.showButton),t.enabled!==void 0&&(n=t.enabled)}else typeof t=="boolean"?(this.options.filter=!0,n=t):typeof t=="function"&&(this.options.filter=t,n=!0);filter(this.options)===!1&&(n=!1),this.options.enabled=n}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=filter(this.options),n=0,a=!1;for(var o in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,o)&&(this.allowCreation=!1,a=!1,typeof t=="function"?(a=t(o,[]),a=a||this._handleObject(this.configureOptions[o],[o],!0)):(t===!0||indexOf(t).call(t,o)!==-1)&&(a=!0),a!==!1&&(this.allowCreation=!0,n>0&&this._makeItem([]),this._makeHeader(o),this._handleObject(this.configureOptions[o],[o])),n++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var n=this.moduleOptions,a=0;a<t.length;a++)if(n[t[a]]!==void 0)n=n[t[a]];else{n=void 0;break}return n}},{key:"_makeItem",value:function(t){if(this.allowCreation===!0){var n=document.createElement("div");n.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return forEach$2(o).call(o,function(l){n.appendChild(l)}),this.domElements.push(n),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var n=document.createElement("div");n.className="vis-configuration vis-config-header",n.innerText=t,this._makeItem([],n)}},{key:"_makeLabel",value:function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=document.createElement("div");if(o.className="vis-configuration vis-config-label vis-config-s"+n.length,a===!0){for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(wrapInTag("i","b",t))}else o.innerText=t+":";return o}},{key:"_makeDropdown",value:function(t,n,a){var o=document.createElement("select");o.className="vis-configuration vis-config-select";var s=0;n!==void 0&&indexOf(t).call(t,n)!==-1&&(s=indexOf(t).call(t,n));for(var l=0;l<t.length;l++){var u=document.createElement("option");u.value=t[l],l===s&&(u.selected="selected"),u.innerText=t[l],o.appendChild(u)}var f=this;o.onchange=function(){f._update(this.value,a)};var d=this._makeLabel(a[a.length-1],a);this._makeItem(a,d,o)}},{key:"_makeRange",value:function(t,n,a){var o=t[0],s=t[1],l=t[2],u=t[3],f=document.createElement("input");f.className="vis-configuration vis-config-range";try{f.type="range",f.min=s,f.max=l}catch{}f.step=u;var d="",v=0;if(n!==void 0){var g=1.2;n<0&&n*g<s?(f.min=Math.ceil(n*g),v=f.min,d="range increased"):n/g<s&&(f.min=Math.ceil(n/g),v=f.min,d="range increased"),n*g>l&&l!==1&&(f.max=Math.ceil(n*g),v=f.max,d="range increased"),f.value=n}else f.value=o;var m=document.createElement("input");m.className="vis-configuration vis-config-rangeinput",m.value=f.value;var b=this;f.onchange=function(){m.value=this.value,b._update(Number(this.value),a)},f.oninput=function(){m.value=this.value};var E=this._makeLabel(a[a.length-1],a),w=this._makeItem(a,E,f,m);d!==""&&this.popupHistory[w]!==v&&(this.popupHistory[w]=v,this._setupPopup(d,w))}},{key:"_makeButton",value:function(){var t=this;if(this.options.showButton===!0){var n=document.createElement("div");n.className="vis-configuration vis-config-button",n.innerText="generate options",n.onclick=function(){t._printOptions()},n.onmouseover=function(){n.className="vis-configuration vis-config-button hover"},n.onmouseout=function(){n.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(n)}}},{key:"_setupPopup",value:function(t,n){var a=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var o=document.createElement("div");o.id="vis-configuration-popup",o.className="vis-configuration-popup",o.innerText=t,o.onclick=function(){a._removePopup()},this.popupCounter+=1,this.popupDiv={html:o,index:n}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(this.popupDiv.html!==void 0){var n=this.domElements[this.popupDiv.index],a=n.getBoundingClientRect();this.popupDiv.html.style.left=a.left+"px",this.popupDiv.html.style.top=a.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout$1(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout$1(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,n,a){var o=document.createElement("input");o.type="checkbox",o.className="vis-configuration vis-config-checkbox",o.checked=t,n!==void 0&&(o.checked=n,n!==t&&(_typeof(t)==="object"?n!==t.enabled&&this.changedOptions.push({path:a,value:n}):this.changedOptions.push({path:a,value:n})));var s=this;o.onchange=function(){s._update(this.checked,a)};var l=this._makeLabel(a[a.length-1],a);this._makeItem(a,l,o)}},{key:"_makeTextInput",value:function(t,n,a){var o=document.createElement("input");o.type="text",o.className="vis-configuration vis-config-text",o.value=n,n!==t&&this.changedOptions.push({path:a,value:n});var s=this;o.onchange=function(){s._update(this.value,a)};var l=this._makeLabel(a[a.length-1],a);this._makeItem(a,l,o)}},{key:"_makeColorField",value:function(t,n,a){var o=this,s=t[1],l=document.createElement("div");n=n===void 0?s:n,n!=="none"?(l.className="vis-configuration vis-config-colorBlock",l.style.backgroundColor=n):l.className="vis-configuration vis-config-colorBlock none",n=n===void 0?s:n,l.onclick=function(){o._showColorPicker(n,l,a)};var u=this._makeLabel(a[a.length-1],a);this._makeItem(a,u,l)}},{key:"_showColorPicker",value:function(t,n,a){var o=this;n.onclick=function(){},this.colorPicker.insertTo(n),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(s){var l="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";n.style.backgroundColor=l,o._update(l,a)}),this.colorPicker.setCloseCallback(function(){n.onclick=function(){o._showColorPicker(t,n,a)}})}},{key:"_handleObject",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=!1,s=filter(this.options),l=!1;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){o=!0;var f=t[u],d=copyAndExtendArray(n,u);if(typeof s=="function"&&(o=s(u,n),o===!1&&!isArray$1(f)&&typeof f!="string"&&typeof f!="boolean"&&f instanceof Object&&(this.allowCreation=!1,o=this._handleObject(f,d,!0),this.allowCreation=a===!1)),o!==!1){l=!0;var v=this._getValue(d);if(isArray$1(f))this._handleArray(f,v,d);else if(typeof f=="string")this._makeTextInput(f,v,d);else if(typeof f=="boolean")this._makeCheckbox(f,v,d);else if(f instanceof Object){if(!this.hideOption(n,u,this.moduleOptions))if(f.enabled!==void 0){var g=copyAndExtendArray(d,"enabled"),m=this._getValue(g);if(m===!0){var b=this._makeLabel(u,d,!0);this._makeItem(d,b),l=this._handleObject(f,d)||l}else this._makeCheckbox(f,m,d)}else{var E=this._makeLabel(u,d,!0);this._makeItem(d,E),l=this._handleObject(f,d)||l}}else console.error("dont know how to handle",f,u,d)}}return l}},{key:"_handleArray",value:function(t,n,a){typeof t[0]=="string"&&t[0]==="color"?(this._makeColorField(t,n,a),t[1]!==n&&this.changedOptions.push({path:a,value:n})):typeof t[0]=="string"?(this._makeDropdown(t,n,a),t[0]!==n&&this.changedOptions.push({path:a,value:n})):typeof t[0]=="number"&&(this._makeRange(t,n,a),t[0]!==n&&this.changedOptions.push({path:a,value:Number(n)}))}},{key:"_update",value:function(t,n){var a=this._constructOptions(t,n);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",a),this.initialized=!0,this.parent.setOptions(a)}},{key:"_constructOptions",value:function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a;t=t==="true"?!0:t,t=t==="false"?!1:t;for(var s=0;s<n.length;s++)n[s]!=="global"&&(o[n[s]]===void 0&&(o[n[s]]={}),s!==n.length-1?o=o[n[s]]:o[n[s]]=t);return a}},{key:"_printOptions",value:function(){for(var t=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(wrapInTag("pre","const options = "+stringify$1(t,null,2)))}},{key:"getOptions",value:function(){for(var t={},n=0;n<this.changedOptions.length;n++)this._constructOptions(this.changedOptions[n].value,this.changedOptions[n].path,t);return t}}]),e}(),Popup=function(){function e(r,t){_classCallCheck(this,e),this.container=r,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return _createClass(e,[{key:"setPosition",value:function(t,n){this.x=_parseInt(t),this.y=_parseInt(n)}},{key:"setText",value:function(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}},{key:"show",value:function(t){if(t===void 0&&(t=!0),t===!0){var n=this.frame.clientHeight,a=this.frame.clientWidth,o=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth,l=0,u=0;if(this.overflowMethod=="flip"){var f=!1,d=!0;this.y-n<this.padding&&(d=!1),this.x+a>s-this.padding&&(f=!0),f?l=this.x-a:l=this.x,d?u=this.y-n:u=this.y}else u=this.y-n,u+n+this.padding>o&&(u=o-n-this.padding),u<this.padding&&(u=this.padding),l=this.x,l+a+this.padding>s&&(l=s-a-this.padding),l<this.padding&&(l=this.padding);this.frame.style.left=l+"px",this.frame.style.top=u+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),e}(),errorFound=!1,allOptions$1,VALIDATOR_PRINT_STYLE="background: #FFeeee; color: #dd0000",Validator=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"validate",value:function(t,n,a){errorFound=!1,allOptions$1=n;var o=n;return a!==void 0&&(o=n[a]),e.parse(t,o,[]),errorFound}},{key:"parse",value:function(t,n,a){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.check(o,t,n,a)}},{key:"check",value:function(t,n,a,o){if(a[t]===void 0&&a.__any__===void 0){e.getSuggestion(t,a,o);return}var s=t,l=!0;a[t]===void 0&&a.__any__!==void 0&&(s="__any__",l=e.getType(n[t])==="object");var u=a[s];l&&u.__type__!==void 0&&(u=u.__type__),e.checkFields(t,n,a,s,u,o)}},{key:"checkFields",value:function(t,n,a,o,s,l){var u=function(g){console.error("%c"+g+e.printLocation(l,t),VALIDATOR_PRINT_STYLE)},f=e.getType(n[t]),d=s[f];d!==void 0?e.getType(d)==="array"&&indexOf(d).call(d,n[t])===-1?(u('Invalid option detected in "'+t+'". Allowed values are:'+e.print(d)+' not "'+n[t]+'". '),errorFound=!0):f==="object"&&o!=="__any__"&&(l=copyAndExtendArray(l,t),e.parse(n[t],a[o],l)):s.any===void 0&&(u('Invalid type received for "'+t+'". Expected: '+e.print(keys(s))+". Received ["+f+'] "'+n[t]+'"'),errorFound=!0)}},{key:"getType",value:function(t){var n=_typeof(t);return n==="object"?t===null?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":isArray$1(t)?"array":t instanceof Date?"date":t.nodeType!==void 0?"dom":t._isAMomentObject===!0?"moment":"object":n==="number"?"number":n==="boolean"?"boolean":n==="string"?"string":n===void 0?"undefined":n}},{key:"getSuggestion",value:function(t,n,a){var o=e.findInOptions(t,n,a,!1),s=e.findInOptions(t,allOptions$1,[],!0),l=8,u=4,f;o.indexMatch!==void 0?f=" in "+e.printLocation(o.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+`"?

`:s.distance<=u&&o.distance>s.distance?f=" in "+e.printLocation(o.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+e.printLocation(s.path,s.closestMatch,""):o.distance<=l?f='. Did you mean "'+o.closestMatch+'"?'+e.printLocation(o.path,t):f=". Did you mean one of these: "+e.print(keys(n))+e.printLocation(a,t),console.error('%cUnknown option detected: "'+t+'"'+f,VALIDATOR_PRINT_STYLE),errorFound=!0}},{key:"findInOptions",value:function(t,n,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,l="",u=[],f=t.toLowerCase(),d=void 0;for(var v in n){var g=void 0;if(n[v].__type__!==void 0&&o===!0){var m=e.findInOptions(t,n[v],copyAndExtendArray(a,v));s>m.distance&&(l=m.closestMatch,u=m.path,s=m.distance,d=m.indexMatch)}else{var b;indexOf(b=v.toLowerCase()).call(b,f)!==-1&&(d=v),g=e.levenshteinDistance(t,v),s>g&&(l=v,u=copyArray(a),s=g)}}return{closestMatch:l,path:u,distance:s,indexMatch:d}}},{key:"printLocation",value:function(t,n){for(var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,o=`

`+a+`options = {
`,s=0;s<t.length;s++){for(var l=0;l<s+1;l++)o+="  ";o+=t[s]+`: {
`}for(var u=0;u<t.length+1;u++)o+="  ";o+=n+`
`;for(var f=0;f<t.length+1;f++){for(var d=0;d<t.length-f;d++)o+="  ";o+=`}
`}return o+`

`}},{key:"print",value:function(t){return stringify$1(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(t,n){if(t.length===0)return n.length;if(n.length===0)return t.length;var a=[],o;for(o=0;o<=n.length;o++)a[o]=[o];var s;for(s=0;s<=t.length;s++)a[0][s]=s;for(o=1;o<=n.length;o++)for(s=1;s<=t.length;s++)n.charAt(o-1)==t.charAt(s-1)?a[o][s]=a[o-1][s-1]:a[o][s]=Math.min(a[o-1][s-1]+1,Math.min(a[o][s-1]+1,a[o-1][s]+1));return a[n.length][t.length]}}]),e}(),Activator$1=Activator,Configurator$1=Configurator,Hammer$1=Hammer,Popup$1=Popup,VALIDATOR_PRINT_STYLE$1=VALIDATOR_PRINT_STYLE,Validator$1=Validator;function parseDOT(e){return dot=e,parseGraph()}var NODE_ATTR_MAPPING={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},EDGE_ATTR_MAPPING=create$4(NODE_ATTR_MAPPING);EDGE_ATTR_MAPPING.color="color.color";EDGE_ATTR_MAPPING.style="dashes";var TOKENTYPE={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},DELIMITERS={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},dot="",index=0,c="",token="",tokenType=TOKENTYPE.NULL;function first(){index=0,c=dot.charAt(0)}function next(){index++,c=dot.charAt(index)}function nextPreview(){return dot.charAt(index+1)}function isAlphaNumeric(e){var r=e.charCodeAt(0);return r<47?r===35||r===46:r<59?r>47:r<91?r>64:r<96?r===95:r<123?r>96:!1}function merge$1(e,r){if(e||(e={}),r)for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}function setValue(e,r,t){for(var n=r.split("."),a=e;n.length;){var o=n.shift();n.length?(a[o]||(a[o]={}),a=a[o]):a[o]=t}}function addNode(e,r){for(var t,n,a=null,o=[e],s=e;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes){for(t=0,n=s.nodes.length;t<n;t++)if(r.id===s.nodes[t].id){a=s.nodes[t];break}}for(a||(a={id:r.id},e.node&&(a.attr=merge$1(a.attr,e.node))),t=o.length-1;t>=0;t--){var l,u=o[t];u.nodes||(u.nodes=[]),indexOf(l=u.nodes).call(l,a)===-1&&u.nodes.push(a)}r.attr&&(a.attr=merge$1(a.attr,r.attr))}function addEdge(e,r){if(e.edges||(e.edges=[]),e.edges.push(r),e.edge){var t=merge$1({},e.edge);r.attr=merge$1(t,r.attr)}}function createEdge(e,r,t,n,a){var o={from:r,to:t,type:n};return e.edge&&(o.attr=merge$1({},e.edge)),o.attr=merge$1(o.attr||{},a),a!=null&&a.hasOwnProperty("arrows")&&a.arrows!=null&&(o.arrows={to:{enabled:!0,type:a.arrows.type}},a.arrows=null),o}function getToken(){for(tokenType=TOKENTYPE.NULL,token="";c===" "||c==="	"||c===`
`||c==="\r";)next();do{var e=!1;if(c==="#"){for(var r=index-1;dot.charAt(r)===" "||dot.charAt(r)==="	";)r--;if(dot.charAt(r)===`
`||dot.charAt(r)===""){for(;c!=""&&c!=`
`;)next();e=!0}}if(c==="/"&&nextPreview()==="/"){for(;c!=""&&c!=`
`;)next();e=!0}if(c==="/"&&nextPreview()==="*"){for(;c!="";)if(c==="*"&&nextPreview()==="/"){next(),next();break}else next();e=!0}for(;c===" "||c==="	"||c===`
`||c==="\r";)next()}while(e);if(c===""){tokenType=TOKENTYPE.DELIMITER;return}var t=c+nextPreview();if(DELIMITERS[t]){tokenType=TOKENTYPE.DELIMITER,token=t,next(),next();return}if(DELIMITERS[c]){tokenType=TOKENTYPE.DELIMITER,token=c,next();return}if(isAlphaNumeric(c)||c==="-"){for(token+=c,next();isAlphaNumeric(c);)token+=c,next();token==="false"?token=!1:token==="true"?token=!0:isNaN(Number(token))||(token=Number(token)),tokenType=TOKENTYPE.IDENTIFIER;return}if(c==='"'){for(next();c!=""&&(c!='"'||c==='"'&&nextPreview()==='"');)c==='"'?(token+=c,next()):c==="\\"&&nextPreview()==="n"?(token+=`
`,next()):token+=c,next();if(c!='"')throw newSyntaxError('End of string " expected');next(),tokenType=TOKENTYPE.IDENTIFIER;return}for(tokenType=TOKENTYPE.UNKNOWN;c!="";)token+=c,next();throw new SyntaxError('Syntax error in part "'+chop(token,30)+'"')}function parseGraph(){var e={};if(first(),getToken(),token==="strict"&&(e.strict=!0,getToken()),(token==="graph"||token==="digraph")&&(e.type=token,getToken()),tokenType===TOKENTYPE.IDENTIFIER&&(e.id=token,getToken()),token!="{")throw newSyntaxError("Angle bracket { expected");if(getToken(),parseStatements(e),token!="}")throw newSyntaxError("Angle bracket } expected");if(getToken(),token!=="")throw newSyntaxError("End of file expected");return getToken(),delete e.node,delete e.edge,delete e.graph,e}function parseStatements(e){for(;token!==""&&token!="}";)parseStatement(e),token===";"&&getToken()}function parseStatement(e){var r=parseSubgraph(e);if(r){parseEdge(e,r);return}var t=parseAttributeStatement(e);if(!t){if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier expected");var n=token;if(getToken(),token==="="){if(getToken(),tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier expected");e[n]=token,getToken()}else parseNodeStatement(e,n)}}function parseSubgraph(e){var r=null;if(token==="subgraph"&&(r={},r.type="subgraph",getToken(),tokenType===TOKENTYPE.IDENTIFIER&&(r.id=token,getToken())),token==="{"){if(getToken(),r||(r={}),r.parent=e,r.node=e.node,r.edge=e.edge,r.graph=e.graph,parseStatements(r),token!="}")throw newSyntaxError("Angle bracket } expected");getToken(),delete r.node,delete r.edge,delete r.graph,delete r.parent,e.subgraphs||(e.subgraphs=[]),e.subgraphs.push(r)}return r}function parseAttributeStatement(e){return token==="node"?(getToken(),e.node=parseAttributeList(),"node"):token==="edge"?(getToken(),e.edge=parseAttributeList(),"edge"):token==="graph"?(getToken(),e.graph=parseAttributeList(),"graph"):null}function parseNodeStatement(e,r){var t={id:r},n=parseAttributeList();n&&(t.attr=n),addNode(e,t),parseEdge(e,r)}function parseEdge(e,r){for(;token==="->"||token==="--";){var t,n=token;getToken();var a=parseSubgraph(e);if(a)t=a;else{if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier or subgraph expected");t=token,addNode(e,{id:t}),getToken()}var o=parseAttributeList(),s=createEdge(e,r,t,n,o);addEdge(e,s),r=t}}function parseAttributeList(){for(var e,r=null,t={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},a=new Array,o=new Array;token==="[";){for(getToken(),r={};token!==""&&token!="]";){if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Attribute name expected");var s=token;if(getToken(),token!="=")throw newSyntaxError("Equal sign = expected");if(getToken(),tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Attribute value expected");var l=token;s==="style"&&(l=t[l]);var u;s==="arrowhead"&&(u=n[l],s="arrows",l={to:{enabled:!0,type:u}}),s==="arrowtail"&&(u=n[l],s="arrows",l={from:{enabled:!0,type:u}}),a.push({attr:r,name:s,value:l}),o.push(s),getToken(),token==","&&getToken()}if(token!="]")throw newSyntaxError("Bracket ] expected");getToken()}if(includes(o).call(o,"dir")){var f={};for(f.arrows={},e=0;e<a.length;e++)if(a[e].name==="arrows")if(a[e].value.to!=null)f.arrows.to=e;else if(a[e].value.from!=null)f.arrows.from=e;else throw newSyntaxError("Invalid value of arrows");else a[e].name==="dir"&&(f.dir=e);var d=a[f.dir].value;if(!includes(o).call(o,"arrows"))if(d==="both")a.push({attr:a[f.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),f.arrows.to=a.length-1,a.push({attr:a[f.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),f.arrows.from=a.length-1;else if(d==="forward")a.push({attr:a[f.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),f.arrows.to=a.length-1;else if(d==="back")a.push({attr:a[f.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),f.arrows.from=a.length-1;else if(d==="none")a.push({attr:a[f.dir].attr,name:"arrows",value:""}),f.arrows.to=a.length-1;else throw newSyntaxError('Invalid dir type "'+d+'"');var v,g;if(d==="both")f.arrows.to&&f.arrows.from?(g=a[f.arrows.to].value.to.type,v=a[f.arrows.from].value.from.type,a[f.arrows.to]={attr:a[f.arrows.to].attr,name:a[f.arrows.to].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:v}}},splice(a).call(a,f.arrows.from,1)):f.arrows.to?(g=a[f.arrows.to].value.to.type,v="arrow",a[f.arrows.to]={attr:a[f.arrows.to].attr,name:a[f.arrows.to].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:v}}}):f.arrows.from&&(g="arrow",v=a[f.arrows.from].value.from.type,a[f.arrows.from]={attr:a[f.arrows.from].attr,name:a[f.arrows.from].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:v}}});else if(d==="back")f.arrows.to&&f.arrows.from?(g="",v=a[f.arrows.from].value.from.type,a[f.arrows.from]={attr:a[f.arrows.from].attr,name:a[f.arrows.from].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:v}}}):f.arrows.to?(g="",v="arrow",f.arrows.from=f.arrows.to,a[f.arrows.from]={attr:a[f.arrows.from].attr,name:a[f.arrows.from].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:v}}}):f.arrows.from&&(g="",v=a[f.arrows.from].value.from.type,a[f.arrows.to]={attr:a[f.arrows.from].attr,name:a[f.arrows.from].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:v}}}),a[f.arrows.from]={attr:a[f.arrows.from].attr,name:a[f.arrows.from].name,value:{from:{enabled:!0,type:a[f.arrows.from].value.from.type}}};else if(d==="none"){var m;f.arrows.to?m=f.arrows.to:m=f.arrows.from,a[m]={attr:a[m].attr,name:a[m].name,value:""}}else if(d==="forward")f.arrows.to&&f.arrows.from?(g=a[f.arrows.to].value.to.type,v="",a[f.arrows.to]={attr:a[f.arrows.to].attr,name:a[f.arrows.to].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:v}}}):f.arrows.to?(g=a[f.arrows.to].value.to.type,v="",a[f.arrows.to]={attr:a[f.arrows.to].attr,name:a[f.arrows.to].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:v}}}):f.arrows.from&&(g="arrow",v="",f.arrows.to=f.arrows.from,a[f.arrows.to]={attr:a[f.arrows.to].attr,name:a[f.arrows.to].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:v}}}),a[f.arrows.to]={attr:a[f.arrows.to].attr,name:a[f.arrows.to].name,value:{to:{enabled:!0,type:a[f.arrows.to].value.to.type}}};else throw newSyntaxError('Invalid dir type "'+d+'"');splice(a).call(a,f.dir,1)}var b;if(includes(o).call(o,"penwidth")){var E=[];for(b=a.length,e=0;e<b;e++)a[e].name!=="width"&&(a[e].name==="penwidth"&&(a[e].name="width"),E.push(a[e]));a=E}for(b=a.length,e=0;e<b;e++)setValue(a[e].attr,a[e].name,a[e].value);return r}function newSyntaxError(e){return new SyntaxError(e+', got "'+chop(token,30)+'" (char '+index+")")}function chop(e,r){return e.length<=r?e:e.substr(0,27)+"..."}function forEach2(e,r,t){isArray$1(e)?forEach$2(e).call(e,function(n){isArray$1(r)?forEach$2(r).call(r,function(a){t(n,a)}):t(n,r)}):isArray$1(r)?forEach$2(r).call(r,function(n){t(e,n)}):t(e,r)}function setProp(e,r,t){for(var n=r.split("."),a=n.pop(),o=e,s=0;s<n.length;s++){var l=n[s];l in o||(o[l]={}),o=o[l]}return o[a]=t,e}function convertAttr(e,r){var t={};for(var n in e)if(e.hasOwnProperty(n)){var a=r[n];isArray$1(a)?forEach$2(a).call(a,function(o){setProp(t,o,e[n])}):typeof a=="string"?setProp(t,a,e[n]):setProp(t,n,e[n])}return t}function DOTToGraph(e){var r=parseDOT(e),t={nodes:[],edges:[],options:{}};if(r.nodes){var n;forEach$2(n=r.nodes).call(n,function(s){var l={id:s.id,label:String(s.label||s.id)};merge$1(l,convertAttr(s.attr,NODE_ATTR_MAPPING)),l.image&&(l.shape="image"),t.nodes.push(l)})}if(r.edges){var a,o=function(l){var u={from:l.from,to:l.to};return merge$1(u,convertAttr(l.attr,EDGE_ATTR_MAPPING)),u.arrows==null&&l.type==="->"&&(u.arrows="to"),u};forEach$2(a=r.edges).call(a,function(s){var l,u;if(s.from instanceof Object?l=s.from.nodes:l={id:s.from},s.to instanceof Object?u=s.to.nodes:u={id:s.to},s.from instanceof Object&&s.from.edges){var f;forEach$2(f=s.from.edges).call(f,function(v){var g=o(v);t.edges.push(g)})}if(forEach2(l,u,function(v,g){var m=createEdge(t,v.id,g.id,s.type,s.attr),b=o(m);t.edges.push(b)}),s.to instanceof Object&&s.to.edges){var d;forEach$2(d=s.to.edges).call(d,function(v){var g=o(v);t.edges.push(g)})}})}return r.attr&&(t.options=r.attr),t}function parseGephi(e,r){var t,n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};r!=null&&(r.fixed!=null&&(n.nodes.fixed=r.fixed),r.parseColor!=null&&(n.nodes.parseColor=r.parseColor),r.inheritColor!=null&&(n.edges.inheritColor=r.inheritColor));var a=e.edges,o=map$3(a).call(a,function(l){var u={from:l.source,id:l.id,to:l.target};return l.attributes!=null&&(u.attributes=l.attributes),l.label!=null&&(u.label=l.label),l.attributes!=null&&l.attributes.title!=null&&(u.title=l.attributes.title),l.type==="Directed"&&(u.arrows="to"),l.color&&n.edges.inheritColor===!1&&(u.color=l.color),u}),s=map$3(t=e.nodes).call(t,function(l){var u={id:l.id,fixed:n.nodes.fixed&&l.x!=null&&l.y!=null};return l.attributes!=null&&(u.attributes=l.attributes),l.label!=null&&(u.label=l.label),l.size!=null&&(u.size=l.size),l.attributes!=null&&l.attributes.title!=null&&(u.title=l.attributes.title),l.title!=null&&(u.title=l.title),l.x!=null&&(u.x=l.x),l.y!=null&&(u.y=l.y),l.color!=null&&(n.nodes.parseColor===!0?u.color=l.color:u.color={background:l.color,border:l.color,highlight:{background:l.color,border:l.color},hover:{background:l.color,border:l.color}}),u});return{nodes:s,edges:o}}var en={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xFCgen",addNode:"Knoten hinzuf\xFCgen",back:"Zur\xFCck",close:"Schlie\xDFen",createEdgeError:"Es ist nicht m\xF6glich, Kanten mit Clustern zu verbinden.",del:"L\xF6sche Auswahl",deleteClusterError:"Cluster k\xF6nnen nicht gel\xF6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xF6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es={addDescription:"Haga clic en un lugar vac\xEDo para colocar un nuevo nodo.",addEdge:"A\xF1adir arista",addNode:"A\xF1adir nodo",back:"Atr\xE1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xF3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt={addDescription:"Clique em um espa\xE7o em branco para adicionar um novo n\xF3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xF3",back:"Voltar",close:"Fechar",createEdgeError:"N\xE3o foi poss\xEDvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xE3o puderam ser removidos.",edgeDescription:"Clique em um n\xF3 e arraste a aresta at\xE9 outro n\xF3 para conect\xE1-los",edit:"Editar",editClusterError:"Clusters n\xE3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xF3 para conect\xE1-los",editNode:"Editar n\xF3"},ru={addDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u0432 \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u043E\u0435 \u043C\u0435\u0441\u0442\u043E, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u0443\u0437\u0435\u043B.",addEdge:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u043E",addNode:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0443\u0437\u0435\u043B",back:"\u041D\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043A\u0440\u044B\u0432\u0430\u0442\u044C",createEdgeError:"\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u0430 \u0432 \u043A\u043B\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0435",deleteClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435 \u043C\u043E\u0433\u0443\u0442 \u0431\u044B\u0442\u044C \u0443\u0434\u0430\u043B\u0435\u043D\u044B",edgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u0443\u0437\u0435\u043B \u0438 \u043F\u0440\u043E\u0442\u044F\u043D\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043E \u043A \u0434\u0440\u0443\u0433\u043E\u043C\u0443 \u0443\u0437\u043B\u0443, \u0447\u0442\u043E\u0431\u044B \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",editClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F.",editEdge:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0440\u0435\u0431\u0440\u043E",editEdgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u044B\u0435 \u0442\u043E\u0447\u043A\u0438 \u0438 \u043F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043B, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C\u0441\u044F \u043A \u043D\u0435\u043C\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0443\u0437\u0435\u043B"},cn={addDescription:"\u5355\u51FB\u7A7A\u767D\u5904\u653E\u7F6E\u65B0\u8282\u70B9\u3002",addEdge:"\u6DFB\u52A0\u8FDE\u63A5\u7EBF",addNode:"\u6DFB\u52A0\u8282\u70B9",back:"\u8FD4\u56DE",close:"\u95DC\u9589",createEdgeError:"\u65E0\u6CD5\u5C06\u8FDE\u63A5\u7EBF\u8FDE\u63A5\u5230\u7FA4\u96C6\u3002",del:"\u5220\u9664\u9009\u5B9A",deleteClusterError:"\u65E0\u6CD5\u5220\u9664\u7FA4\u96C6\u3002",edgeDescription:"\u5355\u51FB\u67D0\u4E2A\u8282\u70B9\u5E76\u5C06\u8BE5\u8FDE\u63A5\u7EBF\u62D6\u52A8\u5230\u53E6\u4E00\u4E2A\u8282\u70B9\u4EE5\u8FDE\u63A5\u5B83\u4EEC\u3002",edit:"\u7F16\u8F91",editClusterError:"\u65E0\u6CD5\u7F16\u8F91\u7FA4\u96C6\u3002",editEdge:"\u7F16\u8F91\u8FDE\u63A5\u7EBF",editEdgeDescription:"\u5355\u51FB\u63A7\u5236\u8282\u70B9\u5E76\u5C06\u5B83\u4EEC\u62D6\u5230\u8282\u70B9\u4E0A\u8FDE\u63A5\u3002",editNode:"\u7F16\u8F91\u8282\u70B9"},uk={addDescription:"K\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u0432\u0456\u043B\u044C\u043D\u0435 \u043C\u0456\u0441\u0446\u0435, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u043D\u043E\u0432\u0438\u0439 \u0432\u0443\u0437\u043E\u043B.",addEdge:"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u0440\u0430\u0439",addNode:"\u0414\u043E\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043E\u043B",back:"\u041D\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438",createEdgeError:"\u041D\u0435 \u043C\u043E\u0436\u043B\u0438\u0432\u043E \u043E\u0431'\u0454\u0434\u043D\u0430\u0442\u0438 \u043A\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043F\u0443.",del:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043E\u0431\u0440\u0430\u043D\u0435",deleteClusterError:"\u0413\u0440\u0443\u043F\u0438 \u043D\u0435 \u043C\u043E\u0436\u0443\u0442\u044C \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u0456.",edgeDescription:"\u041A\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u0432\u0443\u0437\u043E\u043B \u0456 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u043A\u0440\u0430\u0439 \u0434\u043E \u0456\u043D\u0448\u043E\u0433\u043E \u0432\u0443\u0437\u043B\u0430, \u0449\u043E\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043D\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043F\u0438 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0456 \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043A\u0440\u0430\u0439",editEdgeDescription:"\u041A\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u0456 \u0442\u043E\u0447\u043A\u0438 \u0456 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0457\u0445 \u0443 \u0432\u0443\u0437\u043E\u043B, \u0449\u043E\u0431 \u043F\u0456\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0438\u0441\u044F \u0434\u043E \u043D\u044C\u043E\u0433\u043E.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043E\u043B"},fr={addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xE9er un lien vers un cluster.",del:"Effacer la s\xE9lection",deleteClusterError:"Les clusters ne peuvent pas \xEAtre effac\xE9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xC9diter",editClusterError:"Les clusters ne peuvent pas \xEAtre \xE9dit\xE9s.",editEdge:"\xC9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xF4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xC9diter le n\u0153ud"},cs={addDescription:"Kluknut\xEDm do pr\xE1zdn\xE9ho prostoru m\u016F\u017Eete p\u0159idat nov\xFD vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011Bt",close:"Zav\u0159\xEDt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xFDb\u011Br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017Een\xEDm z jednoho vrcholu do druh\xE9ho m\u016F\u017Eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017Een\xEDm kontroln\xEDho vrcholu hrany ji m\u016F\u017Eete p\u0159ipojit k jin\xE9mu vrcholu.",editNode:"Upravit vrchol"},locales=Object.freeze({__proto__:null,en,de,es,it,nl,pt,ru,cn,uk,fr,cs});function normalizeLanguageCode(e,r){try{var t=r.split(/[-_ /]/,2),n=_slicedToArray(t,2),a=n[0],o=n[1],s=a!=null?a.toLowerCase():null,l=o!=null?o.toUpperCase():null;if(s&&l){var u=s+"-"+l;if(Object.prototype.hasOwnProperty.call(e,u))return u;var f;console.warn(concat(f="Unknown variant ".concat(l," of language ")).call(f,s,"."))}if(s){var d=s;if(Object.prototype.hasOwnProperty.call(e,d))return d;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(r,", falling back to English.")),"en"}catch(v){return console.error(v),console.warn("Unexpected error while normalizing locale ".concat(r,", falling back to English.")),"en"}}var CachedImage=function(){function e(){_classCallCheck(this,e),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return _createClass(e,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,n=this.image.height;this.width=t,this.height=n;var a=Math.floor(n/2),o=Math.floor(n/4),s=Math.floor(n/8),l=Math.floor(n/16),u=Math.floor(t/2),f=Math.floor(t/4),d=Math.floor(t/8),v=Math.floor(t/16);this.canvas.width=3*f,this.canvas.height=a,this.coordinates=[[0,0,u,a],[u,0,f,o],[u,o,d,s],[5*d,o,v,l]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),n=this.coordinates[0];t.drawImage(this.image,n[0],n[1],n[2],n[3]);for(var a=1;a<this.NUM_ITERATIONS;a++){var o=this.coordinates[a-1],s=this.coordinates[a];t.drawImage(this.canvas,o[0],o[1],o[2],o[3],s[0],s[1],s[2],s[3])}}},{key:"drawImageAtPosition",value:function(t,n,a,o,s,l){if(!!this.initialized())if(n>2){n*=.5;for(var u=0;n>2&&u<this.NUM_ITERATIONS;)n*=.5,u+=1;u>=this.NUM_ITERATIONS&&(u=this.NUM_ITERATIONS-1);var f=this.coordinates[u];t.drawImage(this.canvas,f[0],f[1],f[2],f[3],a,o,s,l)}else t.drawImage(this.image,a,o,s,l)}}]),e}(),Images=function(){function e(r){_classCallCheck(this,e),this.images={},this.imageBroken={},this.callback=r}return _createClass(e,[{key:"_tryloadBrokenUrl",value:function(t,n,a){if(!(t===void 0||a===void 0)){if(n===void 0){console.warn("No broken url image defined");return}a.image.onerror=function(){console.error("Could not load brokenImage:",n)},a.image.src=n}}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,n){var a=this,o=this.images[t];if(o)return o;var s=new CachedImage;return this.images[t]=s,s.image.onload=function(){a._fixImageCoordinates(s.image),s.init(),a._redrawWithImage(s)},s.image.onerror=function(){console.error("Could not load image:",t),a._tryloadBrokenUrl(t,n,s)},s.image.src=t,s}},{key:"_fixImageCoordinates",value:function(t){t.width===0&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),e}(),internalMetadata={exports:{}},fails$4=fails$m,freezing=!fails$4(function(){return Object.isExtensible(Object.preventExtensions({}))}),$$d=_export,hiddenKeys=hiddenKeys$6,isObject$5=isObject$j,has$1=has$c,defineProperty$2=objectDefineProperty.f,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertyNamesExternalModule=objectGetOwnPropertyNamesExternal,uid=uid$4,FREEZING=freezing,REQUIRED=!1,METADATA=uid("meta"),id$1=0,isExtensible$1=Object.isExtensible||function(){return!0},setMetadata=function(e){defineProperty$2(e,METADATA,{value:{objectID:"O"+id$1++,weakData:{}}})},fastKey$1=function(e,r){if(!isObject$5(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!has$1(e,METADATA)){if(!isExtensible$1(e))return"F";if(!r)return"E";setMetadata(e)}return e[METADATA].objectID},getWeakData$1=function(e,r){if(!has$1(e,METADATA)){if(!isExtensible$1(e))return!0;if(!r)return!1;setMetadata(e)}return e[METADATA].weakData},onFreeze=function(e){return FREEZING&&REQUIRED&&isExtensible$1(e)&&!has$1(e,METADATA)&&setMetadata(e),e},enable=function(){meta.enable=function(){},REQUIRED=!0;var e=getOwnPropertyNamesModule.f,r=[].splice,t={};t[METADATA]=1,e(t).length&&(getOwnPropertyNamesModule.f=function(n){for(var a=e(n),o=0,s=a.length;o<s;o++)if(a[o]===METADATA){r.call(a,o,1);break}return a},$$d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:getOwnPropertyNamesExternalModule.f}))},meta=internalMetadata.exports={enable,fastKey:fastKey$1,getWeakData:getWeakData$1,onFreeze};hiddenKeys[METADATA]=!0;var anObject$3=anObject$c,isArrayIteratorMethod=isArrayIteratorMethod$2,toLength$2=toLength$a,bind$2=functionBindContext,getIteratorMethod=getIteratorMethod$6,iteratorClose=iteratorClose$2,Result=function(e,r){this.stopped=e,this.result=r},iterate$3=function(e,r,t){var n=t&&t.that,a=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_ITERATOR),s=!!(t&&t.INTERRUPTED),l=bind$2(r,n,1+a+s),u,f,d,v,g,m,b,E=function(_){return u&&iteratorClose(u),new Result(!0,_)},w=function(_){return a?(anObject$3(_),s?l(_[0],_[1],E):l(_[0],_[1])):s?l(_,E):l(_)};if(o)u=e;else{if(f=getIteratorMethod(e),typeof f!="function")throw TypeError("Target is not iterable");if(isArrayIteratorMethod(f)){for(d=0,v=toLength$2(e.length);v>d;d++)if(g=w(e[d]),g&&g instanceof Result)return g;return new Result(!1)}u=f.call(e)}for(m=u.next;!(b=m.call(u)).done;){try{g=w(b.value)}catch(_){throw iteratorClose(u),_}if(typeof g=="object"&&g&&g instanceof Result)return g}return new Result(!1)},anInstance$3=function(e,r,t){if(!(e instanceof r))throw TypeError("Incorrect "+(t?t+" ":"")+"invocation");return e},$$c=_export,global$5=global$k,InternalMetadataModule$1=internalMetadata.exports,fails$3=fails$m,createNonEnumerableProperty=createNonEnumerableProperty$9,iterate$2=iterate$3,anInstance$2=anInstance$3,isObject$4=isObject$j,setToStringTag=setToStringTag$5,defineProperty$1=objectDefineProperty.f,forEach=arrayIteration.forEach,DESCRIPTORS$2=descriptors,InternalStateModule$2=internalState,setInternalState$2=InternalStateModule$2.set,internalStateGetterFor$2=InternalStateModule$2.getterFor,collection$3=function(e,r,t){var n=e.indexOf("Map")!==-1,a=e.indexOf("Weak")!==-1,o=n?"set":"add",s=global$5[e],l=s&&s.prototype,u={},f;if(!DESCRIPTORS$2||typeof s!="function"||!(a||l.forEach&&!fails$3(function(){new s().entries().next()})))f=t.getConstructor(r,e,n,o),InternalMetadataModule$1.enable();else{f=r(function(v,g){setInternalState$2(anInstance$2(v,f,e),{type:e,collection:new s}),g!=null&&iterate$2(g,v[o],{that:v,AS_ENTRIES:n})});var d=internalStateGetterFor$2(e);forEach(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(v){var g=v=="add"||v=="set";v in l&&!(a&&v=="clear")&&createNonEnumerableProperty(f.prototype,v,function(m,b){var E=d(this).collection;if(!g&&a&&!isObject$4(m))return v=="get"?void 0:!1;var w=E[v](m===0?0:m,b);return g?this:w})}),a||defineProperty$1(f.prototype,"size",{configurable:!0,get:function(){return d(this).collection.size}})}return setToStringTag(f,e,!1,!0),u[e]=f,$$c({global:!0,forced:!0},u),a||t.setStrong(f,e,n),f},redefine=redefine$3,redefineAll$3=function(e,r,t){for(var n in r)t&&t.unsafe&&e[n]?e[n]=r[n]:redefine(e,n,r[n],t);return e},getBuiltIn$1=getBuiltIn$8,definePropertyModule=objectDefineProperty,wellKnownSymbol=wellKnownSymbol$j,DESCRIPTORS$1=descriptors,SPECIES=wellKnownSymbol("species"),setSpecies$1=function(e){var r=getBuiltIn$1(e),t=definePropertyModule.f;DESCRIPTORS$1&&r&&!r[SPECIES]&&t(r,SPECIES,{configurable:!0,get:function(){return this}})},defineProperty=objectDefineProperty.f,create$3=objectCreate,redefineAll$2=redefineAll$3,bind$1=functionBindContext,anInstance$1=anInstance$3,iterate$1=iterate$3,defineIterator=defineIterator$3,setSpecies=setSpecies$1,DESCRIPTORS=descriptors,fastKey=internalMetadata.exports.fastKey,InternalStateModule$1=internalState,setInternalState$1=InternalStateModule$1.set,internalStateGetterFor$1=InternalStateModule$1.getterFor,collectionStrong$2={getConstructor:function(e,r,t,n){var a=e(function(u,f){anInstance$1(u,a,r),setInternalState$1(u,{type:r,index:create$3(null),first:void 0,last:void 0,size:0}),DESCRIPTORS||(u.size=0),f!=null&&iterate$1(f,u[n],{that:u,AS_ENTRIES:t})}),o=internalStateGetterFor$1(r),s=function(u,f,d){var v=o(u),g=l(u,f),m,b;return g?g.value=d:(v.last=g={index:b=fastKey(f,!0),key:f,value:d,previous:m=v.last,next:void 0,removed:!1},v.first||(v.first=g),m&&(m.next=g),DESCRIPTORS?v.size++:u.size++,b!=="F"&&(v.index[b]=g)),u},l=function(u,f){var d=o(u),v=fastKey(f),g;if(v!=="F")return d.index[v];for(g=d.first;g;g=g.next)if(g.key==f)return g};return redefineAll$2(a.prototype,{clear:function(){for(var f=this,d=o(f),v=d.index,g=d.first;g;)g.removed=!0,g.previous&&(g.previous=g.previous.next=void 0),delete v[g.index],g=g.next;d.first=d.last=void 0,DESCRIPTORS?d.size=0:f.size=0},delete:function(u){var f=this,d=o(f),v=l(f,u);if(v){var g=v.next,m=v.previous;delete d.index[v.index],v.removed=!0,m&&(m.next=g),g&&(g.previous=m),d.first==v&&(d.first=g),d.last==v&&(d.last=m),DESCRIPTORS?d.size--:f.size--}return!!v},forEach:function(f){for(var d=o(this),v=bind$1(f,arguments.length>1?arguments[1]:void 0,3),g;g=g?g.next:d.first;)for(v(g.value,g.key,this);g&&g.removed;)g=g.previous},has:function(f){return!!l(this,f)}}),redefineAll$2(a.prototype,t?{get:function(f){var d=l(this,f);return d&&d.value},set:function(f,d){return s(this,f===0?0:f,d)}}:{add:function(f){return s(this,f=f===0?0:f,f)}}),DESCRIPTORS&&defineProperty(a.prototype,"size",{get:function(){return o(this).size}}),a},setStrong:function(e,r,t){var n=r+" Iterator",a=internalStateGetterFor$1(r),o=internalStateGetterFor$1(n);defineIterator(e,r,function(s,l){setInternalState$1(this,{type:n,target:s,state:a(s),kind:l,last:void 0})},function(){for(var s=o(this),l=s.kind,u=s.last;u&&u.removed;)u=u.previous;return!s.target||!(s.last=u=u?u.next:s.state.first)?(s.target=void 0,{value:void 0,done:!0}):l=="keys"?{value:u.key,done:!1}:l=="values"?{value:u.value,done:!1}:{value:[u.key,u.value],done:!1}},t?"entries":"values",!t,!0),setSpecies(r)}},collection$2=collection$3,collectionStrong$1=collectionStrong$2;collection$2("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},collectionStrong$1);var path$b=path$x,map$2=path$b.Map,parent$k=map$2,map$1=parent$k,map=map$1,Groups=function(){function e(){_classCallCheck(this,e),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},assign$2(this.options,this.defaultOptions)}return _createClass(e,[{key:"setOptions",value:function(t){var n=["useDefaultGroups"];if(t!==void 0){for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&indexOf(n).call(n,a)===-1){var o=t[a];this.add(a,o)}}}},{key:"clear",value:function(){this._groups=new map,this._groupNames=[]}},{key:"get",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this._groups.get(t);if(a===void 0&&n)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){var o=this._groupIndex%this._groupNames.length;++this._groupIndex,a={},a.color=this._groups.get(this._groupNames[o]),this._groups.set(t,a)}else{var s=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,a={},a.color=this._defaultGroups[s],this._groups.set(t,a)}return a}},{key:"add",value:function(t,n){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,n),n}}]),e}(),$$b=_export;$$b({target:"Number",stat:!0},{isNaN:function e(r){return r!=r}});var path$a=path$x,isNan$2=path$a.Number.isNaN,parent$j=isNan$2,isNan$1=parent$j,isNan=isNan$1,global$4=global$k,globalIsFinite=global$4.isFinite,numberIsFinite$1=Number.isFinite||function e(r){return typeof r=="number"&&globalIsFinite(r)},$$a=_export,numberIsFinite=numberIsFinite$1;$$a({target:"Number",stat:!0},{isFinite:numberIsFinite});var path$9=path$x,_isFinite$2=path$9.Number.isFinite,parent$i=_isFinite$2,_isFinite$1=parent$i,_isFinite=_isFinite$1,$$9=_export,$some=arrayIteration.some,arrayMethodIsStrict$3=arrayMethodIsStrict$6,STRICT_METHOD$3=arrayMethodIsStrict$3("some");$$9({target:"Array",proto:!0,forced:!STRICT_METHOD$3},{some:function e(r){return $some(this,r,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$4=entryVirtual$i,some$3=entryVirtual$4("Array").some,some$2=some$3,ArrayPrototype$4=Array.prototype,some_1=function(e){var r=e.some;return e===ArrayPrototype$4||e instanceof Array&&r===ArrayPrototype$4.some?some$2:r},parent$h=some_1,some$1=parent$h,some=some$1,global$3=global$k,toString$1=toString$9,trim=stringTrim.trim,whitespaces=whitespaces$4,$parseFloat=global$3.parseFloat,FORCED$2=1/$parseFloat(whitespaces+"-0")!=-1/0,numberParseFloat=FORCED$2?function e(r){var t=trim(toString$1(r)),n=$parseFloat(t);return n===0&&t.charAt(0)=="-"?-0:n}:$parseFloat,$$8=_export,parseFloatImplementation=numberParseFloat;$$8({global:!0,forced:parseFloat!=parseFloatImplementation},{parseFloat:parseFloatImplementation});var path$8=path$x,_parseFloat$2=path$8.parseFloat,parent$g=_parseFloat$2,_parseFloat$1=parent$g,_parseFloat=_parseFloat$1,$$7=_export,fails$2=fails$m,getOwnPropertyNames$3=objectGetOwnPropertyNamesExternal.f,FAILS_ON_PRIMITIVES=fails$2(function(){return!Object.getOwnPropertyNames(1)});$$7({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES},{getOwnPropertyNames:getOwnPropertyNames$3});var path$7=path$x,Object$1=path$7.Object,getOwnPropertyNames$2=function e(r){return Object$1.getOwnPropertyNames(r)},parent$f=getOwnPropertyNames$2,getOwnPropertyNames$1=parent$f,getOwnPropertyNames=getOwnPropertyNames$1;function choosify(e,r){var t=["node","edge","label"],n=!0,a=topMost(r,"chosen");if(typeof a=="boolean")n=a;else if(_typeof(a)==="object"){if(indexOf(t).call(t,e)===-1)throw new Error("choosify: subOption '"+e+"' should be one of '"+t.join("', '")+"'");var o=topMost(r,["chosen",e]);(typeof o=="boolean"||typeof o=="function")&&(n=o)}return n}function pointInRect(e,r,t){if(e.width<=0||e.height<=0)return!1;if(t!==void 0){var n={x:r.x-t.x,y:r.y-t.y};if(t.angle!==0){var a=-t.angle,o={x:Math.cos(a)*n.x-Math.sin(a)*n.y,y:Math.sin(a)*n.x+Math.cos(a)*n.y};r=o}else r=n}var s=e.x+e.width,l=e.y+e.width;return e.left<r.x&&s>r.x&&e.top<r.y&&l>r.y}function isValidLabel(e){return typeof e=="string"&&e!==""}function getSelfRefCoordinates(e,r,t,n){var a=n.x,o=n.y;if(typeof n.distanceToBorder=="function"){var s=n.distanceToBorder(e,r),l=Math.sin(r)*s,u=Math.cos(r)*s;u===s?(a+=s,o=n.y):l===s?(a=n.x,o-=s):(a+=u,o-=l)}else n.shape.width>n.shape.height?(a=n.x+n.shape.width*.5,o=n.y-t):(a=n.x+t,o=n.y-n.shape.height*.5);return{x:a,y:o}}var entryVirtual$3=entryVirtual$i,values$3=entryVirtual$3("Array").values,parent$e=values$3,values$2=parent$e,values$1=values$2,classof$1=classof$8,ArrayPrototype$3=Array.prototype,DOMIterables={DOMTokenList:!0,NodeList:!0},values_1=function(e){var r=e.values;return e===ArrayPrototype$3||e instanceof Array&&r===ArrayPrototype$3.values||DOMIterables.hasOwnProperty(classof$1(e))?values$1:r},values=values_1,LabelAccumulator=function(){function e(r){_classCallCheck(this,e),this.measureText=r,this.current=0,this.width=0,this.height=0,this.lines=[]}return _createClass(e,[{key:"_add",value:function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[t]===void 0&&(this.lines[t]={width:0,height:0,blocks:[]});var o=n;(n===void 0||n==="")&&(o=" ");var s=this.measureText(o,a),l=assign$2({},values(s));l.text=n,l.width=s.width,l.mod=a,(n===void 0||n==="")&&(l.width=0),this.lines[t].blocks.push(l),this.lines[t].width+=l.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return t===void 0?0:t.width}},{key:"append",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,t,n)}},{key:"newLine",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,t,n),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var n=this.lines[t],a=0;if(n.blocks!==void 0)for(var o=0;o<n.blocks.length;o++){var s=n.blocks[o];a<s.height&&(a=s.height)}n.height=a}}},{key:"determineLabelSize",value:function(){for(var t=0,n=0,a=0;a<this.lines.length;a++){var o=this.lines[a];o.width>t&&(t=o.width),n+=o.height}this.width=t,this.height=n}},{key:"removeEmptyBlocks",value:function(){for(var t=[],n=0;n<this.lines.length;n++){var a=this.lines[n];if(a.blocks.length!==0&&!(n===this.lines.length-1&&a.width===0)){var o={};assign$2(o,a),o.blocks=[];for(var s=void 0,l=[],u=0;u<a.blocks.length;u++){var f=a.blocks[u];f.width!==0?l.push(f):s===void 0&&(s=f)}l.length===0&&s!==void 0&&l.push(s),o.blocks=l,t.push(o)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),e}(),tagPattern={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},MarkupAccumulator=function(){function e(r){_classCallCheck(this,e),this.text=r,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return _createClass(e,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(t){t===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),t!=" "&&(this.buffer+=t)}},{key:"parseWS",value:function(t){return/[ \t]/.test(t)?(this.mono?this.add(t):this.spacing=!0,!0):!1}},{key:"setTag",value:function(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}},{key:"unsetTag",value:function(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(t,n){return!this.mono&&!this[t]&&this.match(n)?(this.setTag(t),!0):!1}},{key:"match",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this.prepareRegExp(t),o=_slicedToArray(a,2),s=o[0],l=o[1],u=s.test(this.text.substr(this.position,l));return u&&n&&(this.position+=l-1),u}},{key:"parseEndTag",value:function(t,n,a){var o=this.mod()===t;return t==="mono"?o=o&&this.mono:o=o&&!this.mono,o&&this.match(n)?(a!==void 0?(this.position===this.text.length-1||this.match(a,!1))&&this.unsetTag(t):this.unsetTag(t),!0):!1}},{key:"replace",value:function(t,n){return this.match(t)?(this.add(n),this.position+=length-1,!0):!1}},{key:"prepareRegExp",value:function(t){var n,a;if(t instanceof RegExp)a=t,n=1;else{var o=tagPattern[t];o!==void 0?a=o:a=new RegExp(t),n=t.length}return[a,n]}}]),e}(),LabelSplitter=function(){function e(r,t,n,a){var o=this;_classCallCheck(this,e),this.ctx=r,this.parent=t,this.selected=n,this.hover=a;var s=function(u,f){if(u===void 0)return 0;var d=o.parent.getFormattingValues(r,n,a,f),v=0;if(u!==""){var g=o.ctx.measureText(u);v=g.width}return{width:v,values:d}};this.lines=new LabelAccumulator(s)}return _createClass(e,[{key:"process",value:function(t){if(!isValidLabel(t))return this.lines.finalize();var n=this.parent.fontOptions;t=t.replace(/\r\n/g,`
`),t=t.replace(/\r/g,`
`);var a=String(t).split(`
`),o=a.length;if(n.multi)for(var s=0;s<o;s++){var l=this.splitBlocks(a[s],n.multi);if(l!==void 0){if(l.length===0){this.lines.newLine("");continue}if(n.maxWdt>0)for(var u=0;u<l.length;u++){var f=l[u].mod,d=l[u].text;this.splitStringIntoLines(d,f,!0)}else for(var v=0;v<l.length;v++){var g=l[v].mod,m=l[v].text;this.lines.append(m,g)}this.lines.newLine()}}else if(n.maxWdt>0)for(var b=0;b<o;b++)this.splitStringIntoLines(a[b]);else for(var E=0;E<o;E++)this.lines.newLine(a[E]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var n="none";return t==="markdown"||t==="md"?n="markdown":(t===!0||t==="html")&&(n="html"),n}},{key:"splitHtmlBlocks",value:function(t){for(var n=new MarkupAccumulator(t),a=function(u){if(/&/.test(u)){var f=n.replace(n.text,"&lt;","<")||n.replace(n.text,"&amp;","&");return f||n.add("&"),!0}return!1};n.position<n.text.length;){var o=n.text.charAt(n.position),s=n.parseWS(o)||/</.test(o)&&(n.parseStartTag("bold","<b>")||n.parseStartTag("ital","<i>")||n.parseStartTag("mono","<code>")||n.parseEndTag("bold","</b>")||n.parseEndTag("ital","</i>")||n.parseEndTag("mono","</code>"))||a(o);s||n.add(o),n.position++}return n.emitBlock(),n.blocks}},{key:"splitMarkdownBlocks",value:function(t){for(var n=this,a=new MarkupAccumulator(t),o=!0,s=function(d){return/\\/.test(d)?(a.position<n.text.length+1&&(a.position++,d=n.text.charAt(a.position),/ \t/.test(d)?a.spacing=!0:(a.add(d),o=!1)),!0):!1};a.position<a.text.length;){var l=a.text.charAt(a.position),u=a.parseWS(l)||s(l)||(o||a.spacing)&&(a.parseStartTag("bold","*")||a.parseStartTag("ital","_")||a.parseStartTag("mono","`"))||a.parseEndTag("bold","*","afterBold")||a.parseEndTag("ital","_","afterItal")||a.parseEndTag("mono","`","afterMono");u||(a.add(l),o=!1),a.position++}return a.emitBlock(),a.blocks}},{key:"splitBlocks",value:function(t,n){var a=this.decodeMarkupSystem(n);if(a==="none")return[{text:t,mod:"normal"}];if(a==="markdown")return this.splitMarkdownBlocks(t);if(a==="html")return this.splitHtmlBlocks(t)}},{key:"overMaxWidth",value:function(t){var n=this.ctx.measureText(t).width;return this.lines.curWidth()+n>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var n="",a=0;a<t.length;){var o=n===""?"":" ",s=n+o+t[a];if(this.overMaxWidth(s))break;n=s,a++}return a}},{key:"getLongestFitWord",value:function(t){for(var n=0;n<t.length&&!this.overMaxWidth(slice$1(t).call(t,0,n));)n++;return n}},{key:"splitStringIntoLines",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,n),t=t.replace(/^( +)/g,"$1\r"),t=t.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var o=t.split("\r");o.length>0;){var s=this.getLongestFit(o);if(s===0){var l=o[0],u=this.getLongestFitWord(l);this.lines.newLine(slice$1(l).call(l,0,u),n),o[0]=slice$1(l).call(l,u)}else{var f=s;o[s-1]===" "?s--:o[f]===" "&&f++;var d=slice$1(o).call(o,0,s).join("");s==o.length&&a?this.lines.append(d,n):this.lines.newLine(d,n),o=slice$1(o).call(o,f)}}}}]),e}(),multiFontStyle=["bold","ital","boldital","mono"],Label=function(){function e(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;_classCallCheck(this,e),this.body=r,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return _createClass(e,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),isValidLabel(t.label)?this.labelDirty=!0:t.label=void 0,t.font!==void 0&&t.font!==null){if(typeof t.font=="string")this.baseSize=this.fontOptions.size;else if(_typeof(t.font)==="object"){var n=t.font.size;n!==void 0&&(this.baseSize=n)}}}},{key:"initFontOptions",value:function(t){var n=this;if(forEach$1(multiFontStyle,function(a){n.fontOptions[a]={}}),e.parseFontString(this.fontOptions,t)){this.fontOptions.vadjust=0;return}forEach$1(t,function(a,o){a!=null&&_typeof(a)!=="object"&&(n.fontOptions[o]=a)})}},{key:"constrain",value:function(t){var n={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},a=topMost(t,"widthConstraint");if(typeof a=="number")n.maxWdt=Number(a),n.minWdt=Number(a);else if(_typeof(a)==="object"){var o=topMost(t,["widthConstraint","maximum"]);typeof o=="number"&&(n.maxWdt=Number(o));var s=topMost(t,["widthConstraint","minimum"]);typeof s=="number"&&(n.minWdt=Number(s))}var l=topMost(t,"heightConstraint");if(typeof l=="number")n.minHgt=Number(l);else if(_typeof(l)==="object"){var u=topMost(t,["heightConstraint","minimum"]);typeof u=="number"&&(n.minHgt=Number(u));var f=topMost(t,["heightConstraint","valign"]);typeof f=="string"&&(f==="top"||f==="bottom")&&(n.valign=f)}return n}},{key:"update",value:function(t,n){this.setOptions(t,!0),this.propagateFonts(n),deepExtend(this.fontOptions,this.constrain(n)),this.fontOptions.chooser=choosify("label",n)}},{key:"adjustSizes",value:function(t){var n=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=n,this.fontOptions.minWdt-=n);var a=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=a)}},{key:"addFontOptionsToPile",value:function(t,n){for(var a=0;a<n.length;++a)this.addFontToPile(t,n[a])}},{key:"addFontToPile",value:function(t,n){if(n!==void 0&&!(n.font===void 0||n.font===null)){var a=n.font;t.push(a)}}},{key:"getBasicOptions",value:function(t){for(var n={},a=0;a<t.length;++a){var o=t[a],s={};e.parseFontString(s,o)&&(o=s),forEach$1(o,function(l,u){l!==void 0&&(Object.prototype.hasOwnProperty.call(n,u)||(indexOf(multiFontStyle).call(multiFontStyle,u)!==-1?n[u]={}:n[u]=l))})}return n}},{key:"getFontOption",value:function(t,n,a){for(var o,s=0;s<t.length;++s){var l=t[s];if(Object.prototype.hasOwnProperty.call(l,n)){if(o=l[n],o==null)continue;var u={};if(e.parseFontString(u,o)&&(o=u),Object.prototype.hasOwnProperty.call(o,a))return o[a]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,a))return this.fontOptions[a];throw new Error("Did not find value for multi-font for property: '"+a+"'")}},{key:"getFontOptions",value:function(t,n){for(var a={},o=["color","size","face","mod","vadjust"],s=0;s<o.length;++s){var l=o[s];a[l]=this.getFontOption(t,n,l)}return a}},{key:"propagateFonts",value:function(t){var n=this,a=[];this.addFontOptionsToPile(a,t),this.fontOptions=this.getBasicOptions(a);for(var o=function(u){var f=multiFontStyle[u],d=n.fontOptions[f],v=n.getFontOptions(a,f);forEach$1(v,function(g,m){d[m]=g}),d.size=Number(d.size),d.vadjust=Number(d.vadjust)},s=0;s<multiFontStyle.length;++s)o(s)}},{key:"draw",value:function(t,n,a,o,s){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var u=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&u<this.elementOptions.scaling.label.drawThreshold-1||(u>=this.elementOptions.scaling.label.maxVisible&&(u=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,o,s,n,a,l),this._drawBackground(t),this._drawText(t,n,this.size.yLine,l,u))}}},{key:"_drawBackground",value:function(t){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){t.fillStyle=this.fontOptions.background;var n=this.getSize();t.fillRect(n.left,n.top,n.width,n.height)}}},{key:"_drawText",value:function(t,n,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0,l=this._setAlignment(t,n,a,o),u=_slicedToArray(l,2);n=u[0],a=u[1],t.textAlign="left",n=n-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(a-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(a+=(this.size.height-this.size.labelHeight)/2));for(var f=0;f<this.lineCount;f++){var d=this.lines[f];if(d&&d.blocks){var v=0;this.isEdgeLabel||this.fontOptions.align==="center"?v+=(this.size.width-d.width)/2:this.fontOptions.align==="right"&&(v+=this.size.width-d.width);for(var g=0;g<d.blocks.length;g++){var m=d.blocks[g];t.font=m.font;var b=this._getColor(m.color,s,m.strokeColor),E=_slicedToArray(b,2),w=E[0],_=E[1];m.strokeWidth>0&&(t.lineWidth=m.strokeWidth,t.strokeStyle=_,t.lineJoin="round"),t.fillStyle=w,m.strokeWidth>0&&t.strokeText(m.text,n+v,a+m.vadjust),t.fillText(m.text,n+v,a+m.vadjust),v+=m.width}a+=d.height}}}},{key:"_setAlignment",value:function(t,n,a,o){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){n=0,a=0;var s=2;this.fontOptions.align==="top"?(t.textBaseline="alphabetic",a-=2*s):this.fontOptions.align==="bottom"?(t.textBaseline="hanging",a+=2*s):t.textBaseline="middle"}else t.textBaseline=o;return[n,a]}},{key:"_getColor",value:function(t,n,a){var o=t||"#000000",s=a||"#ffffff";if(n<=this.elementOptions.scaling.label.drawThreshold){var l=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-n)));o=overrideOpacity(o,l),s=overrideOpacity(s,l)}return[o,s]}},{key:"getTextSize",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(t,n,a),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=2,n=this.size.left,a=this.size.top-.5*t;if(this.isEdgeLabel){var o=-this.size.width*.5;switch(this.fontOptions.align){case"middle":n=o,a=-this.size.height*.5;break;case"top":n=o,a=-(this.size.height+t);break;case"bottom":n=o,a=t;break}}var s={left:n,top:a,width:this.size.width,height:this.size.height};return s}},{key:"calculateLabelSize",value:function(t,n,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(t,n,a),this.size.left=o-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,l==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,n,a,o){var s=function(d,v,g){return v==="normal"?g==="mod"?"":d[g]:d[v][g]!==void 0?d[v][g]:d[g]},l={color:s(this.fontOptions,o,"color"),size:s(this.fontOptions,o,"size"),face:s(this.fontOptions,o,"face"),mod:s(this.fontOptions,o,"mod"),vadjust:s(this.fontOptions,o,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(n||a)&&(o==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?l.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(l,this.elementOptions.id,n,a));var u="";return l.mod!==void 0&&l.mod!==""&&(u+=l.mod+" "),u+=l.size+"px "+l.face,t.font=u.replace(/"/g,""),l.font=t.font,l.height=l.size,l}},{key:"differentState",value:function(t,n){return t!==this.selectedState||n!==this.hoverState}},{key:"_processLabelText",value:function(t,n,a,o){var s=new LabelSplitter(t,this,n,a);return s.process(o)}},{key:"_processLabel",value:function(t,n,a){if(!(this.labelDirty===!1&&!this.differentState(n,a))){var o=this._processLabelText(t,n,a,this.elementOptions.label);this.fontOptions.minWdt>0&&o.width<this.fontOptions.minWdt&&(o.width=this.fontOptions.minWdt),this.size.labelHeight=o.height,this.fontOptions.minHgt>0&&o.height<this.fontOptions.minHgt&&(o.height=this.fontOptions.minHgt),this.lines=o.lines,this.lineCount=o.lines.length,this.size.width=o.width,this.size.height=o.height,this.selectedState=n,this.hoverState=a,this.labelDirty=!1}}},{key:"visible",value:function(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0)return!1;var t=this.fontOptions.size*this.body.view.scale;return!(t<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,n){if(!n||typeof n!="string")return!1;var a=n.split(" ");return t.size=+a[0].replace("px",""),t.face=a[1],t.color=a[2],!0}}]),e}(),$$6=_export,getBuiltIn=getBuiltIn$8,aFunction$2=aFunction$5,anObject$2=anObject$c,isObject$3=isObject$j,create$2=objectCreate,bind=functionBind,fails$1=fails$m,nativeConstruct=getBuiltIn("Reflect","construct"),NEW_TARGET_BUG=fails$1(function(){function e(){}return!(nativeConstruct(function(){},[],e)instanceof e)}),ARGS_BUG=!fails$1(function(){nativeConstruct(function(){})}),FORCED$1=NEW_TARGET_BUG||ARGS_BUG;$$6({target:"Reflect",stat:!0,forced:FORCED$1,sham:FORCED$1},{construct:function e(r,t){aFunction$2(r),anObject$2(t);var n=arguments.length<3?r:aFunction$2(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return nativeConstruct(r,t,n);if(r==n){switch(t.length){case 0:return new r;case 1:return new r(t[0]);case 2:return new r(t[0],t[1]);case 3:return new r(t[0],t[1],t[2]);case 4:return new r(t[0],t[1],t[2],t[3])}var a=[null];return a.push.apply(a,t),new(bind.apply(r,a))}var o=n.prototype,s=create$2(isObject$3(o)?o:Object.prototype),l=Function.apply.call(r,s,t);return isObject$3(l)?l:s}});var path$6=path$x,construct$2=path$6.Reflect.construct,parent$d=construct$2,construct$1=parent$d,construct=construct$1,parent$c=create$5,create$1=parent$c,create=create$1,$$5=_export,setPrototypeOf$4=objectSetPrototypeOf;$$5({target:"Object",stat:!0},{setPrototypeOf:setPrototypeOf$4});var path$5=path$x,setPrototypeOf$3=path$5.Object.setPrototypeOf,parent$b=setPrototypeOf$3,setPrototypeOf$2=parent$b,parent$a=setPrototypeOf$2,setPrototypeOf$1=parent$a,setPrototypeOf=setPrototypeOf$1;function _setPrototypeOf(e,r){return _setPrototypeOf=setPrototypeOf||function(n,a){return n.__proto__=a,n},_setPrototypeOf(e,r)}function _inherits(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_setPrototypeOf(e,r)}function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,r){if(r&&(_typeof(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}var parent$9=getPrototypeOf$4,getPrototypeOf$2=parent$9,getPrototypeOf$1=getPrototypeOf$2;function _getPrototypeOf(e){return _getPrototypeOf=setPrototypeOf?getPrototypeOf$1:function(t){return t.__proto__||getPrototypeOf$1(t)},_getPrototypeOf(e)}var NodeBase=function(){function e(r,t,n){_classCallCheck(this,e),this.body=t,this.labelModule=n,this.setOptions(r),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return _createClass(e,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&(_typeof(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,n){var a=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(n)),Math.abs(this.height/2/Math.sin(n)))+a}},{key:"enableShadow",value:function(t,n){n.shadow&&(t.shadowColor=n.shadowColor,t.shadowBlur=n.shadowSize,t.shadowOffsetX=n.shadowX,t.shadowOffsetY=n.shadowY)}},{key:"disableShadow",value:function(t,n){n.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,n){if(n.borderDashes!==!1)if(t.setLineDash!==void 0){var a=n.borderDashes;a===!0&&(a=[5,15]),t.setLineDash(a)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,n.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,n){n.borderDashes!==!1&&(t.setLineDash!==void 0?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,n.borderDashes=!1))}},{key:"needsRefresh",value:function(t,n){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(t,n)}},{key:"initContextForDraw",value:function(t,n){var a=n.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,a),t.strokeStyle=n.borderColor,t.fillStyle=n.color}},{key:"performStroke",value:function(t,n){var a=n.borderWidth/this.body.view.scale;t.save(),a>0&&(this.enableBorderDashes(t,n),t.stroke(),this.disableBorderDashes(t,n)),t.restore()}},{key:"performFill",value:function(t,n){t.save(),t.fillStyle=n.color,this.enableShadow(t,n),fill(t).call(t),this.disableShadow(t,n),t.restore(),this.performStroke(t,n)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,n,a,o,s){a!==void 0&&this.resize(a,o,s),this.left=t-this.width/2,this.top=n-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,n,a,o,s){this._updateBoundingBox(t,n,a,o,s)}},{key:"getDimensionsFromLabel",value:function(t,n,a){this.textSize=this.labelModule.getTextSize(t,n,a);var o=this.textSize.width,s=this.textSize.height,l=14;return o===0&&(o=l,s=l),{width:o,height:s}}}]),e}();function _createSuper$s(e){var r=_isNativeReflectConstruct$s();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$s(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Box$1=function(e){_inherits(t,e);var r=_createSuper$s(t);function t(n,a,o){var s;return _classCallCheck(this,t),s=r.call(this,n,a,o),s._setMargins(o),s}return _createClass(t,[{key:"resize",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(o,s)){var l=this.getDimensionsFromLabel(a,o,s);this.width=l.width+this.margin.right+this.margin.left,this.height=l.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(a,o,s,l,u,f){this.resize(a,l,u),this.left=o-this.width/2,this.top=s-this.height/2,this.initContextForDraw(a,f),drawRoundRect(a,this.left,this.top,this.width,this.height,f.borderRadius),this.performFill(a,f),this.updateBoundingBox(o,s,a,l,u),this.labelModule.draw(a,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,l,u)}},{key:"updateBoundingBox",value:function(a,o,s,l,u){this._updateBoundingBox(a,o,s,l,u);var f=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(f)}},{key:"distanceToBorder",value:function(a,o){a&&this.resize(a);var s=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(o)),Math.abs(this.height/2/Math.sin(o)))+s}}]),t}(NodeBase);function _createSuper$r(e){var r=_isNativeReflectConstruct$r();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$r(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CircleImageBase=function(e){_inherits(t,e);var r=_createSuper$r(t);function t(n,a,o){var s;return _classCallCheck(this,t),s=r.call(this,n,a,o),s.labelOffset=0,s.selected=!1,s}return _createClass(t,[{key:"setOptions",value:function(a,o,s){this.options=a,o===void 0&&s===void 0||this.setImages(o,s)}},{key:"setImages",value:function(a,o){o&&this.selected?(this.imageObj=o,this.imageObjAlt=a):(this.imageObj=a,this.imageObjAlt=o)}},{key:"switchImages",value:function(a){var o=a&&!this.selected||!a&&this.selected;if(this.selected=a,this.imageObjAlt!==void 0&&o){var s=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=s}}},{key:"_getImagePadding",value:function(){var a={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var o=this.options.imagePadding;_typeof(o)=="object"?(a.top=o.top,a.right=o.right,a.bottom=o.bottom,a.left=o.left):(a.top=o,a.right=o,a.bottom=o,a.left=o)}return a}},{key:"_resizeImage",value:function(){var a,o;if(this.options.shapeProperties.useImageSize===!1){var s=1,l=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?s=this.imageObj.width/this.imageObj.height:l=this.imageObj.height/this.imageObj.width),a=this.options.size*2*s,o=this.options.size*2*l}else{var u=this._getImagePadding();a=this.imageObj.width+u.left+u.right,o=this.imageObj.height+u.top+u.bottom}this.width=a,this.height=o,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(a,o,s,l){this.initContextForDraw(a,l),drawCircle(a,o,s,l.size),this.performFill(a,l)}},{key:"_drawImageAtPosition",value:function(a,o){if(this.imageObj.width!=0){a.globalAlpha=o.opacity!==void 0?o.opacity:1,this.enableShadow(a,o);var s=1;this.options.shapeProperties.interpolation===!0&&(s=this.imageObj.width/this.width/this.body.view.scale);var l=this._getImagePadding(),u=this.left+l.left,f=this.top+l.top,d=this.width-l.left-l.right,v=this.height-l.top-l.bottom;this.imageObj.drawImageAtPosition(a,s,u,f,d,v),this.disableShadow(a,o)}}},{key:"_drawImageLabel",value:function(a,o,s,l,u){var f=0;if(this.height!==void 0){f=this.height*.5;var d=this.labelModule.getTextSize(a,l,u);d.lineCount>=1&&(f+=d.height/2)}var v=s+f;this.options.label&&(this.labelOffset=f),this.labelModule.draw(a,o,v,l,u,"hanging")}}]),t}(NodeBase);function _createSuper$q(e){var r=_isNativeReflectConstruct$q();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$q(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Circle$1=function(e){_inherits(t,e);var r=_createSuper$q(t);function t(n,a,o){var s;return _classCallCheck(this,t),s=r.call(this,n,a,o),s._setMargins(o),s}return _createClass(t,[{key:"resize",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(o,s)){var l=this.getDimensionsFromLabel(a,o,s),u=Math.max(l.width+this.margin.right+this.margin.left,l.height+this.margin.top+this.margin.bottom);this.options.size=u/2,this.width=u,this.height=u,this.radius=this.width/2}}},{key:"draw",value:function(a,o,s,l,u,f){this.resize(a,l,u),this.left=o-this.width/2,this.top=s-this.height/2,this._drawRawCircle(a,o,s,f),this.updateBoundingBox(o,s),this.labelModule.draw(a,this.left+this.textSize.width/2+this.margin.left,s,l,u)}},{key:"updateBoundingBox",value:function(a,o){this.boundingBox.top=o-this.options.size,this.boundingBox.left=a-this.options.size,this.boundingBox.right=a+this.options.size,this.boundingBox.bottom=o+this.options.size}},{key:"distanceToBorder",value:function(a){return a&&this.resize(a),this.width*.5}}]),t}(CircleImageBase);function _createSuper$p(e){var r=_isNativeReflectConstruct$p();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$p(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CircularImage=function(e){_inherits(t,e);var r=_createSuper$p(t);function t(n,a,o,s,l){var u;return _classCallCheck(this,t),u=r.call(this,n,a,o),u.setImages(s,l),u}return _createClass(t,[{key:"resize",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,l=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(l){var u=this.options.size*2;this.width=u,this.height=u,this.radius=.5*this.width;return}this.needsRefresh(o,s)&&this._resizeImage()}},{key:"draw",value:function(a,o,s,l,u,f){this.switchImages(l),this.resize();var d=o,v=s;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=o,this.top=s,d+=this.width/2,v+=this.height/2):(this.left=o-this.width/2,this.top=s-this.height/2),this._drawRawCircle(a,d,v,f),a.save(),a.clip(),this._drawImageAtPosition(a,f),a.restore(),this._drawImageLabel(a,d,v,l,u),this.updateBoundingBox(o,s)}},{key:"updateBoundingBox",value:function(a,o){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=o,this.boundingBox.left=a,this.boundingBox.right=a+this.options.size*2,this.boundingBox.bottom=o+this.options.size*2):(this.boundingBox.top=o-this.options.size,this.boundingBox.left=a-this.options.size,this.boundingBox.right=a+this.options.size,this.boundingBox.bottom=o+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(a){return a&&this.resize(a),this.width*.5}}]),t}(CircleImageBase);function _createSuper$o(e){var r=_isNativeReflectConstruct$o();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$o(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var ShapeBase=function(e){_inherits(t,e);var r=_createSuper$o(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"resize",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(o,s)){var u,f;this.labelModule.getTextSize(a,o,s);var d=2*l.size;this.width=(u=this.customSizeWidth)!==null&&u!==void 0?u:d,this.height=(f=this.customSizeHeight)!==null&&f!==void 0?f:d,this.radius=.5*this.width}}},{key:"_drawShape",value:function(a,o,s,l,u,f,d,v){var g=this;return this.resize(a,f,d,v),this.left=l-this.width/2,this.top=u-this.height/2,this.initContextForDraw(a,v),getShape(o)(a,l,u,v.size),this.performFill(a,v),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(a.font=(f?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),a.fillStyle=this.options.icon.color||"black",a.textAlign="center",a.textBaseline="middle",a.fillText(this.options.icon.code,l,u)),{drawExternalLabel:function(){if(g.options.label!==void 0){g.labelModule.calculateLabelSize(a,f,d,l,u,"hanging");var b=u+.5*g.height+.5*g.labelModule.size.height;g.labelModule.draw(a,l,b,f,d,"hanging")}g.updateBoundingBox(l,u)}}}},{key:"updateBoundingBox",value:function(a,o){this.boundingBox.top=o-this.options.size,this.boundingBox.left=a-this.options.size,this.boundingBox.right=a+this.options.size,this.boundingBox.bottom=o+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),t}(NodeBase);function ownKeys$3(e,r){var t=keys(e);if(getOwnPropertySymbols){var n=getOwnPropertySymbols(e);r&&(n=filter(n).call(n,function(a){return getOwnPropertyDescriptor$2(e,a).enumerable})),t.push.apply(t,n)}return t}function _objectSpread$3(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){var n;forEach$2(n=ownKeys$3(Object(t),!0)).call(n,function(o){_defineProperty(e,o,t[o])})}else if(getOwnPropertyDescriptors)defineProperties(e,getOwnPropertyDescriptors(t));else{var a;forEach$2(a=ownKeys$3(Object(t))).call(a,function(o){defineProperty$5(e,o,getOwnPropertyDescriptor$2(t,o))})}}return e}function _createSuper$n(e){var r=_isNativeReflectConstruct$n();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$n(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CustomShape=function(e){_inherits(t,e);var r=_createSuper$n(t);function t(n,a,o,s){var l;return _classCallCheck(this,t),l=r.call(this,n,a,o,s),l.ctxRenderer=s,l}return _createClass(t,[{key:"draw",value:function(a,o,s,l,u,f){this.resize(a,l,u,f),this.left=o-this.width/2,this.top=s-this.height/2,a.save();var d=this.ctxRenderer({ctx:a,id:this.options.id,x:o,y:s,state:{selected:l,hover:u},style:_objectSpread$3({},f),label:this.options.label});if(d.drawNode!=null&&d.drawNode(),a.restore(),d.drawExternalLabel){var v=d.drawExternalLabel;d.drawExternalLabel=function(){a.save(),v(),a.restore()}}return d.nodeDimensions&&(this.customSizeWidth=d.nodeDimensions.width,this.customSizeHeight=d.nodeDimensions.height),d}},{key:"distanceToBorder",value:function(a,o){return this._distanceToBorder(a,o)}}]),t}(ShapeBase);function _createSuper$m(e){var r=_isNativeReflectConstruct$m();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$m(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Database=function(e){_inherits(t,e);var r=_createSuper$m(t);function t(n,a,o){var s;return _classCallCheck(this,t),s=r.call(this,n,a,o),s._setMargins(o),s}return _createClass(t,[{key:"resize",value:function(a,o,s){if(this.needsRefresh(o,s)){var l=this.getDimensionsFromLabel(a,o,s),u=l.width+this.margin.right+this.margin.left;this.width=u,this.height=u,this.radius=this.width/2}}},{key:"draw",value:function(a,o,s,l,u,f){this.resize(a,l,u),this.left=o-this.width/2,this.top=s-this.height/2,this.initContextForDraw(a,f),drawDatabase(a,o-this.width/2,s-this.height/2,this.width,this.height),this.performFill(a,f),this.updateBoundingBox(o,s,a,l,u),this.labelModule.draw(a,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,l,u)}},{key:"distanceToBorder",value:function(a,o){return this._distanceToBorder(a,o)}}]),t}(NodeBase);function _createSuper$l(e){var r=_isNativeReflectConstruct$l();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$l(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Diamond$1=function(e){_inherits(t,e);var r=_createSuper$l(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"draw",value:function(a,o,s,l,u,f){return this._drawShape(a,"diamond",4,o,s,l,u,f)}},{key:"distanceToBorder",value:function(a,o){return this._distanceToBorder(a,o)}}]),t}(ShapeBase);function _createSuper$k(e){var r=_isNativeReflectConstruct$k();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$k(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Dot=function(e){_inherits(t,e);var r=_createSuper$k(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"draw",value:function(a,o,s,l,u,f){return this._drawShape(a,"circle",2,o,s,l,u,f)}},{key:"distanceToBorder",value:function(a){return a&&this.resize(a),this.options.size}}]),t}(ShapeBase);function _createSuper$j(e){var r=_isNativeReflectConstruct$j();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$j(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Ellipse=function(e){_inherits(t,e);var r=_createSuper$j(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"resize",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(o,s)){var l=this.getDimensionsFromLabel(a,o,s);this.height=l.height*2,this.width=l.width+l.height,this.radius=.5*this.width}}},{key:"draw",value:function(a,o,s,l,u,f){this.resize(a,l,u),this.left=o-this.width*.5,this.top=s-this.height*.5,this.initContextForDraw(a,f),drawEllipse(a,this.left,this.top,this.width,this.height),this.performFill(a,f),this.updateBoundingBox(o,s,a,l,u),this.labelModule.draw(a,o,s,l,u)}},{key:"distanceToBorder",value:function(a,o){a&&this.resize(a);var s=this.width*.5,l=this.height*.5,u=Math.sin(o)*s,f=Math.cos(o)*l;return s*l/Math.sqrt(u*u+f*f)}}]),t}(NodeBase);function _createSuper$i(e){var r=_isNativeReflectConstruct$i();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$i(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Icon=function(e){_inherits(t,e);var r=_createSuper$i(t);function t(n,a,o){var s;return _classCallCheck(this,t),s=r.call(this,n,a,o),s._setMargins(o),s}return _createClass(t,[{key:"resize",value:function(a,o,s){this.needsRefresh(o,s)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(a,o,s,l,u,f){var d=this;return this.resize(a,l,u),this.options.icon.size=this.options.icon.size||50,this.left=o-this.width/2,this.top=s-this.height/2,this._icon(a,o,s,l,u,f),{drawExternalLabel:function(){if(d.options.label!==void 0){var g=5;d.labelModule.draw(a,d.left+d.iconSize.width/2+d.margin.left,s+d.height/2+g,l)}d.updateBoundingBox(o,s)}}}},{key:"updateBoundingBox",value:function(a,o){if(this.boundingBox.top=o-this.options.icon.size*.5,this.boundingBox.left=a-this.options.icon.size*.5,this.boundingBox.right=a+this.options.icon.size*.5,this.boundingBox.bottom=o+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0){var s=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+s)}}},{key:"_icon",value:function(a,o,s,l,u,f){var d=Number(this.options.icon.size);this.options.icon.code!==void 0?(a.font=[this.options.icon.weight!=null?this.options.icon.weight:l?"bold":"",(this.options.icon.weight!=null&&l?5:0)+d+"px",this.options.icon.face].join(" "),a.fillStyle=this.options.icon.color||"black",a.textAlign="center",a.textBaseline="middle",this.enableShadow(a,f),a.fillText(this.options.icon.code,o,s),this.disableShadow(a,f)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(a,o){return this._distanceToBorder(a,o)}}]),t}(NodeBase);function _createSuper$h(e){var r=_isNativeReflectConstruct$h();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$h(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Image$2=function(e){_inherits(t,e);var r=_createSuper$h(t);function t(n,a,o,s,l){var u;return _classCallCheck(this,t),u=r.call(this,n,a,o),u.setImages(s,l),u}return _createClass(t,[{key:"resize",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,l=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(l){var u=this.options.size*2;this.width=u,this.height=u;return}this.needsRefresh(o,s)&&this._resizeImage()}},{key:"draw",value:function(a,o,s,l,u,f){a.save(),this.switchImages(l),this.resize();var d=o,v=s;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=o,this.top=s,d+=this.width/2,v+=this.height/2):(this.left=o-this.width/2,this.top=s-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){var g=this.options.borderWidth,m=this.options.borderWidthSelected||2*this.options.borderWidth,b=(l?m:g)/this.body.view.scale;a.lineWidth=Math.min(this.width,b),a.beginPath();var E=l?this.options.color.highlight.border:u?this.options.color.hover.border:this.options.color.border,w=l?this.options.color.highlight.background:u?this.options.color.hover.background:this.options.color.background;f.opacity!==void 0&&(E=overrideOpacity(E,f.opacity),w=overrideOpacity(w,f.opacity)),a.strokeStyle=E,a.fillStyle=w,a.rect(this.left-.5*a.lineWidth,this.top-.5*a.lineWidth,this.width+a.lineWidth,this.height+a.lineWidth),fill(a).call(a),this.performStroke(a,f),a.closePath()}this._drawImageAtPosition(a,f),this._drawImageLabel(a,d,v,l,u),this.updateBoundingBox(o,s),a.restore()}},{key:"updateBoundingBox",value:function(a,o){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=a,this.top=o):(this.left=a-this.width/2,this.top=o-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(a,o){return this._distanceToBorder(a,o)}}]),t}(CircleImageBase);function _createSuper$g(e){var r=_isNativeReflectConstruct$g();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$g(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Square=function(e){_inherits(t,e);var r=_createSuper$g(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"draw",value:function(a,o,s,l,u,f){return this._drawShape(a,"square",2,o,s,l,u,f)}},{key:"distanceToBorder",value:function(a,o){return this._distanceToBorder(a,o)}}]),t}(ShapeBase);function _createSuper$f(e){var r=_isNativeReflectConstruct$f();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$f(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Hexagon=function(e){_inherits(t,e);var r=_createSuper$f(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"draw",value:function(a,o,s,l,u,f){return this._drawShape(a,"hexagon",4,o,s,l,u,f)}},{key:"distanceToBorder",value:function(a,o){return this._distanceToBorder(a,o)}}]),t}(ShapeBase);function _createSuper$e(e){var r=_isNativeReflectConstruct$e();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$e(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Star=function(e){_inherits(t,e);var r=_createSuper$e(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"draw",value:function(a,o,s,l,u,f){return this._drawShape(a,"star",4,o,s,l,u,f)}},{key:"distanceToBorder",value:function(a,o){return this._distanceToBorder(a,o)}}]),t}(ShapeBase);function _createSuper$d(e){var r=_isNativeReflectConstruct$d();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$d(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Text=function(e){_inherits(t,e);var r=_createSuper$d(t);function t(n,a,o){var s;return _classCallCheck(this,t),s=r.call(this,n,a,o),s._setMargins(o),s}return _createClass(t,[{key:"resize",value:function(a,o,s){this.needsRefresh(o,s)&&(this.textSize=this.labelModule.getTextSize(a,o,s),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(a,o,s,l,u,f){this.resize(a,l,u),this.left=o-this.width/2,this.top=s-this.height/2,this.enableShadow(a,f),this.labelModule.draw(a,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,l,u),this.disableShadow(a,f),this.updateBoundingBox(o,s,a,l,u)}},{key:"distanceToBorder",value:function(a,o){return this._distanceToBorder(a,o)}}]),t}(NodeBase);function _createSuper$c(e){var r=_isNativeReflectConstruct$c();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$c(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Triangle$1=function(e){_inherits(t,e);var r=_createSuper$c(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"draw",value:function(a,o,s,l,u,f){return this._drawShape(a,"triangle",3,o,s,l,u,f)}},{key:"distanceToBorder",value:function(a,o){return this._distanceToBorder(a,o)}}]),t}(ShapeBase);function _createSuper$b(e){var r=_isNativeReflectConstruct$b();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$b(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var TriangleDown=function(e){_inherits(t,e);var r=_createSuper$b(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"draw",value:function(a,o,s,l,u,f){return this._drawShape(a,"triangleDown",3,o,s,l,u,f)}},{key:"distanceToBorder",value:function(a,o){return this._distanceToBorder(a,o)}}]),t}(ShapeBase);function ownKeys$2(e,r){var t=keys(e);if(getOwnPropertySymbols){var n=getOwnPropertySymbols(e);r&&(n=filter(n).call(n,function(a){return getOwnPropertyDescriptor$2(e,a).enumerable})),t.push.apply(t,n)}return t}function _objectSpread$2(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){var n;forEach$2(n=ownKeys$2(Object(t),!0)).call(n,function(o){_defineProperty(e,o,t[o])})}else if(getOwnPropertyDescriptors)defineProperties(e,getOwnPropertyDescriptors(t));else{var a;forEach$2(a=ownKeys$2(Object(t))).call(a,function(o){defineProperty$5(e,o,getOwnPropertyDescriptor$2(t,o))})}}return e}var Node=function(){function e(r,t,n,a,o,s){_classCallCheck(this,e),this.options=bridgeObject(o),this.globalOptions=o,this.defaultOptions=s,this.body=t,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=a,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Label(this.body,this.options,!1),this.setOptions(r)}return _createClass(e,[{key:"attachEdge",value:function(t){var n;indexOf(n=this.edges).call(n,t)===-1&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var n,a=indexOf(n=this.edges).call(n,t);if(a!=-1){var o;splice(o=this.edges).call(o,a,1)}}},{key:"setOptions",value:function(t){var n=this.options.shape;if(!!t){if(typeof t.color!="undefined"&&(this._localColor=t.color),t.id!==void 0&&(this.id=t.id),this.id===void 0)throw new Error("Node must have an id");e.checkMass(t,this.id),t.x!==void 0&&(t.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=_parseInt(t.x),this.predefinedPosition=!0)),t.y!==void 0&&(t.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=_parseInt(t.y),this.predefinedPosition=!0)),t.size!==void 0&&(this.baseSize=t.size),t.value!==void 0&&(t.value=_parseFloat(t.value)),e.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist);var a=[t,this.options,this.defaultOptions];return this.chooser=choosify("node",a),this._load_images(),this.updateLabelModule(t),t.opacity!==void 0&&e.checkOpacity(t.opacity)&&(this.options.opacity=t.opacity),this.updateShape(n),t.hidden!==void 0||t.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(t,this.options.id,this.selected,this.hover),t.shadow===!1&&(t.shadowColor!==this.options.shadow.color||t.shadowSize!==this.options.shadow.size||t.shadowX!==this.options.shadow.x||t.shadowY!==this.options.shadow.y)&&(t.shadow=!0)):t.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){var n=this.options.opacity;t.borderColor=overrideOpacity(t.borderColor,n),t.color=overrideOpacity(t.color,n),t.shadowColor=overrideOpacity(t.shadowColor,n)}return t}},{key:"updateLabelModule",value:function(t){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),e.updateGroupOptions(this.options,_objectSpread$2(_objectSpread$2({},t),{},{color:t&&t.color||this._localColor||void 0}),this.grouplist);var n=this.grouplist.get(this.options.group,!1),a=[t,this.options,n,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,a),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Box$1(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Circle$1(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new CircularImage(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new CustomShape(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Database(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Diamond$1(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Dot(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new Ellipse(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Icon(this.options,this.body,this.labelModule);break;case"image":this.shape=new Image$2(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Square(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Hexagon(this.options,this.body,this.labelModule);break;case"star":this.shape=new Star(this.options,this.body,this.labelModule);break;case"text":this.shape=new Text(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Triangle$1(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new TriangleDown(this.options,this.body,this.labelModule);break;default:this.shape=new Ellipse(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,n){return this.shape.distanceToBorder(t,n)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,n,a){if(this.options.value!==void 0){var o=this.options.scaling.customScalingFunction(t,n,a,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var l=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+o*l}this.options.size=this.options.scaling.min+o*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var n=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,n)||{}}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var n=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,n)}},{key:"getItemsOnPoint",value:function(t){var n=[];return this.labelModule.visible()&&pointInRect(this.labelModule.getSize(),t)&&n.push({nodeId:this.id,labelId:0}),pointInRect(this.shape.boundingBox,t)&&n.push({nodeId:this.id}),n}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"checkOpacity",value:function(t){return 0<=t&&t<=1}},{key:"checkCoordinateOrigin",value:function(t){return t===void 0||t==="center"||t==="top-left"}},{key:"updateGroupOptions",value:function(t,n,a){var o;if(a!==void 0){var s=t.group;if(n!==void 0&&n.group!==void 0&&s!==n.group)throw new Error("updateGroupOptions: group values in options don't match.");var l=typeof s=="number"||typeof s=="string"&&s!="";if(!!l){var u=a.get(s);u.opacity!==void 0&&n.opacity===void 0&&(e.checkOpacity(u.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+u.opacity),u.opacity=void 0));var f=filter(o=getOwnPropertyNames(n)).call(o,function(d){return n[d]!=null});f.push("font"),selectiveNotDeepExtend(f,t,u),t.color=parseColor(t.color)}}}},{key:"parseOptions",value:function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,l=["color","fixed","shadow"];if(selectiveNotDeepExtend(l,t,n,a),e.checkMass(n),t.opacity!==void 0&&(e.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),n.opacity!==void 0&&(e.checkOpacity(n.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+n.opacity),n.opacity=void 0)),n.shapeProperties&&!e.checkCoordinateOrigin(n.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+n.shapeProperties.coordinateOrigin),mergeOptions(t,n,"shadow",o),n.color!==void 0&&n.color!==null){var u=parseColor(n.color);fillIfDefined(t.color,u)}else a===!0&&n.color===null&&(t.color=bridgeObject(o.color));n.fixed!==void 0&&n.fixed!==null&&(typeof n.fixed=="boolean"?(t.fixed.x=n.fixed,t.fixed.y=n.fixed):(n.fixed.x!==void 0&&typeof n.fixed.x=="boolean"&&(t.fixed.x=n.fixed.x),n.fixed.y!==void 0&&typeof n.fixed.y=="boolean"&&(t.fixed.y=n.fixed.y))),a===!0&&n.font===null&&(t.font=bridgeObject(o.font)),e.updateGroupOptions(t,n,s),n.scaling!==void 0&&mergeOptions(t.scaling,n.scaling,"label",o.scaling)}},{key:"checkMass",value:function(t,n){if(t.mass!==void 0&&t.mass<=0){var a="";n!==void 0&&(a=" in node id: "+n),console.error("%cNegative or zero mass disallowed"+a+", setting mass to 1.",VALIDATOR_PRINT_STYLE$1),t.mass=1}}}]),e}();function _createForOfIteratorHelper$6(e,r){var t=typeof symbol!="undefined"&&getIteratorMethod$1(e)||e["@@iterator"];if(!t){if(isArray$1(e)||(t=_unsupportedIterableToArray$6(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,l;return{s:function(){t=t.call(e)},n:function(){var f=t.next();return o=f.done,f},e:function(f){s=!0,l=f},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function _unsupportedIterableToArray$6(e,r){var t;if(!!e){if(typeof e=="string")return _arrayLikeToArray$6(e,r);var n=slice$1(t=Object.prototype.toString.call(e)).call(t,8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return from$2(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$6(e,r)}}function _arrayLikeToArray$6(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var NodesHandler=function(){function e(r,t,n,a){var o,s=this;if(_classCallCheck(this,e),this.body=r,this.images=t,this.groups=n,this.layoutEngine=a,this.body.functions.createNode=bind$5(o=this.create).call(o,this),this.nodesListeners={add:function(u,f){s.add(f.items)},update:function(u,f){s.update(f.items,f.data,f.oldData)},remove:function(u,f){s.remove(f.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(u,f,d,v){if(f===u)return .5;var g=1/(f-u);return Math.max(0,(v-u)*g)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=bridgeObject(this.defaultOptions),this.bindEventListeners()}return _createClass(e,[{key:"bindEventListeners",value:function(){var t,n,a=this;this.body.emitter.on("refreshNodes",bind$5(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",bind$5(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",function(){forEach$1(a.nodesListeners,function(o,s){a.body.data.nodes&&a.body.data.nodes.off(s,o)}),delete a.body.functions.createNode,delete a.nodesListeners.add,delete a.nodesListeners.update,delete a.nodesListeners.remove,delete a.nodesListeners})}},{key:"setOptions",value:function(t){if(t!==void 0){if(Node.parseOptions(this.options,t),t.opacity!==void 0&&(isNan(t.opacity)||!_isFinite(t.opacity)||t.opacity<0||t.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity):this.options.opacity=t.opacity),t.shape!==void 0)for(var n in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&this.body.nodes[n].updateShape();if(typeof t.font!="undefined"||typeof t.widthConstraint!="undefined"||typeof t.heightConstraint!="undefined")for(var a=0,o=keys(this.body.nodes);a<o.length;a++){var s=o[a];this.body.nodes[s].updateLabelModule(),this.body.nodes[s].needsRefresh()}if(t.size!==void 0)for(var l in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,l)&&this.body.nodes[l].needsRefresh();(t.hidden!==void 0||t.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.body.data.nodes;if(isDataViewLike("id",t))this.body.data.nodes=t;else if(isArray$1(t))this.body.data.nodes=new DataSet,this.body.data.nodes.add(t);else if(!t)this.body.data.nodes=new DataSet;else throw new TypeError("Array or DataSet expected");if(a&&forEach$1(this.nodesListeners,function(l,u){a.off(u,l)}),this.body.nodes={},this.body.data.nodes){var o=this;forEach$1(this.nodesListeners,function(l,u){o.body.data.nodes.on(u,l)});var s=this.body.data.nodes.getIds();this.add(s,!0)}n===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a,o=[],s=0;s<t.length;s++){a=t[s];var l=this.body.data.nodes.get(a),u=this.create(l);o.push(u),this.body.nodes[a]=u}this.layoutEngine.positionInitially(o),n===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,n,a){for(var o=this.body.nodes,s=!1,l=0;l<t.length;l++){var u=t[l],f=o[u],d=n[l];f!==void 0?f.setOptions(d)&&(s=!0):(s=!0,f=this.create(d),o[u]=f)}!s&&a!==void 0&&(s=some(n).call(n,function(v,g){var m=a[g];return m&&m.level!==v.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var n=this.body.nodes,a=0;a<t.length;a++){var o=t[a];delete n[o]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Node;return new n(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;forEach$1(this.body.nodes,function(a,o){var s=t.body.data.nodes.get(o);s!==void 0&&(n===!0&&a.setOptions({x:null,y:null}),a.setOptions({fixed:!1}),a.setOptions(s))})}},{key:"getPositions",value:function(t){var n={};if(t!==void 0){if(isArray$1(t)===!0){for(var a=0;a<t.length;a++)if(this.body.nodes[t[a]]!==void 0){var o=this.body.nodes[t[a]];n[t[a]]={x:Math.round(o.x),y:Math.round(o.y)}}}else if(this.body.nodes[t]!==void 0){var s=this.body.nodes[t];n[t]={x:Math.round(s.x),y:Math.round(s.y)}}}else for(var l=0;l<this.body.nodeIndices.length;l++){var u=this.body.nodes[this.body.nodeIndices[l]];n[this.body.nodeIndices[l]]={x:Math.round(u.x),y:Math.round(u.y)}}return n}},{key:"getPosition",value:function(t){if(t==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[t]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(t));return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)}}},{key:"storePositions",value:function(){var t=[],n=this.body.data.nodes.getDataSet(),a=_createForOfIteratorHelper$6(n.get()),o;try{for(a.s();!(o=a.n()).done;){var s=o.value,l=s.id,u=this.body.nodes[l],f=Math.round(u.x),d=Math.round(u.y);(s.x!==f||s.y!==d)&&t.push({id:l,x:f,y:d})}}catch(v){a.e(v)}finally{a.f()}n.update(t)}},{key:"getBoundingBox",value:function(t){if(this.body.nodes[t]!==void 0)return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,n){var a=[];if(this.body.nodes[t]!==void 0)for(var o=this.body.nodes[t],s={},l=0;l<o.edges.length;l++){var u=o.edges[l];n!=="to"&&u.toId==o.id?s[u.fromId]===void 0&&(a.push(u.fromId),s[u.fromId]=!0):n!=="from"&&u.fromId==o.id&&s[u.toId]===void 0&&(a.push(u.toId),s[u.toId]=!0)}return a}},{key:"getConnectedEdges",value:function(t){var n=[];if(this.body.nodes[t]!==void 0)for(var a=this.body.nodes[t],o=0;o<a.edges.length;o++)n.push(a.edges[o].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return n}},{key:"moveNode",value:function(t,n,a){var o=this;this.body.nodes[t]!==void 0?(this.body.nodes[t].x=Number(n),this.body.nodes[t].y=Number(a),setTimeout$1(function(){o.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",t)}}]),e}(),$$4=_export,isObject$2=isObject$j,anObject$1=anObject$c,has=has$c,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,getPrototypeOf=objectGetPrototypeOf;function get$4(e,r){var t=arguments.length<3?e:arguments[2],n,a;if(anObject$1(e)===t)return e[r];if(n=getOwnPropertyDescriptorModule.f(e,r))return has(n,"value")?n.value:n.get===void 0?void 0:n.get.call(t);if(isObject$2(a=getPrototypeOf(e)))return get$4(a,r,t)}$$4({target:"Reflect",stat:!0},{get:get$4});var path$4=path$x,get$3=path$4.Reflect.get,parent$8=get$3,get$2=parent$8,parent$7=get$2,get$1=parent$7,get=get$1,parent$6=getOwnPropertyDescriptor$3,getOwnPropertyDescriptor$1=parent$6,getOwnPropertyDescriptor=getOwnPropertyDescriptor$1;function _superPropBase(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=_getPrototypeOf(e),e!==null););return e}function _get(e,r,t){return typeof Reflect!="undefined"&&get?_get=get:_get=function(a,o,s){var l=_superPropBase(a,o);if(!!l){var u=getOwnPropertyDescriptor(l,o);return u.get?u.get.call(s):u.value}},_get(e,r,t||e)}var $$3=_export,$hypot=Math.hypot,abs=Math.abs,sqrt=Math.sqrt,BUGGY=!!$hypot&&$hypot(1/0,NaN)!==1/0;$$3({target:"Math",stat:!0,forced:BUGGY},{hypot:function e(r,t){for(var n=0,a=0,o=arguments.length,s=0,l,u;a<o;)l=abs(arguments[a++]),s<l?(u=s/l,n=n*u*u+1,s=l):l>0?(u=l/s,n+=u*u):n+=l;return s===1/0?1/0:s*sqrt(n)}});var path$3=path$x,hypot$2=path$3.Math.hypot,parent$5=hypot$2,hypot$1=parent$5,hypot=hypot$1;function _createSuper$a(e){var r=_isNativeReflectConstruct$a();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$a(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var EndPoint=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"transform",value:function(t,n){isArray$1(t)||(t=[t]);for(var a=n.point.x,o=n.point.y,s=n.angle,l=n.length,u=0;u<t.length;++u){var f=t[u],d=f.x*Math.cos(s)-f.y*Math.sin(s),v=f.x*Math.sin(s)+f.y*Math.cos(s);f.x=a+l*d,f.y=o+l*v}}},{key:"drawPath",value:function(t,n){t.beginPath(),t.moveTo(n[0].x,n[0].y);for(var a=1;a<n.length;++a)t.lineTo(n[a].x,n[a].y);t.closePath()}}]),e}(),Image$1=function(e){_inherits(t,e);var r=_createSuper$a(t);function t(){return _classCallCheck(this,t),r.apply(this,arguments)}return _createClass(t,null,[{key:"draw",value:function(a,o){if(o.image){a.save(),a.translate(o.point.x,o.point.y),a.rotate(Math.PI/2+o.angle);var s=o.imageWidth!=null?o.imageWidth:o.image.width,l=o.imageHeight!=null?o.imageHeight:o.image.height;o.image.drawImageAtPosition(a,1,-s/2,0,s,l),a.restore()}return!1}}]),t}(EndPoint),Arrow=function(e){_inherits(t,e);var r=_createSuper$a(t);function t(){return _classCallCheck(this,t),r.apply(this,arguments)}return _createClass(t,null,[{key:"draw",value:function(a,o){var s=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return EndPoint.transform(s,o),EndPoint.drawPath(a,s),!0}}]),t}(EndPoint),Crow=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"draw",value:function(t,n){var a=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return EndPoint.transform(a,n),EndPoint.drawPath(t,a),!0}}]),e}(),Curve=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"draw",value:function(t,n){var a={x:-.4,y:0};EndPoint.transform(a,n),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var o=Math.PI,s=n.angle-o/2,l=n.angle+o/2;return t.beginPath(),t.arc(a.x,a.y,n.length*.4,s,l,!1),t.stroke(),!0}}]),e}(),InvertedCurve=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"draw",value:function(t,n){var a={x:-.3,y:0};EndPoint.transform(a,n),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var o=Math.PI,s=n.angle+o/2,l=n.angle+3*o/2;return t.beginPath(),t.arc(a.x,a.y,n.length*.4,s,l,!1),t.stroke(),!0}}]),e}(),Triangle=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"draw",value:function(t,n){var a=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return EndPoint.transform(a,n),EndPoint.drawPath(t,a),!0}}]),e}(),InvertedTriangle=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"draw",value:function(t,n){var a=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return EndPoint.transform(a,n),EndPoint.drawPath(t,a),!0}}]),e}(),Circle=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"draw",value:function(t,n){var a={x:-.4,y:0};return EndPoint.transform(a,n),drawCircle(t,a.x,a.y,n.length*.4),!0}}]),e}(),Bar=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"draw",value:function(t,n){var a=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return EndPoint.transform(a,n),EndPoint.drawPath(t,a),!0}}]),e}(),Box=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"draw",value:function(t,n){var a=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return EndPoint.transform(a,n),EndPoint.drawPath(t,a),!0}}]),e}(),Diamond=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"draw",value:function(t,n){var a=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return EndPoint.transform(a,n),EndPoint.drawPath(t,a),!0}}]),e}(),Vee=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"draw",value:function(t,n){var a=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return EndPoint.transform(a,n),EndPoint.drawPath(t,a),!0}}]),e}(),EndPoints=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"draw",value:function(t,n){var a;switch(n.type&&(a=n.type.toLowerCase()),a){case"image":return Image$1.draw(t,n);case"circle":return Circle.draw(t,n);case"box":return Box.draw(t,n);case"crow":return Crow.draw(t,n);case"curve":return Curve.draw(t,n);case"diamond":return Diamond.draw(t,n);case"inv_curve":return InvertedCurve.draw(t,n);case"triangle":return Triangle.draw(t,n);case"inv_triangle":return InvertedTriangle.draw(t,n);case"bar":return Bar.draw(t,n);case"vee":return Vee.draw(t,n);case"arrow":default:return Arrow.draw(t,n)}}}]),e}();function ownKeys$1(e,r){var t=keys(e);if(getOwnPropertySymbols){var n=getOwnPropertySymbols(e);r&&(n=filter(n).call(n,function(a){return getOwnPropertyDescriptor$2(e,a).enumerable})),t.push.apply(t,n)}return t}function _objectSpread$1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){var n;forEach$2(n=ownKeys$1(Object(t),!0)).call(n,function(o){_defineProperty(e,o,t[o])})}else if(getOwnPropertyDescriptors)defineProperties(e,getOwnPropertyDescriptors(t));else{var a;forEach$2(a=ownKeys$1(Object(t))).call(a,function(o){defineProperty$5(e,o,getOwnPropertyDescriptor$2(t,o))})}}return e}var EdgeBase=function(){function e(r,t,n){_classCallCheck(this,e),this._body=t,this._labelModule=n,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(r),this.fromPoint=this.from,this.toPoint=this.to}return _createClass(e,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,n,a,o){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,n),t.lineWidth=n.width,n.dashes!==!1?this._drawDashedLine(t,n,s):this._drawLine(t,n,s)}},{key:"_drawLine",value:function(t,n,a,o,s){if(this.from!=this.to)this._line(t,n,a,o,s);else{var l=this._getCircleData(t),u=_slicedToArray(l,3),f=u[0],d=u[1],v=u[2];this._circle(t,n,f,d,v)}}},{key:"_drawDashedLine",value:function(t,n,a,o,s){t.lineCap="round";var l=isArray$1(n.dashes)?n.dashes:[5,5];if(t.setLineDash!==void 0){if(t.save(),t.setLineDash(l),t.lineDashOffset=0,this.from!=this.to)this._line(t,n,a);else{var u=this._getCircleData(t),f=_slicedToArray(u,3),d=f[0],v=f[1],g=f[2];this._circle(t,n,d,v,g)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)drawDashedLine(t,this.from.x,this.from.y,this.to.x,this.to.y,l);else{var m=this._getCircleData(t),b=_slicedToArray(m,3),E=b[0],w=b[1],_=b[2];this._circle(t,n,E,w,_)}this.enableShadow(t,n),t.stroke(),this.disableShadow(t,n)}}},{key:"findBorderPosition",value:function(t,n,a){return this.from!=this.to?this._findBorderPosition(t,n,a):this._findBorderPositionCircle(t,n,a)}},{key:"findBorderPositions",value:function(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};var n,a=slice$1(n=this._getCircleData(t)).call(n,0,2),o=_slicedToArray(a,2),s=o[0],l=o[1];return{from:this._findBorderPositionCircle(this.from,t,{x:s,y:l,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:s,y:l,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(t){var n=this.options.selfReference.size;t!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(t);var a=getSelfRefCoordinates(t,this.options.selfReference.angle,n,this.from);return[a.x,a.y,n]}},{key:"_pointOnCircle",value:function(t,n,a,o){var s=o*2*Math.PI;return{x:t+a*Math.cos(s),y:n-a*Math.sin(s)}}},{key:"_findBorderPositionCircle",value:function(t,n,a){var o=a.x,s=a.y,l=a.low,u=a.high,f=a.direction,d=10,v=this.options.selfReference.size,g=.05,m,b=(l+u)*.5,E=0;this.options.arrowStrikethrough===!0&&(f===-1?E=this.options.endPointOffset.from:f===1&&(E=this.options.endPointOffset.to));var w=0;do{b=(l+u)*.5,m=this._pointOnCircle(o,s,v,b);var _=Math.atan2(t.y-m.y,t.x-m.x),O=t.distanceToBorder(n,_)+E,S=Math.sqrt(Math.pow(m.x-t.x,2)+Math.pow(m.y-t.y,2)),T=O-S;if(Math.abs(T)<g)break;T>0?f>0?l=b:u=b:f>0?u=b:l=b,++w}while(l<=u&&w<d);return _objectSpread$1(_objectSpread$1({},m),{},{t:b})}},{key:"getLineWidth",value:function(t,n){return t===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):n===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(t,n){if(n.inheritsColor!==!1){if(n.inheritsColor==="both"&&this.from.id!==this.to.id){var a=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),o=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(o=overrideOpacity(this.from.options.color.border,n.opacity),s=overrideOpacity(this.to.options.color.border,n.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(o=this.from.options.color.border),a.addColorStop(0,o),a.addColorStop(1,s),a}return n.inheritsColor==="to"?overrideOpacity(this.to.options.color.border,n.opacity):overrideOpacity(this.from.options.color.border,n.opacity)}else return overrideOpacity(n.color,n.opacity)}},{key:"_circle",value:function(t,n,a,o,s){this.enableShadow(t,n);var l=0,u=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){var f=this.options.selfReference.angle,d=this.options.selfReference.angle+Math.PI,v=this._findBorderPositionCircle(this.from,t,{x:a,y:o,low:f,high:d,direction:-1}),g=this._findBorderPositionCircle(this.from,t,{x:a,y:o,low:f,high:d,direction:1});l=Math.atan2(v.y-o,v.x-a),u=Math.atan2(g.y-o,g.x-a)}t.beginPath(),t.arc(a,o,s,l,u,!1),t.stroke(),this.disableShadow(t,n)}},{key:"getDistanceToEdge",value:function(t,n,a,o,s,l){if(this.from!=this.to)return this._getDistanceToEdge(t,n,a,o,s,l);var u=this._getCircleData(void 0),f=_slicedToArray(u,3),d=f[0],v=f[1],g=f[2],m=d-s,b=v-l;return Math.abs(Math.sqrt(m*m+b*b)-g)}},{key:"_getDistanceToLine",value:function(t,n,a,o,s,l){var u=a-t,f=o-n,d=u*u+f*f,v=((s-t)*u+(l-n)*f)/d;v>1?v=1:v<0&&(v=0);var g=t+v*u,m=n+v*f,b=g-s,E=m-l;return Math.sqrt(b*b+E*E)}},{key:"getArrowData",value:function(t,n,a,o,s,l){var u,f,d,v,g,m,b,E=l.width;n==="from"?(d=this.from,v=this.to,g=l.fromArrowScale<0,m=Math.abs(l.fromArrowScale),b=l.fromArrowType):n==="to"?(d=this.to,v=this.from,g=l.toArrowScale<0,m=Math.abs(l.toArrowScale),b=l.toArrowType):(d=this.to,v=this.from,g=l.middleArrowScale<0,m=Math.abs(l.middleArrowScale),b=l.middleArrowType);var w=15*m+3*E;if(d!=v){var _=hypot(d.x-v.x,d.y-v.y),O=w/_;if(n!=="middle")if(this.options.smooth.enabled===!0){var S=this._findBorderPosition(d,t,{via:a}),T=this.getPoint(S.t+O*(n==="from"?1:-1),a);u=Math.atan2(S.y-T.y,S.x-T.x),f=S}else u=Math.atan2(d.y-v.y,d.x-v.x),f=this._findBorderPosition(d,t);else{var I=(g?-O:O)/2,k=this.getPoint(.5+I,a),N=this.getPoint(.5-I,a);u=Math.atan2(k.y-N.y,k.x-N.x),f=this.getPoint(.5,a)}}else{var R=this._getCircleData(t),C=_slicedToArray(R,3),A=C[0],F=C[1],D=C[2];if(n==="from"){var B=this.options.selfReference.angle,Z=this.options.selfReference.angle+Math.PI,ie=this._findBorderPositionCircle(this.from,t,{x:A,y:F,low:B,high:Z,direction:-1});u=ie.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,f=ie}else if(n==="to"){var te=this.options.selfReference.angle,ee=this.options.selfReference.angle+Math.PI,j=this._findBorderPositionCircle(this.from,t,{x:A,y:F,low:te,high:ee,direction:1});u=j.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,f=j}else{var L=this.options.selfReference.angle/(2*Math.PI);f=this._pointOnCircle(A,F,D,L),u=L*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}var G=f.x-w*.9*Math.cos(u),Q=f.y-w*.9*Math.sin(u),Y={x:G,y:Q};return{point:f,core:Y,angle:u,length:w,type:b}}},{key:"drawArrowHead",value:function(t,n,a,o,s){t.strokeStyle=this.getColor(t,n),t.fillStyle=t.strokeStyle,t.lineWidth=n.width;var l=EndPoints.draw(t,s);l&&(this.enableShadow(t,n),fill(t).call(t),this.disableShadow(t,n))}},{key:"enableShadow",value:function(t,n){n.shadow===!0&&(t.shadowColor=n.shadowColor,t.shadowBlur=n.shadowSize,t.shadowOffsetX=n.shadowX,t.shadowOffsetY=n.shadowY)}},{key:"disableShadow",value:function(t,n){n.shadow===!0&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"drawBackground",value:function(t,n){if(n.background!==!1){var a={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=n.backgroundColor,t.lineWidth=n.backgroundSize,this.setStrokeDashed(t,n.backgroundDashes),t.stroke(),t.strokeStyle=a.strokeStyle,t.lineWidth=a.lineWidth,t.dashes=a.dashes,this.setStrokeDashed(t,n.dashes)}}},{key:"setStrokeDashed",value:function(t,n){if(n!==!1)if(t.setLineDash!==void 0){var a=isArray$1(n)?n:[5,5];t.setLineDash(a)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else t.setLineDash!==void 0?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),e}();function ownKeys(e,r){var t=keys(e);if(getOwnPropertySymbols){var n=getOwnPropertySymbols(e);r&&(n=filter(n).call(n,function(a){return getOwnPropertyDescriptor$2(e,a).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){var n;forEach$2(n=ownKeys(Object(t),!0)).call(n,function(o){_defineProperty(e,o,t[o])})}else if(getOwnPropertyDescriptors)defineProperties(e,getOwnPropertyDescriptors(t));else{var a;forEach$2(a=ownKeys(Object(t))).call(a,function(o){defineProperty$5(e,o,getOwnPropertyDescriptor$2(t,o))})}}return e}function _createSuper$9(e){var r=_isNativeReflectConstruct$9();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$9(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var BezierEdgeBase=function(e){_inherits(t,e);var r=_createSuper$9(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"_findBorderPositionBezier",value:function(a,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),l=10,u=.2,f=!1,d=1,v=0,g=this.to,m,b,E=this.options.endPointOffset?this.options.endPointOffset.to:0;a.id===this.from.id&&(g=this.from,f=!0,E=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(E=0);var w=0;do{b=(v+d)*.5,m=this.getPoint(b,s);var _=Math.atan2(g.y-m.y,g.x-m.x),O=g.distanceToBorder(o,_)+E,S=Math.sqrt(Math.pow(m.x-g.x,2)+Math.pow(m.y-g.y,2)),T=O-S;if(Math.abs(T)<u)break;T<0?f===!1?v=b:d=b:f===!1?d=b:v=b,++w}while(v<=d&&w<l);return _objectSpread(_objectSpread({},m),{},{t:b})}},{key:"_getDistanceToBezierEdge",value:function(a,o,s,l,u,f,d){var v=1e9,g,m,b,E,w,_=a,O=o;for(m=1;m<10;m++)b=.1*m,E=Math.pow(1-b,2)*a+2*b*(1-b)*d.x+Math.pow(b,2)*s,w=Math.pow(1-b,2)*o+2*b*(1-b)*d.y+Math.pow(b,2)*l,m>0&&(g=this._getDistanceToLine(_,O,E,w,u,f),v=g<v?g:v),_=E,O=w;return v}},{key:"_bezierCurve",value:function(a,o,s,l){a.beginPath(),a.moveTo(this.fromPoint.x,this.fromPoint.y),s!=null&&s.x!=null?l!=null&&l.x!=null?a.bezierCurveTo(s.x,s.y,l.x,l.y,this.toPoint.x,this.toPoint.y):a.quadraticCurveTo(s.x,s.y,this.toPoint.x,this.toPoint.y):a.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(a,o),this.enableShadow(a,o),a.stroke(),this.disableShadow(a,o)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),t}(EdgeBase);function _createSuper$8(e){var r=_isNativeReflectConstruct$8();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$8(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var BezierEdgeDynamic=function(e){_inherits(t,e);var r=_createSuper$8(t);function t(n,a,o){var s;return _classCallCheck(this,t),s=r.call(this,n,a,o),s.via=s.via,s._boundFunction=function(){s.positionBezierNode()},s._body.emitter.on("_repositionBezierNodes",s._boundFunction),s}return _createClass(t,[{key:"setOptions",value:function(a){_get(_getPrototypeOf(t.prototype),"setOptions",this).call(this,a);var o=!1;this.options.physics!==a.physics&&(o=!0),this.options=a,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),o===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var a="edgeId:"+this.id,o=this._body.functions.createNode({id:a,shape:"circle",physics:!0,hidden:!0});this._body.nodes[a]=o,this.via=o,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(a,o,s){this._bezierCurve(a,o,s)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var s=this._getCircleData(),l=_slicedToArray(s,3),u=l[0],f=l[1],d=l[2],v=2*Math.PI*(1-a);return{x:u+d*Math.sin(v),y:f+d-d*(1-Math.cos(v))}}else return{x:Math.pow(1-a,2)*this.fromPoint.x+2*a*(1-a)*o.x+Math.pow(a,2)*this.toPoint.x,y:Math.pow(1-a,2)*this.fromPoint.y+2*a*(1-a)*o.y+Math.pow(a,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(a,o){return this._findBorderPositionBezier(a,o,this.via)}},{key:"_getDistanceToEdge",value:function(a,o,s,l,u,f){return this._getDistanceToBezierEdge(a,o,s,l,u,f,this.via)}}]),t}(BezierEdgeBase);function _createSuper$7(e){var r=_isNativeReflectConstruct$7();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$7(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var BezierEdgeStatic=function(e){_inherits(t,e);var r=_createSuper$7(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"_line",value:function(a,o,s){this._bezierCurve(a,o,s)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var a=this.options.smooth.roundness,o=this.options.smooth.type,s=Math.abs(this.from.x-this.to.x),l=Math.abs(this.from.y-this.to.y);if(o==="discrete"||o==="diagonalCross"){var u,f;s<=l?u=f=a*l:u=f=a*s,this.from.x>this.to.x&&(u=-u),this.from.y>=this.to.y&&(f=-f);var d=this.from.x+u,v=this.from.y+f;return o==="discrete"&&(s<=l?d=s<a*l?this.from.x:d:v=l<a*s?this.from.y:v),{x:d,y:v}}else if(o==="straightCross"){var g=(1-a)*s,m=(1-a)*l;return s<=l?(g=0,this.from.y<this.to.y&&(m=-m)):(this.from.x<this.to.x&&(g=-g),m=0),{x:this.to.x+g,y:this.to.y+m}}else if(o==="horizontal"){var b=(1-a)*s;return this.from.x<this.to.x&&(b=-b),{x:this.to.x+b,y:this.from.y}}else if(o==="vertical"){var E=(1-a)*l;return this.from.y<this.to.y&&(E=-E),{x:this.from.x,y:this.to.y+E}}else if(o==="curvedCW"){s=this.to.x-this.from.x,l=this.from.y-this.to.y;var w=Math.sqrt(s*s+l*l),_=Math.PI,O=Math.atan2(l,s),S=(O+(a*.5+.5)*_)%(2*_);return{x:this.from.x+(a*.5+.5)*w*Math.sin(S),y:this.from.y+(a*.5+.5)*w*Math.cos(S)}}else if(o==="curvedCCW"){s=this.to.x-this.from.x,l=this.from.y-this.to.y;var T=Math.sqrt(s*s+l*l),I=Math.PI,k=Math.atan2(l,s),N=(k+(-a*.5+.5)*I)%(2*I);return{x:this.from.x+(a*.5+.5)*T*Math.sin(N),y:this.from.y+(a*.5+.5)*T*Math.cos(N)}}else{var R,C;s<=l?R=C=a*l:R=C=a*s,this.from.x>this.to.x&&(R=-R),this.from.y>=this.to.y&&(C=-C);var A=this.from.x+R,F=this.from.y+C;return s<=l?this.from.x<=this.to.x?A=this.to.x<A?this.to.x:A:A=this.to.x>A?this.to.x:A:this.from.y>=this.to.y?F=this.to.y>F?this.to.y:F:F=this.to.y<F?this.to.y:F,{x:A,y:F}}}},{key:"_findBorderPosition",value:function(a,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(a,o,s.via)}},{key:"_getDistanceToEdge",value:function(a,o,s,l,u,f){var d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(a,o,s,l,u,f,d)}},{key:"getPoint",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),s=a,l=Math.pow(1-s,2)*this.fromPoint.x+2*s*(1-s)*o.x+Math.pow(s,2)*this.toPoint.x,u=Math.pow(1-s,2)*this.fromPoint.y+2*s*(1-s)*o.y+Math.pow(s,2)*this.toPoint.y;return{x:l,y:u}}}]),t}(BezierEdgeBase);function _createSuper$6(e){var r=_isNativeReflectConstruct$6();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$6(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CubicBezierEdgeBase=function(e){_inherits(t,e);var r=_createSuper$6(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"_getDistanceToBezierEdge2",value:function(a,o,s,l,u,f,d,v){for(var g=1e9,m=a,b=o,E=[0,0,0,0],w=1;w<10;w++){var _=.1*w;E[0]=Math.pow(1-_,3),E[1]=3*_*Math.pow(1-_,2),E[2]=3*Math.pow(_,2)*(1-_),E[3]=Math.pow(_,3);var O=E[0]*a+E[1]*d.x+E[2]*v.x+E[3]*s,S=E[0]*o+E[1]*d.y+E[2]*v.y+E[3]*l;if(w>0){var T=this._getDistanceToLine(m,b,O,S,u,f);g=T<g?T:g}m=O,b=S}return g}}]),t}(BezierEdgeBase);function _createSuper$5(e){var r=_isNativeReflectConstruct$5();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$5(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CubicBezierEdge=function(e){_inherits(t,e);var r=_createSuper$5(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"_line",value:function(a,o,s){var l=s[0],u=s[1];this._bezierCurve(a,o,l,u)}},{key:"_getViaCoordinates",value:function(){var a=this.from.x-this.to.x,o=this.from.y-this.to.y,s,l,u,f,d=this.options.smooth.roundness;return(Math.abs(a)>Math.abs(o)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(l=this.from.y,f=this.to.y,s=this.from.x-d*a,u=this.to.x+d*a):(l=this.from.y-d*o,f=this.to.y+d*o,s=this.from.x,u=this.to.x),[{x:s,y:l},{x:u,y:f}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(a,o){return this._findBorderPositionBezier(a,o)}},{key:"_getDistanceToEdge",value:function(a,o,s,l,u,f){var d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),v=_slicedToArray(d,2),g=v[0],m=v[1];return this._getDistanceToBezierEdge2(a,o,s,l,u,f,g,m)}},{key:"getPoint",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),s=_slicedToArray(o,2),l=s[0],u=s[1],f=a,d=[Math.pow(1-f,3),3*f*Math.pow(1-f,2),3*Math.pow(f,2)*(1-f),Math.pow(f,3)],v=d[0]*this.fromPoint.x+d[1]*l.x+d[2]*u.x+d[3]*this.toPoint.x,g=d[0]*this.fromPoint.y+d[1]*l.y+d[2]*u.y+d[3]*this.toPoint.y;return{x:v,y:g}}}]),t}(CubicBezierEdgeBase);function _createSuper$4(e){var r=_isNativeReflectConstruct$4();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$4(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var StraightEdge=function(e){_inherits(t,e);var r=_createSuper$4(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"_line",value:function(a,o){a.beginPath(),a.moveTo(this.fromPoint.x,this.fromPoint.y),a.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(a,o),a.stroke(),this.disableShadow(a,o)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(a){return{x:(1-a)*this.fromPoint.x+a*this.toPoint.x,y:(1-a)*this.fromPoint.y+a*this.toPoint.y}}},{key:"_findBorderPosition",value:function(a,o){var s=this.to,l=this.from;a.id===this.from.id&&(s=this.from,l=this.to);var u=Math.atan2(s.y-l.y,s.x-l.x),f=s.x-l.x,d=s.y-l.y,v=Math.sqrt(f*f+d*d),g=a.distanceToBorder(o,u),m=(v-g)/v;return{x:(1-m)*l.x+m*s.x,y:(1-m)*l.y+m*s.y,t:0}}},{key:"_getDistanceToEdge",value:function(a,o,s,l,u,f){return this._getDistanceToLine(a,o,s,l,u,f)}}]),t}(EdgeBase),Edge=function(){function e(r,t,n,a,o){if(_classCallCheck(this,e),t===void 0)throw new Error("No body provided");this.options=bridgeObject(a),this.globalOptions=a,this.defaultOptions=o,this.body=t,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Label(this.body,this.options,!0),this.setOptions(r)}return _createClass(e,[{key:"setOptions",value:function(t){if(!!t){var n=typeof t.physics!="undefined"&&this.options.physics!==t.physics||typeof t.hidden!="undefined"&&(this.options.hidden||!1)!==(t.hidden||!1)||typeof t.from!="undefined"&&this.options.from!==t.from||typeof t.to!="undefined"&&this.options.to!==t.to;e.parseOptions(this.options,t,!0,this.globalOptions),t.id!==void 0&&(this.id=t.id),t.from!==void 0&&(this.fromId=t.from),t.to!==void 0&&(this.toId=t.to),t.title!==void 0&&(this.title=t.title),t.value!==void 0&&(t.value=_parseFloat(t.value));var a=[t,this.options,this.defaultOptions];return this.chooser=choosify("edge",a),this.updateLabelModule(t),n=this.updateEdgeType()||n,this._setInteractionWidths(),this.connect(),n}}},{key:"getFormattingValues",value:function(){var t=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,n=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,a=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,o=this.options.color.inherit,s={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:a,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:n,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:o?void 0:this.options.color.color,inheritsColor:o,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var l=this.options.selectionWidth;typeof l=="function"?s.width=l(s.width):typeof l=="number"&&(s.width+=l),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){var u=this.options.hoverWidth;typeof u=="function"?s.width=u(s.width):typeof u=="number"&&(s.width+=u),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}},{key:"updateLabelModule",value:function(t){var n=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,n=!1,a=!0;return this.edgeType!==void 0&&((this.edgeType instanceof BezierEdgeDynamic&&t.enabled===!0&&t.type==="dynamic"||this.edgeType instanceof CubicBezierEdge&&t.enabled===!0&&t.type==="cubicBezier"||this.edgeType instanceof BezierEdgeStatic&&t.enabled===!0&&t.type!=="dynamic"&&t.type!=="cubicBezier"||this.edgeType instanceof StraightEdge&&t.type.enabled===!1)&&(a=!1),a===!0&&(n=this.cleanup())),a===!0?t.enabled===!0?t.type==="dynamic"?(n=!0,this.edgeType=new BezierEdgeDynamic(this.options,this.body,this.labelModule)):t.type==="cubicBezier"?this.edgeType=new CubicBezierEdge(this.options,this.body,this.labelModule):this.edgeType=new BezierEdgeStatic(this.options,this.body,this.labelModule):this.edgeType=new StraightEdge(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),n}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,n,a){if(this.options.value!==void 0){var o=this.options.scaling.customScalingFunction(t,n,a,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var l=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+o*l}this.options.width=this.options.scaling.min+o*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var n=this.getFormattingValues();if(!n.hidden){var a=this.edgeType.getViaNode();this.edgeType.drawLine(t,n,this.selected,this.hover,a),this.drawLabel(t,a)}}},{key:"drawArrows",value:function(t){var n=this.getFormattingValues();if(!n.hidden){var a=this.edgeType.getViaNode(),o={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,n.fromArrow&&(o.from=this.edgeType.getArrowData(t,"from",a,this.selected,this.hover,n),n.arrowStrikethrough===!1&&(this.edgeType.fromPoint=o.from.core),n.fromArrowSrc&&(o.from.image=this.imagelist.load(n.fromArrowSrc)),n.fromArrowImageWidth&&(o.from.imageWidth=n.fromArrowImageWidth),n.fromArrowImageHeight&&(o.from.imageHeight=n.fromArrowImageHeight)),n.toArrow&&(o.to=this.edgeType.getArrowData(t,"to",a,this.selected,this.hover,n),n.arrowStrikethrough===!1&&(this.edgeType.toPoint=o.to.core),n.toArrowSrc&&(o.to.image=this.imagelist.load(n.toArrowSrc)),n.toArrowImageWidth&&(o.to.imageWidth=n.toArrowImageWidth),n.toArrowImageHeight&&(o.to.imageHeight=n.toArrowImageHeight)),n.middleArrow&&(o.middle=this.edgeType.getArrowData(t,"middle",a,this.selected,this.hover,n),n.middleArrowSrc&&(o.middle.image=this.imagelist.load(n.middleArrowSrc)),n.middleArrowImageWidth&&(o.middle.imageWidth=n.middleArrowImageWidth),n.middleArrowImageHeight&&(o.middle.imageHeight=n.middleArrowImageHeight)),n.fromArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,o.from),n.middleArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,o.middle),n.toArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,o.to)}}},{key:"drawLabel",value:function(t,n){if(this.options.label!==void 0){var a=this.from,o=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover);var s;if(a.id!=o.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,n),t.save();var l=this._getRotation(t);l.angle!=0&&(t.translate(l.x,l.y),t.rotate(l.angle)),this.labelModule.draw(t,s.x,s.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var u=getSelfRefCoordinates(t,this.options.selfReference.angle,this.options.selfReference.size,a);s=this._pointOnCircle(u.x,u.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,s.x,s.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var n=[];if(this.labelModule.visible()){var a=this._getRotation();pointInRect(this.labelModule.getSize(),t,a)&&n.push({edgeId:this.id,labelId:0})}var o={left:t.x,top:t.y};return this.isOverlappingWith(o)&&n.push({edgeId:this.id}),n}},{key:"isOverlappingWith",value:function(t){if(this.connected){var n=10,a=this.from.x,o=this.from.y,s=this.to.x,l=this.to.y,u=t.left,f=t.top,d=this.edgeType.getDistanceToEdge(a,o,s,l,u,f);return d<n}else return!1}},{key:"_getRotation",value:function(t){var n=this.edgeType.getViaNode(),a=this.edgeType.getPoint(.5,n);t!==void 0&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,a.x,a.y);var o={x:a.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return o;var s=this.from.y-this.to.y,l=this.from.x-this.to.x,u=Math.atan2(s,l);return(u<-1&&l<0||u>0&&l<0)&&(u+=Math.PI),o.angle=u,o}},{key:"_pointOnCircle",value:function(t,n,a,o){return{x:t+a*Math.cos(o),y:n-a*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,l=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(selectiveDeepExtend(l,t,n,a),n.endPointOffset!==void 0&&n.endPointOffset.from!==void 0&&(_isFinite(n.endPointOffset.from)?t.endPointOffset.from=n.endPointOffset.from:(t.endPointOffset.from=o.endPointOffset.from!==void 0?o.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),n.endPointOffset!==void 0&&n.endPointOffset.to!==void 0&&(_isFinite(n.endPointOffset.to)?t.endPointOffset.to=n.endPointOffset.to:(t.endPointOffset.to=o.endPointOffset.to!==void 0?o.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),isValidLabel(n.label)?t.label=n.label:isValidLabel(t.label)||(t.label=void 0),mergeOptions(t,n,"smooth",o),mergeOptions(t,n,"shadow",o),mergeOptions(t,n,"background",o),n.dashes!==void 0&&n.dashes!==null?t.dashes=n.dashes:a===!0&&n.dashes===null&&(t.dashes=create$4(o.dashes)),n.scaling!==void 0&&n.scaling!==null?(n.scaling.min!==void 0&&(t.scaling.min=n.scaling.min),n.scaling.max!==void 0&&(t.scaling.max=n.scaling.max),mergeOptions(t.scaling,n.scaling,"label",o.scaling)):a===!0&&n.scaling===null&&(t.scaling=create$4(o.scaling)),n.arrows!==void 0&&n.arrows!==null)if(typeof n.arrows=="string"){var u=n.arrows.toLowerCase();t.arrows.to.enabled=indexOf(u).call(u,"to")!=-1,t.arrows.middle.enabled=indexOf(u).call(u,"middle")!=-1,t.arrows.from.enabled=indexOf(u).call(u,"from")!=-1}else if(_typeof(n.arrows)==="object")mergeOptions(t.arrows,n.arrows,"to",o.arrows),mergeOptions(t.arrows,n.arrows,"middle",o.arrows),mergeOptions(t.arrows,n.arrows,"from",o.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+stringify$1(n.arrows));else a===!0&&n.arrows===null&&(t.arrows=create$4(o.arrows));if(n.color!==void 0&&n.color!==null){var f=isString(n.color)?{color:n.color,highlight:n.color,hover:n.color,inherit:!1,opacity:1}:n.color,d=t.color;if(s)deepExtend(d,o.color,!1,a);else for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&delete d[v];if(isString(d))d.color=d,d.highlight=d,d.hover=d,d.inherit=!1,f.opacity===void 0&&(d.opacity=1);else{var g=!1;f.color!==void 0&&(d.color=f.color,g=!0),f.highlight!==void 0&&(d.highlight=f.highlight,g=!0),f.hover!==void 0&&(d.hover=f.hover,g=!0),f.inherit!==void 0&&(d.inherit=f.inherit),f.opacity!==void 0&&(d.opacity=Math.min(1,Math.max(0,f.opacity))),g===!0?d.inherit=!1:d.inherit===void 0&&(d.inherit="from")}}else a===!0&&n.color===null&&(t.color=bridgeObject(o.color));a===!0&&n.font===null&&(t.font=bridgeObject(o.font)),Object.prototype.hasOwnProperty.call(n,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),t.selfReference.size=n.selfReferenceSize)}}]),e}(),EdgesHandler=function(){function e(r,t,n){var a,o=this;_classCallCheck(this,e),this.body=r,this.images=t,this.groups=n,this.body.functions.createEdge=bind$5(a=this.create).call(a,this),this.edgesListeners={add:function(l,u){o.add(u.items)},update:function(l,u){o.update(u.items)},remove:function(l,u){o.remove(u.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(l,u,f,d){if(u===l)return .5;var v=1/(u-l);return Math.max(0,(d-l)*v)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(e,[{key:"bindEventListeners",value:function(){var t=this,n,a;this.body.emitter.on("_forceDisableDynamicCurves",function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;o==="dynamic"&&(o="continuous");var l=!1;for(var u in t.body.edges)if(Object.prototype.hasOwnProperty.call(t.body.edges,u)){var f=t.body.edges[u],d=t.body.data.edges.get(u);if(d!=null){var v=d.smooth;v!==void 0&&v.enabled===!0&&v.type==="dynamic"&&(o===void 0?f.setOptions({smooth:!1}):f.setOptions({smooth:{type:o}}),l=!0)}}s===!0&&l===!0&&t.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){t.reconnectEdges()}),this.body.emitter.on("refreshEdges",bind$5(n=this.refresh).call(n,this)),this.body.emitter.on("refresh",bind$5(a=this.refresh).call(a,this)),this.body.emitter.on("destroy",function(){forEach$1(t.edgesListeners,function(o,s){t.body.data.edges&&t.body.data.edges.off(s,o)}),delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners})}},{key:"setOptions",value:function(t){if(t!==void 0){Edge.parseOptions(this.options,t,!0,this.defaultOptions,!0);var n=!1;if(t.smooth!==void 0)for(var a in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,a)&&(n=this.body.edges[a].updateEdgeType()||n);if(t.font!==void 0)for(var o in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,o)&&this.body.edges[o].updateLabelModule();(t.hidden!==void 0||t.physics!==void 0||n===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=this.body.data.edges;if(isDataViewLike("id",t))this.body.data.edges=t;else if(isArray$1(t))this.body.data.edges=new DataSet,this.body.data.edges.add(t);else if(!t)this.body.data.edges=new DataSet;else throw new TypeError("Array or DataSet expected");if(o&&forEach$1(this.edgesListeners,function(l,u){o.off(u,l)}),this.body.edges={},this.body.data.edges){forEach$1(this.edgesListeners,function(l,u){n.body.data.edges.on(u,l)});var s=this.body.data.edges.getIds();this.add(s,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),a===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.body.edges,o=this.body.data.edges,s=0;s<t.length;s++){var l=t[s],u=a[l];u&&u.disconnect();var f=o.get(l,{showInternalIds:!0});a[l]=this.create(f)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),n===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var n=this.body.edges,a=this.body.data.edges,o=!1,s=0;s<t.length;s++){var l=t[s],u=a.get(l),f=n[l];f!==void 0?(f.disconnect(),o=f.setOptions(u)||o,f.connect()):(this.body.edges[l]=this.create(u),o=!0)}o===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.length!==0){var a=this.body.edges;forEach$1(t,function(o){var s=a[o];s!==void 0&&s.remove()}),n&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;forEach$1(this.body.edges,function(n,a){var o=t.body.data.edges.get(a);o!==void 0&&n.setOptions(o)})}},{key:"create",value:function(t){return new Edge(t,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,n=this.body.nodes,a=this.body.edges;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t].edges=[]);for(t in a)if(Object.prototype.hasOwnProperty.call(a,t)){var o=a[t];o.from=null,o.to=null,o.connect()}}},{key:"getConnectedNodes",value:function(t){var n=[];if(this.body.edges[t]!==void 0){var a=this.body.edges[t];a.fromId!==void 0&&n.push(a.fromId),a.toId!==void 0&&n.push(a.toId)}return n}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,n=[];forEach$1(this.body.edges,function(a,o){var s=t.body.nodes[a.toId],l=t.body.nodes[a.fromId];s!==void 0&&s.isCluster===!0||l!==void 0&&l.isCluster===!0||(s===void 0||l===void 0)&&n.push(o)}),this.remove(n,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.data.edges;if(t!=null){var n=this.body.edges,a=[];forEach$2(t).call(t,function(o,s){var l=n[s];l===void 0&&a.push(s)}),this.add(a,!0)}}}]),e}(),BarnesHutSolver=function(){function e(r,t,n){_classCallCheck(this,e),this.body=r,this.physicsBody=t,this.barnesHutTree,this.setOptions(n),this._rng=Alea("BARNES HUT SOLVER")}return _createClass(e,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var t,n=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=a.length,s=this._formBarnesHutTree(n,a);this.barnesHutTree=s;for(var l=0;l<o;l++)t=n[a[l]],t.options.mass>0&&this._getForceContributions(s.root,t)}}},{key:"_getForceContributions",value:function(t,n){this._getForceContribution(t.children.NW,n),this._getForceContribution(t.children.NE,n),this._getForceContribution(t.children.SW,n),this._getForceContribution(t.children.SE,n)}},{key:"_getForceContribution",value:function(t,n){if(t.childrenCount>0){var a=t.centerOfMass.x-n.x,o=t.centerOfMass.y-n.y,s=Math.sqrt(a*a+o*o);s*t.calcSize>this.thetaInversed?this._calculateForces(s,a,o,n,t):t.childrenCount===4?this._getForceContributions(t,n):t.children.data.id!=n.id&&this._calculateForces(s,a,o,n,t)}}},{key:"_calculateForces",value:function(t,n,a,o,s){t===0&&(t=.1,n=t),this.overlapAvoidanceFactor<1&&o.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var l=this.options.gravitationalConstant*s.mass*o.options.mass/Math.pow(t,3),u=n*l,f=a*l;this.physicsBody.forces[o.id].x+=u,this.physicsBody.forces[o.id].y+=f}},{key:"_formBarnesHutTree",value:function(t,n){for(var a,o=n.length,s=t[n[0]].x,l=t[n[0]].y,u=t[n[0]].x,f=t[n[0]].y,d=1;d<o;d++){var v=t[n[d]],g=v.x,m=v.y;v.options.mass>0&&(g<s&&(s=g),g>u&&(u=g),m<l&&(l=m),m>f&&(f=m))}var b=Math.abs(u-s)-Math.abs(f-l);b>0?(l-=.5*b,f+=.5*b):(s+=.5*b,u-=.5*b);var E=1e-5,w=Math.max(E,Math.abs(u-s)),_=.5*w,O=.5*(s+u),S=.5*(l+f),T={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:O-_,maxX:O+_,minY:S-_,maxY:S+_},size:w,calcSize:1/w,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(T.root);for(var I=0;I<o;I++)a=t[n[I]],a.options.mass>0&&this._placeInTree(T.root,a);return T}},{key:"_updateBranchMass",value:function(t,n){var a=t.centerOfMass,o=t.mass+n.options.mass,s=1/o;a.x=a.x*t.mass+n.x*n.options.mass,a.x*=s,a.y=a.y*t.mass+n.y*n.options.mass,a.y*=s,t.mass=o;var l=Math.max(Math.max(n.height,n.radius),n.width);t.maxWidth=t.maxWidth<l?l:t.maxWidth}},{key:"_placeInTree",value:function(t,n,a){(a!=!0||a===void 0)&&this._updateBranchMass(t,n);var o=t.children.NW.range,s;o.maxX>n.x?o.maxY>n.y?s="NW":s="SW":o.maxY>n.y?s="NE":s="SE",this._placeInRegion(t,n,s)}},{key:"_placeInRegion",value:function(t,n,a){var o=t.children[a];switch(o.childrenCount){case 0:o.children.data=n,o.childrenCount=1,this._updateBranchMass(o,n);break;case 1:o.children.data.x===n.x&&o.children.data.y===n.y?(n.x+=this._rng(),n.y+=this._rng()):(this._splitBranch(o),this._placeInTree(o,n));break;case 4:this._placeInTree(o,n);break}}},{key:"_splitBranch",value:function(t){var n=null;t.childrenCount===1&&(n=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),n!=null&&this._placeInTree(t,n)}},{key:"_insertRegion",value:function(t,n){var a,o,s,l,u=.5*t.size;switch(n){case"NW":a=t.range.minX,o=t.range.minX+u,s=t.range.minY,l=t.range.minY+u;break;case"NE":a=t.range.minX+u,o=t.range.maxX,s=t.range.minY,l=t.range.minY+u;break;case"SW":a=t.range.minX,o=t.range.minX+u,s=t.range.minY+u,l=t.range.maxY;break;case"SE":a=t.range.minX+u,o=t.range.maxX,s=t.range.minY+u,l=t.range.maxY;break}t.children[n]={centerOfMass:{x:0,y:0},mass:0,range:{minX:a,maxX:o,minY:s,maxY:l},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,n){this.barnesHutTree!==void 0&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,n))}},{key:"_drawBranch",value:function(t,n,a){a===void 0&&(a="#FF0000"),t.childrenCount===4&&(this._drawBranch(t.children.NW,n),this._drawBranch(t.children.NE,n),this._drawBranch(t.children.SE,n),this._drawBranch(t.children.SW,n)),n.strokeStyle=a,n.beginPath(),n.moveTo(t.range.minX,t.range.minY),n.lineTo(t.range.maxX,t.range.minY),n.stroke(),n.beginPath(),n.moveTo(t.range.maxX,t.range.minY),n.lineTo(t.range.maxX,t.range.maxY),n.stroke(),n.beginPath(),n.moveTo(t.range.maxX,t.range.maxY),n.lineTo(t.range.minX,t.range.maxY),n.stroke(),n.beginPath(),n.moveTo(t.range.minX,t.range.maxY),n.lineTo(t.range.minX,t.range.minY),n.stroke()}}]),e}(),RepulsionSolver=function(){function e(r,t,n){_classCallCheck(this,e),this._rng=Alea("REPULSION SOLVER"),this.body=r,this.physicsBody=t,this.setOptions(n)}return _createClass(e,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,n,a,o,s,l,u,f,d=this.body.nodes,v=this.physicsBody.physicsNodeIndices,g=this.physicsBody.forces,m=this.options.nodeDistance,b=-2/3/m,E=4/3,w=0;w<v.length-1;w++){u=d[v[w]];for(var _=w+1;_<v.length;_++)f=d[v[_]],t=f.x-u.x,n=f.y-u.y,a=Math.sqrt(t*t+n*n),a===0&&(a=.1*this._rng(),t=a),a<2*m&&(a<.5*m?l=1:l=b*a+E,l=l/a,o=t*l,s=n*l,g[u.id].x-=o,g[u.id].y-=s,g[f.id].x+=o,g[f.id].y+=s)}}}]),e}(),HierarchicalRepulsionSolver=function(){function e(r,t,n){_classCallCheck(this,e),this.body=r,this.physicsBody=t,this.setOptions(n)}return _createClass(e,[{key:"setOptions",value:function(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var t=this.body.nodes,n=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,o=this.options.nodeDistance,s=0;s<n.length-1;s++)for(var l=t[n[s]],u=s+1;u<n.length;u++){var f=t[n[u]];if(l.level===f.level){var d=o+this.overlapAvoidanceFactor*((l.shape.radius||0)/2+(f.shape.radius||0)/2),v=f.x-l.x,g=f.y-l.y,m=Math.sqrt(v*v+g*g),b=.05,E=void 0;m<d?E=-Math.pow(b*m,2)+Math.pow(b*d,2):E=0,m!==0&&(E=E/m);var w=v*E,_=g*E;a[l.id].x-=w,a[l.id].y-=_,a[f.id].x+=w,a[f.id].y+=_}}}}]),e}(),SpringSolver=function(){function e(r,t,n){_classCallCheck(this,e),this.body=r,this.physicsBody=t,this.setOptions(n)}return _createClass(e,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,n,a=this.physicsBody.physicsEdgeIndices,o=this.body.edges,s,l,u,f=0;f<a.length;f++)n=o[a[f]],n.connected===!0&&n.toId!==n.fromId&&this.body.nodes[n.toId]!==void 0&&this.body.nodes[n.fromId]!==void 0&&(n.edgeType.via!==void 0?(t=n.options.length===void 0?this.options.springLength:n.options.length,s=n.to,l=n.edgeType.via,u=n.from,this._calculateSpringForce(s,l,.5*t),this._calculateSpringForce(l,u,.5*t)):(t=n.options.length===void 0?this.options.springLength*1.5:n.options.length,this._calculateSpringForce(n.from,n.to,t)))}},{key:"_calculateSpringForce",value:function(t,n,a){var o=t.x-n.x,s=t.y-n.y,l=Math.max(Math.sqrt(o*o+s*s),.01),u=this.options.springConstant*(a-l)/l,f=o*u,d=s*u;this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x+=f,this.physicsBody.forces[t.id].y+=d),this.physicsBody.forces[n.id]!==void 0&&(this.physicsBody.forces[n.id].x-=f,this.physicsBody.forces[n.id].y-=d)}}]),e}(),HierarchicalSpringSolver=function(){function e(r,t,n){_classCallCheck(this,e),this.body=r,this.physicsBody=t,this.setOptions(n)}return _createClass(e,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,n,a,o,s,l,u,f,d=this.body.edges,v=.5,g=this.physicsBody.physicsEdgeIndices,m=this.physicsBody.physicsNodeIndices,b=this.physicsBody.forces,E=0;E<m.length;E++){var w=m[E];b[w].springFx=0,b[w].springFy=0}for(var _=0;_<g.length;_++)n=d[g[_]],n.connected===!0&&(t=n.options.length===void 0?this.options.springLength:n.options.length,a=n.from.x-n.to.x,o=n.from.y-n.to.y,f=Math.sqrt(a*a+o*o),f=f===0?.01:f,u=this.options.springConstant*(t-f)/f,s=a*u,l=o*u,n.to.level!=n.from.level?(b[n.toId]!==void 0&&(b[n.toId].springFx-=s,b[n.toId].springFy-=l),b[n.fromId]!==void 0&&(b[n.fromId].springFx+=s,b[n.fromId].springFy+=l)):(b[n.toId]!==void 0&&(b[n.toId].x-=v*s,b[n.toId].y-=v*l),b[n.fromId]!==void 0&&(b[n.fromId].x+=v*s,b[n.fromId].y+=v*l)));u=1;for(var O,S,T=0;T<m.length;T++){var I=m[T];O=Math.min(u,Math.max(-u,b[I].springFx)),S=Math.min(u,Math.max(-u,b[I].springFy)),b[I].x+=O,b[I].y+=S}for(var k=0,N=0,R=0;R<m.length;R++){var C=m[R];k+=b[C].x,N+=b[C].y}for(var A=k/m.length,F=N/m.length,D=0;D<m.length;D++){var B=m[D];b[B].x-=A,b[B].y-=F}}}]),e}(),CentralGravitySolver=function(){function e(r,t,n){_classCallCheck(this,e),this.body=r,this.physicsBody=t,this.setOptions(n)}return _createClass(e,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,n,a,o,s=this.body.nodes,l=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,f=0;f<l.length;f++){var d=l[f];o=s[d],t=-o.x,n=-o.y,a=Math.sqrt(t*t+n*n),this._calculateForces(a,t,n,u,o)}}},{key:"_calculateForces",value:function(t,n,a,o,s){var l=t===0?0:this.options.centralGravity/t;o[s.id].x=n*l,o[s.id].y=a*l}}]),e}();function _createSuper$3(e){var r=_isNativeReflectConstruct$3();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$3(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var ForceAtlas2BasedRepulsionSolver=function(e){_inherits(t,e);var r=_createSuper$3(t);function t(n,a,o){var s;return _classCallCheck(this,t),s=r.call(this,n,a,o),s._rng=Alea("FORCE ATLAS 2 BASED REPULSION SOLVER"),s}return _createClass(t,[{key:"_calculateForces",value:function(a,o,s,l,u){a===0&&(a=.1*this._rng(),o=a),this.overlapAvoidanceFactor<1&&l.shape.radius&&(a=Math.max(.1+this.overlapAvoidanceFactor*l.shape.radius,a-l.shape.radius));var f=l.edges.length+1,d=this.options.gravitationalConstant*u.mass*l.options.mass*f/Math.pow(a,2),v=o*d,g=s*d;this.physicsBody.forces[l.id].x+=v,this.physicsBody.forces[l.id].y+=g}}]),t}(BarnesHutSolver);function _createSuper$2(e){var r=_isNativeReflectConstruct$2();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$2(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var ForceAtlas2BasedCentralGravitySolver=function(e){_inherits(t,e);var r=_createSuper$2(t);function t(n,a,o){return _classCallCheck(this,t),r.call(this,n,a,o)}return _createClass(t,[{key:"_calculateForces",value:function(a,o,s,l,u){if(a>0){var f=u.edges.length+1,d=this.options.centralGravity*f*u.options.mass;l[u.id].x=o*d,l[u.id].y=s*d}}}]),t}(CentralGravitySolver),PhysicsEngine=function(){function e(r){_classCallCheck(this,e),this.body=r,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},assign$2(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return _createClass(e,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),t.ready===!0&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){t.ready===!0&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){if(t!==void 0)if(t===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(t===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,selectiveNotDeepExtend(["stabilization"],this.options,t),mergeOptions(this.options,t,"stabilization"),t.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());var n=this.options.wind;n&&((typeof n.x!="number"||isNan(n.x))&&(n.x=0),(typeof n.y!="number"||isNan(n.y))&&(n.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var t;this.options.solver==="forceAtlas2Based"?(t=this.options.forceAtlas2Based,this.nodesSolver=new ForceAtlas2BasedRepulsionSolver(this.body,this.physicsBody,t),this.edgesSolver=new SpringSolver(this.body,this.physicsBody,t),this.gravitySolver=new ForceAtlas2BasedCentralGravitySolver(this.body,this.physicsBody,t)):this.options.solver==="repulsion"?(t=this.options.repulsion,this.nodesSolver=new RepulsionSolver(this.body,this.physicsBody,t),this.edgesSolver=new SpringSolver(this.body,this.physicsBody,t),this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,t)):this.options.solver==="hierarchicalRepulsion"?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new HierarchicalRepulsionSolver(this.body,this.physicsBody,t),this.edgesSolver=new HierarchicalSpringSolver(this.body,this.physicsBody,t),this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new BarnesHutSolver(this.body,this.physicsBody,t),this.edgesSolver=new SpringSolver(this.body,this.physicsBody,t),this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var t;this.viewFunction=bind$5(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,t===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,t===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=now$1();this.physicsTick();var n=now$1()-t;(n<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&setTimeout$1(function(){t.body.emitter.emit("stabilized",{iterations:n}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var t=1.2;this._evaluateStepQuality()===!0?this.timestep=t*this.timestep:this.timestep/t<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/t))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),this.stabilized!==!0){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var t=this.adaptiveCounter%this.adaptiveInterval==0;t?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,n=this.body.edges;for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&t[a].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(t[a].id);for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&n[o].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(n[o].id);for(var s=0;s<this.physicsBody.physicsNodeIndices.length;s++){var l=this.physicsBody.physicsNodeIndices[s];this.physicsBody.forces[l]={x:0,y:0},this.physicsBody.velocities[l]===void 0&&(this.physicsBody.velocities[l]={x:0,y:0})}for(var u in this.physicsBody.velocities)t[u]===void 0&&delete this.physicsBody.velocities[u]}},{key:"revert",value:function(){var t=keys(this.previousStates),n=this.body.nodes,a=this.physicsBody.velocities;this.referenceState={};for(var o=0;o<t.length;o++){var s=t[o];n[s]!==void 0?n[s].options.physics===!0&&(this.referenceState[s]={positions:{x:n[s].x,y:n[s].y}},a[s].x=this.previousStates[s].vx,a[s].y=this.previousStates[s].vy,n[s].x=this.previousStates[s].x,n[s].y=this.previousStates[s].y):delete this.previousStates[s]}}},{key:"_evaluateStepQuality",value:function(){var t,n,a,o=this.body.nodes,s=this.referenceState,l=.3;for(var u in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,u)&&o[u]!==void 0&&(t=o[u].x-s[u].positions.x,n=o[u].y-s[u].positions.y,a=Math.sqrt(Math.pow(t,2)+Math.pow(n,2)),a>l))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,n=0,a=0,o=5,s=0;s<t.length;s++){var l=t[s],u=this._performStep(l);n=Math.max(n,u),a+=u}this.adaptiveTimestepEnabled=a/t.length<o,this.stabilized=n<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,n,a){var o=this.modelOptions.damping*t,s=(n-o)/a;t+=s*this.timestep;var l=this.options.maxVelocity||1e9;return Math.abs(t)>l&&(t=t>0?l:-l),t}},{key:"_performStep",value:function(t){var n=this.body.nodes[t],a=this.physicsBody.forces[t];this.options.wind&&(a.x+=this.options.wind.x,a.y+=this.options.wind.y);var o=this.physicsBody.velocities[t];this.previousStates[t]={x:n.x,y:n.y,vx:o.x,vy:o.y},n.options.fixed.x===!1?(o.x=this.calculateComponentVelocity(o.x,a.x,n.options.mass),n.x+=o.x*this.timestep):(a.x=0,o.x=0),n.options.fixed.y===!1?(o.y=this.calculateComponentVelocity(o.y,a.y,n.options.mass),n.y+=o.y*this.timestep):(a.y=0,o.y=0);var s=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2));return s}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&t[n].x&&t[n].y){var a=t[n].options.fixed;this.freezeCache[n]={x:a.x,y:a.y},a.x=!0,a.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&this.freezeCache[n]!==void 0&&(t[n].options.fixed.x=this.freezeCache[n].x,t[n].options.fixed.y=this.freezeCache[n].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof n!="number"&&(n=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",n)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=n,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout$1(function(){return t._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,n=function(){return t.stabilized===!1&&t.stabilizationIterations<t.targetIterations},a=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&a();for(var o=0;n()&&o<this.options.stabilization.updateInterval;)this.physicsTick(),o++;if(a(),n()){var s;setTimeout$1(bind$5(s=this._stabilizationBatch).call(s,this),0)}else this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var n=0;n<this.physicsBody.physicsNodeIndices.length;n++){var a=this.physicsBody.physicsNodeIndices[n],o=this.body.nodes[a],s=this.physicsBody.forces[a],l=20,u=.03,f=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),d=Math.min(Math.max(5,f),15),v=3*d,g=HSVToHex((180-Math.min(1,Math.max(0,u*f))*180)/360,1,1),m={x:o.x+l*s.x,y:o.y+l*s.y};t.lineWidth=d,t.strokeStyle=g,t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(m.x,m.y),t.stroke();var b=Math.atan2(s.y,s.x);t.fillStyle=g,EndPoints.draw(t,{type:"arrow",point:m,angle:b,length:v}),fill(t).call(t)}}}]),e}(),getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(e){return typeof e=="string"&&REGEX.test(e)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(byteToHex[e[r+0]]+byteToHex[e[r+1]]+byteToHex[e[r+2]]+byteToHex[e[r+3]]+"-"+byteToHex[e[r+4]]+byteToHex[e[r+5]]+"-"+byteToHex[e[r+6]]+byteToHex[e[r+7]]+"-"+byteToHex[e[r+8]]+byteToHex[e[r+9]]+"-"+byteToHex[e[r+10]]+byteToHex[e[r+11]]+byteToHex[e[r+12]]+byteToHex[e[r+13]]+byteToHex[e[r+14]]+byteToHex[e[r+15]]).toLowerCase();if(!validate(t))throw TypeError("Stringified UUID is invalid");return t}function v4(e,r,t){e=e||{};var n=e.random||(e.rng||rng)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var a=0;a<16;++a)r[t+a]=n[a];return r}return stringify(n)}var NetworkUtil=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getRange",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=1e9,o=-1e9,s=1e9,l=-1e9,u;if(n.length>0)for(var f=0;f<n.length;f++)u=t[n[f]],s>u.shape.boundingBox.left&&(s=u.shape.boundingBox.left),l<u.shape.boundingBox.right&&(l=u.shape.boundingBox.right),a>u.shape.boundingBox.top&&(a=u.shape.boundingBox.top),o<u.shape.boundingBox.bottom&&(o=u.shape.boundingBox.bottom);return s===1e9&&l===-1e9&&a===1e9&&o===-1e9&&(a=0,o=0,s=0,l=0),{minX:s,maxX:l,minY:a,maxY:o}}},{key:"getRangeCore",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=1e9,o=-1e9,s=1e9,l=-1e9,u;if(n.length>0)for(var f=0;f<n.length;f++)u=t[n[f]],s>u.x&&(s=u.x),l<u.x&&(l=u.x),a>u.y&&(a=u.y),o<u.y&&(o=u.y);return s===1e9&&l===-1e9&&a===1e9&&o===-1e9&&(a=0,o=0,s=0,l=0),{minX:s,maxX:l,minY:a,maxY:o}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,n){var a={};return n===void 0||n==="node"?(deepExtend(a,t.options,!0),a.x=t.x,a.y=t.y,a.amountOfConnections=t.edges.length):deepExtend(a,t.options,!0),a}}]),e}();function _createSuper$1(e){var r=_isNativeReflectConstruct$1();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$1(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Cluster=function(e){_inherits(t,e);var r=_createSuper$1(t);function t(n,a,o,s,l,u){var f;return _classCallCheck(this,t),f=r.call(this,n,a,o,s,l,u),f.isCluster=!0,f.containedNodes={},f.containedEdges={},f}return _createClass(t,[{key:"_openChildCluster",value:function(a){var o=this,s=this.body.nodes[a];if(this.containedNodes[a]===void 0)throw new Error("node with id: "+a+" not in current cluster");if(!s.isCluster)throw new Error("node with id: "+a+" is not a cluster");delete this.containedNodes[a],forEach$1(s.edges,function(l){delete o.containedEdges[l.id]}),forEach$1(s.containedNodes,function(l,u){o.containedNodes[u]=l}),s.containedNodes={},forEach$1(s.containedEdges,function(l,u){o.containedEdges[u]=l}),s.containedEdges={},forEach$1(s.edges,function(l){forEach$1(o.edges,function(u){var f,d,v=indexOf(f=u.clusteringEdgeReplacingIds).call(f,l.id);v!==-1&&(forEach$1(l.clusteringEdgeReplacingIds,function(g){u.clusteringEdgeReplacingIds.push(g),o.body.edges[g].edgeReplacedById=u.id}),splice(d=u.clusteringEdgeReplacingIds).call(d,v,1))})}),s.edges=[]}}]),t}(Node),ClusterEngine=function(){function e(r){var t=this;_classCallCheck(this,e),this.body=r,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},assign$2(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){t.clusteredNodes={},t.clusteredEdges={}})}return _createClass(e,[{key:"clusterByHubsize",value:function(t,n){t===void 0?t=this._getHubSize():_typeof(t)==="object"&&(n=this._checkOptions(t),t=this._getHubSize());for(var a=[],o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];s.edges.length>=t&&a.push(s.id)}for(var l=0;l<a.length;l++)this.clusterByConnection(a[l],n,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(n.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");n=this._checkOptions(n);var o={},s={};forEach$1(this.body.nodes,function(l,u){l.options&&n.joinCondition(l.options)===!0&&(o[u]=l,forEach$1(l.edges,function(f){t.clusteredEdges[f.id]===void 0&&(s[f.id]=f)}))}),this._cluster(o,s,n,a)}},{key:"clusterByEdgeCount",value:function(t,n){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;n=this._checkOptions(n);for(var s=[],l={},u,f,d,v=function(E){var w={},_={},O=a.body.nodeIndices[E],S=a.body.nodes[O];if(l[O]===void 0){d=0,f=[];for(var T=0;T<S.edges.length;T++)u=S.edges[T],a.clusteredEdges[u.id]===void 0&&(u.toId!==u.fromId&&d++,f.push(u));if(d===t){for(var I=function(Z){if(n.joinCondition===void 0||n.joinCondition===null)return!0;var ie=NetworkUtil.cloneOptions(Z);return n.joinCondition(ie)},k=!0,N=0;N<f.length;N++){u=f[N];var R=a._getConnectedId(u,O);if(I(S))_[u.id]=u,w[O]=S,w[R]=a.body.nodes[R],l[O]=!0;else{k=!1;break}}if(keys(w).length>0&&keys(_).length>0&&k===!0){var C=function(){for(var Z=0;Z<s.length;++Z)for(var ie in w)if(s[Z].nodes[ie]!==void 0)return s[Z]},A=C();if(A!==void 0){for(var F in w)A.nodes[F]===void 0&&(A.nodes[F]=w[F]);for(var D in _)A.edges[D]===void 0&&(A.edges[D]=_[D])}else s.push({nodes:w,edges:_})}}}},g=0;g<this.body.nodeIndices.length;g++)v(g);for(var m=0;m<s.length;m++)this._cluster(s[m].nodes,s[m].edges,n,!1);o===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,t,n)}},{key:"clusterBridges",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,t,n)}},{key:"clusterByConnection",value:function(t,n){var a,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[t]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var s=this.body.nodes[t];n=this._checkOptions(n,s),n.clusterNodeProperties.x===void 0&&(n.clusterNodeProperties.x=s.x),n.clusterNodeProperties.y===void 0&&(n.clusterNodeProperties.y=s.y),n.clusterNodeProperties.fixed===void 0&&(n.clusterNodeProperties.fixed={},n.clusterNodeProperties.fixed.x=s.options.fixed.x,n.clusterNodeProperties.fixed.y=s.options.fixed.y);var l={},u={},f=s.id,d=NetworkUtil.cloneOptions(s);l[f]=s;for(var v=0;v<s.edges.length;v++){var g=s.edges[v];if(this.clusteredEdges[g.id]===void 0){var m=this._getConnectedId(g,f);if(this.clusteredNodes[m]===void 0)if(m!==f)if(n.joinCondition===void 0)u[g.id]=g,l[m]=this.body.nodes[m];else{var b=NetworkUtil.cloneOptions(this.body.nodes[m]);n.joinCondition(d,b)===!0&&(u[g.id]=g,l[m]=this.body.nodes[m])}else u[g.id]=g}}var E=map$3(a=keys(l)).call(a,function(T){return l[T].id});for(var w in l)if(!!Object.prototype.hasOwnProperty.call(l,w))for(var _=l[w],O=0;O<_.edges.length;O++){var S=_.edges[O];indexOf(E).call(E,this._getConnectedId(S,_.id))>-1&&(u[S.id]=S)}this._cluster(l,u,n,o)}},{key:"_createClusterEdges",value:function(t,n,a,o){for(var s,l,u,f,d,v,g=keys(t),m=[],b=0;b<g.length;b++){l=g[b],u=t[l];for(var E=0;E<u.edges.length;E++)s=u.edges[E],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?n[s.id]=s:s.toId==l?(f=a.id,d=s.fromId,v=d):(f=s.toId,d=a.id,v=f),t[v]===void 0&&m.push({edge:s,fromId:d,toId:f}))}for(var w=[],_=function(N){for(var R=0;R<w.length;R++){var C=w[R],A=N.fromId===C.fromId&&N.toId===C.toId,F=N.fromId===C.toId&&N.toId===C.fromId;if(A||F)return C}return null},O=0;O<m.length;O++){var S=m[O],T=S.edge,I=_(S);I===null?(I=this._createClusteredEdge(S.fromId,S.toId,T,o),w.push(I)):I.clusteringEdgeReplacingIds.push(T.id),this.body.edges[T.id].edgeReplacedById=I.id,this._backupEdgeOptions(T),T.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.clusterEdgeProperties===void 0&&(t.clusterEdgeProperties={}),t.clusterNodeProperties===void 0&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,n,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=[];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&this.clusteredNodes[l]!==void 0&&s.push(l);for(var u=0;u<s.length;++u)delete t[s[u]];if(keys(t).length!=0&&!(keys(t).length==1&&a.clusterNodeProperties.allowSingleNodeCluster!=!0)){var f=deepExtend({},a.clusterNodeProperties);if(a.processProperties!==void 0){var d=[];for(var v in t)if(Object.prototype.hasOwnProperty.call(t,v)){var g=NetworkUtil.cloneOptions(t[v]);d.push(g)}var m=[];for(var b in n)if(Object.prototype.hasOwnProperty.call(n,b)&&b.substr(0,12)!=="clusterEdge:"){var E=NetworkUtil.cloneOptions(n[b],"edge");m.push(E)}if(f=a.processProperties(f,d,m),!f)throw new Error("The processProperties function does not return properties!")}f.id===void 0&&(f.id="cluster:"+v4());var w=f.id;f.label===void 0&&(f.label="cluster");var _=void 0;f.x===void 0&&(_=this._getClusterPosition(t),f.x=_.x),f.y===void 0&&(_===void 0&&(_=this._getClusterPosition(t)),f.y=_.y),f.id=w;var O=this.body.functions.createNode(f,Cluster);O.containedNodes=t,O.containedEdges=n,O.clusterEdgeProperties=a.clusterEdgeProperties,this.body.nodes[f.id]=O,this._clusterEdges(t,n,f,a.clusterEdgeProperties),f.id=void 0,o===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){this.clusteredEdges[t.id]===void 0&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var n=this.clusteredEdges[t.id];n!==void 0&&(t.setOptions({physics:n.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return this.body.nodes[t]!==void 0?this.body.nodes[t].isCluster===!0:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var n=keys(t),a=t[n[0]].x,o=t[n[0]].x,s=t[n[0]].y,l=t[n[0]].y,u,f=1;f<n.length;f++)u=t[n[f]],a=u.x<a?u.x:a,o=u.x>o?u.x:o,s=u.y<s?u.y:s,l=u.y>l?u.y:l;return{x:.5*(a+o),y:.5*(s+l)}}},{key:"openCluster",value:function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var o=this.body.nodes[t];if(o===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(o.isCluster!==!0||o.containedNodes===void 0||o.containedEdges===void 0)throw new Error("The node:"+t+" is not a valid cluster.");var s=this.findNode(t),l=indexOf(s).call(s,t)-1;if(l>=0){var u=s[l],f=this.body.nodes[u];f._openChildCluster(t),delete this.body.nodes[t],a===!0&&this.body.emitter.emit("_dataChanged");return}var d=o.containedNodes,v=o.containedEdges;if(n!==void 0&&n.releaseFunction!==void 0&&typeof n.releaseFunction=="function"){var g={},m={x:o.x,y:o.y};for(var b in d)if(Object.prototype.hasOwnProperty.call(d,b)){var E=this.body.nodes[b];g[b]={x:E.x,y:E.y}}var w=n.releaseFunction(m,g);for(var _ in d)if(Object.prototype.hasOwnProperty.call(d,_)){var O=this.body.nodes[_];w[_]!==void 0&&(O.x=w[_].x===void 0?o.x:w[_].x,O.y=w[_].y===void 0?o.y:w[_].y)}}else forEach$1(d,function(j){j.options.fixed.x===!1&&(j.x=o.x),j.options.fixed.y===!1&&(j.y=o.y)});for(var S in d)if(Object.prototype.hasOwnProperty.call(d,S)){var T=this.body.nodes[S];T.vx=o.vx,T.vy=o.vy,T.setOptions({physics:!0}),delete this.clusteredNodes[S]}for(var I=[],k=0;k<o.edges.length;k++)I.push(o.edges[k]);for(var N=0;N<I.length;N++){for(var R=I[N],C=this._getConnectedId(R,t),A=this.clusteredNodes[C],F=0;F<R.clusteringEdgeReplacingIds.length;F++){var D=R.clusteringEdgeReplacingIds[F],B=this.body.edges[D];if(B!==void 0)if(A!==void 0){var Z=this.body.nodes[A.clusterId];Z.containedEdges[B.id]=B,delete v[B.id];var ie=B.fromId,te=B.toId;B.toId==C?te=A.clusterId:ie=A.clusterId,this._createClusteredEdge(ie,te,B,Z.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(B)}R.remove()}for(var ee in v)Object.prototype.hasOwnProperty.call(v,ee)&&this._restoreEdge(v[ee]);delete this.body.nodes[t],a===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var n=[];if(this.isCluster(t)===!0){var a=this.body.nodes[t].containedNodes;for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&n.push(this.body.nodes[o].id)}return n}},{key:"findNode",value:function(t){for(var n=[],a=100,o=0,s;this.clusteredNodes[t]!==void 0&&o<a;){if(s=this.body.nodes[t],s===void 0)return[];n.push(s.id),t=this.clusteredNodes[t].clusterId,o++}return s=this.body.nodes[t],s===void 0?[]:(n.push(s.id),reverse(n).call(n),n)}},{key:"updateClusteredNode",value:function(t,n){if(t===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(n===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[t]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(n),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,n){if(t===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(n===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[t]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var a=this.getClusteredEdges(t),o=0;o<a.length;o++){var s=this.body.edges[a[o]];s.setOptions(n)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var n=[],a=100,o=0;t!==void 0&&this.body.edges[t]!==void 0&&o<a;)n.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,o++;return reverse(n).call(n),n}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var n=[t],a=[],o=[],s=100,l=0;n.length>0&&l<s;){var u=n.pop();if(u!==void 0){var f=this.body.edges[u];if(f!==void 0){l++;var d=f.clusteringEdgeReplacingIds;if(d===void 0)o.push(u);else for(var v=0;v<d.length;++v){var g=d[v];indexOf(n).call(n,d)!==-1||indexOf(a).call(a,d)!==-1||n.push(g)}a.push(u)}}}return o}},{key:"_getConnectedId",value:function(t,n){return t.toId!=n?t.toId:(t.fromId!=n,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,n=0,a=0,o=0,s=0;s<this.body.nodeIndices.length;s++){var l=this.body.nodes[this.body.nodeIndices[s]];l.edges.length>o&&(o=l.edges.length),t+=l.edges.length,n+=Math.pow(l.edges.length,2),a+=1}t=t/a,n=n/a;var u=n-Math.pow(t,2),f=Math.sqrt(u),d=Math.floor(t+2*f);return d>o&&(d=o),d}},{key:"_createClusteredEdge",value:function(t,n,a,o,s){var l=NetworkUtil.cloneOptions(a,"edge");deepExtend(l,o),l.from=t,l.to=n,l.id="clusterEdge:"+v4(),s!==void 0&&deepExtend(l,s);var u=this.body.functions.createEdge(l);return u.clusteringEdgeReplacingIds=[a.id],u.connect(),this.body.edges[u.id]=u,u}},{key:"_clusterEdges",value:function(t,n,a,o){if(n instanceof Edge){var s=n,l={};l[s.id]=s,n=l}if(t instanceof Node){var u=t,f={};f[u.id]=u,t=f}if(a==null)throw new Error("_clusterEdges: parameter clusterNode required");o===void 0&&(o=a.clusterEdgeProperties),this._createClusterEdges(t,n,a,o);for(var d in n)if(Object.prototype.hasOwnProperty.call(n,d)&&this.body.edges[d]!==void 0){var v=this.body.edges[d];this._backupEdgeOptions(v),v.setOptions({physics:!1})}for(var g in t)Object.prototype.hasOwnProperty.call(t,g)&&(this.clusteredNodes[g]={clusterId:a.id,node:this.body.nodes[g]},this.body.nodes[g].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(t!==void 0){var n=this.clusteredNodes[t];if(n!==void 0){var a=n.clusterId;if(a!==void 0)return this.body.nodes[a]}}}},{key:"_filter",value:function(t,n){var a=[];return forEach$1(t,function(o){n(o)&&a.push(o)}),a}},{key:"_updateState",value:function(){var t=this,n,a=[],o={},s=function(b){forEach$1(t.body.nodes,function(E){E.isCluster===!0&&b(E)})};for(n in this.clusteredNodes)if(!!Object.prototype.hasOwnProperty.call(this.clusteredNodes,n)){var l=this.body.nodes[n];l===void 0&&a.push(n)}s(function(m){for(var b=0;b<a.length;b++)delete m.containedNodes[a[b]]});for(var u=0;u<a.length;u++)delete this.clusteredNodes[a[u]];forEach$1(this.clusteredEdges,function(m){var b=t.body.edges[m];(b===void 0||!b.endPointsValid())&&(o[m]=m)}),s(function(m){forEach$1(m.containedEdges,function(b,E){!b.endPointsValid()&&!o[E]&&(o[E]=E)})}),forEach$1(this.body.edges,function(m,b){var E=!0,w=m.clusteringEdgeReplacingIds;if(w!==void 0){var _=0;forEach$1(w,function(O){var S=t.body.edges[O];S!==void 0&&S.endPointsValid()&&(_+=1)}),E=_>0}(!m.endPointsValid()||!E)&&(o[b]=b)}),s(function(m){forEach$1(o,function(b){delete m.containedEdges[b],forEach$1(m.edges,function(E,w){if(E.id===b){m.edges[w]=null;return}E.clusteringEdgeReplacingIds=t._filter(E.clusteringEdgeReplacingIds,function(_){return!o[_]})}),m.edges=t._filter(m.edges,function(E){return E!==null})})}),forEach$1(o,function(m){delete t.clusteredEdges[m]}),forEach$1(o,function(m){delete t.body.edges[m]});var f=keys(this.body.edges);forEach$1(f,function(m){var b=t.body.edges[m],E=t._isClusteredNode(b.fromId)||t._isClusteredNode(b.toId);if(E!==t._isClusteredEdge(b.id))if(E){var w=t._getClusterNodeForNode(b.fromId);w!==void 0&&t._clusterEdges(t.body.nodes[b.fromId],b,w);var _=t._getClusterNodeForNode(b.toId);_!==void 0&&t._clusterEdges(t.body.nodes[b.toId],b,_)}else delete t._clusterEdges[m],t._restoreEdge(b)});for(var d=!1,v=!0,g=function(){var b=[];s(function(w){var _=keys(w.containedNodes).length,O=w.options.allowSingleNodeCluster===!0;(O&&_<1||!O&&_<2)&&b.push(w.id)});for(var E=0;E<b.length;++E)t.openCluster(b[E],{},!1);v=b.length>0,d=d||v};v;)g();d&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return this.clusteredNodes[t]!==void 0}},{key:"_isClusteredEdge",value:function(t){return this.clusteredEdges[t]!==void 0}}]),e}();function _createForOfIteratorHelper$5(e,r){var t=typeof symbol!="undefined"&&getIteratorMethod$1(e)||e["@@iterator"];if(!t){if(isArray$1(e)||(t=_unsupportedIterableToArray$5(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,l;return{s:function(){t=t.call(e)},n:function(){var f=t.next();return o=f.done,f},e:function(f){s=!0,l=f},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function _unsupportedIterableToArray$5(e,r){var t;if(!!e){if(typeof e=="string")return _arrayLikeToArray$5(e,r);var n=slice$1(t=Object.prototype.toString.call(e)).call(t,8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return from$2(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$5(e,r)}}function _arrayLikeToArray$5(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _initRequestAnimationFrame(){var e;window!==void 0&&(e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),e===void 0?window.requestAnimationFrame=function(r){r()}:window.requestAnimationFrame=e}var CanvasRenderer=function(){function e(r,t){_classCallCheck(this,e),_initRequestAnimationFrame(),this.body=r,this.canvas=t,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},assign$2(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return _createClass(e,[{key:"bindEventListeners",value:function(){var t=this,n;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("zoom",function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=setTimeout$1(function(){var a;t.zooming=!1,bind$5(a=t._requestRedraw).call(a,t)()},250)}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){t.renderingActive===!1&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",bind$5(n=this._requestRedraw).call(n,this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,t.requiresTimeout===!0?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){if(t!==void 0){var n=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"];selectiveDeepExtend(n,this.options,t)}}},{key:"_requestNextFrame",value:function(t,n){if(typeof window!="undefined"){var a,o=window;return this.requiresTimeout===!0?a=setTimeout$1(t,n):o.requestAnimationFrame&&(a=o.requestAnimationFrame(t)),a}}},{key:"_startRendering",value:function(){if(this.renderingActive===!0&&this.renderTimer===void 0){var t;this.renderTimer=this._requestNextFrame(bind$5(t=this._renderStep).call(t,this),this.simulationInterval)}}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){t._redraw(!1)},0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var n={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();var a=this.canvas.getContext(),o=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(a.clearRect(0,0,o,s),this.canvas.frame.clientWidth===0)return;if(a.save(),a.translate(this.body.view.translation.x,this.body.view.translation.y),a.scale(this.body.view.scale,this.body.view.scale),a.beginPath(),this.body.emitter.emit("beforeDrawing",a),a.closePath(),t===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(a),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){var l=this._drawNodes(a,t),u=l.drawExternalLabels;n.drawExternalLabels=u}t===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(a),n.drawExternalLabels!=null&&n.drawExternalLabels(),t===!1&&this._drawSelectionBox(a),a.beginPath(),this.body.emitter.emit("afterDrawing",a),a.closePath(),a.restore(),t===!0&&a.clearRect(0,0,o,s)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var n=this.body.nodes,a;for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(a=n[o],a.resize(t),a.updateBoundingBox(t,a.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.body.nodes,o=this.body.nodeIndices,s,l=[],u=[],f=20,d=this.canvas.DOMtoCanvas({x:-f,y:-f}),v=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+f,y:this.canvas.frame.canvas.clientHeight+f}),g={top:d.y,left:d.x,bottom:v.y,right:v.x},m=[],b=0;b<o.length;b++)if(s=a[o[b]],s.hover)u.push(o[b]);else if(s.isSelected())l.push(o[b]);else if(n===!0){var E=s.draw(t);E.drawExternalLabel!=null&&m.push(E.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(g)===!0){var w=s.draw(t);w.drawExternalLabel!=null&&m.push(w.drawExternalLabel)}else s.updateBoundingBox(t,s.selected);var _,O=l.length,S=u.length;for(_=0;_<O;_++){s=a[l[_]];var T=s.draw(t);T.drawExternalLabel!=null&&m.push(T.drawExternalLabel)}for(_=0;_<S;_++){s=a[u[_]];var I=s.draw(t);I.drawExternalLabel!=null&&m.push(I.drawExternalLabel)}return{drawExternalLabels:function(){var N=_createForOfIteratorHelper$5(m),R;try{for(N.s();!(R=N.n()).done;){var C=R.value;C()}}catch(A){N.e(A)}finally{N.f()}}}}},{key:"_drawEdges",value:function(t){for(var n=this.body.edges,a=this.body.edgeIndices,o=0;o<a.length;o++){var s=n[a[o]];s.connected===!0&&s.draw(t)}}},{key:"_drawArrows",value:function(t){for(var n=this.body.edges,a=this.body.edgeIndices,o=0;o<a.length;o++){var s=n[a[o]];s.connected===!0&&s.drawArrows(t)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window!="undefined"){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,indexOf(t).call(t,"msie 9.0")!=-1?this.requiresTimeout=!0:indexOf(t).call(t,"safari")!=-1&&indexOf(t).call(t,"chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(t){if(this.body.selectionBox.show){t.beginPath();var n=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,a=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,n,a),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,n,a),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}]),e}(),path$2=path$x,setInterval$1=path$2.setInterval,setInterval=setInterval$1;function onTouch(e,r){r.inputHandler=function(t){t.isFirst&&r(t)},e.on("hammer.input",r.inputHandler)}function onRelease(e,r){return r.inputHandler=function(t){t.isFinal&&r(t)},e.on("hammer.input",r.inputHandler)}var Canvas=function(){function e(r){_classCallCheck(this,e),this.body=r,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},assign$2(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(e,[{key:"bindEventListeners",value:function(){var t=this,n;this.body.emitter.once("resize",function(a){a.width!==0&&(t.body.view.translation.x=a.width*.5),a.height!==0&&(t.body.view.translation.y=a.height*.5)}),this.body.emitter.on("setSize",bind$5(n=this.setSize).call(n,this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(t){var n=this;if(t!==void 0){var a=["width","height","autoResize"];selectiveDeepExtend(a,this.options,t)}if(this._cleanUp(),this.options.autoResize===!0){var o;if(window.ResizeObserver){var s=new ResizeObserver(function(){var d=n.setSize();d===!0&&n.body.emitter.emit("_requestRedraw")}),l=this.frame;s.observe(l),this._cleanupCallbacks.push(function(){s.unobserve(l)})}else{var u=setInterval(function(){var d=n.setSize();d===!0&&n.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(u)})}var f=bind$5(o=this._onResize).call(o,this);addEventListener(window,"resize",f),this._cleanupCallbacks.push(function(){removeEventListener(window,"resize",f)})}}},{key:"_cleanUp",value:function(){var t,n,a;forEach$2(t=reverse(n=splice(a=this._cleanupCallbacks).call(a,0)).call(n)).call(t,function(o){try{o()}catch(s){console.error(s)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,n=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,a=this.cameraState.scale;t!=1&&n!=1?a=this.cameraState.scale*.5*(t+n):t!=1?a=this.cameraState.scale*t:n!=1&&(a=this.cameraState.scale*n),this.body.view.scale=a;var o=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:o.x-this.cameraState.position.x,y:o.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if(typeof t=="number")return t+"px";if(typeof t=="string"){if(indexOf(t).call(t,"%")!==-1||indexOf(t).call(t,"px")!==-1)return t;if(indexOf(t).call(t,"%")===-1)return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Hammer$1(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Hammer$1.DIRECTION_ALL}),onTouch(this.hammer,function(n){t.body.eventListeners.onTouch(n)}),this.hammer.on("tap",function(n){t.body.eventListeners.onTap(n)}),this.hammer.on("doubletap",function(n){t.body.eventListeners.onDoubleTap(n)}),this.hammer.on("press",function(n){t.body.eventListeners.onHold(n)}),this.hammer.on("panstart",function(n){t.body.eventListeners.onDragStart(n)}),this.hammer.on("panmove",function(n){t.body.eventListeners.onDrag(n)}),this.hammer.on("panend",function(n){t.body.eventListeners.onDragEnd(n)}),this.hammer.on("pinch",function(n){t.body.eventListeners.onPinch(n)}),this.frame.canvas.addEventListener("wheel",function(n){t.body.eventListeners.onMouseWheel(n)}),this.frame.canvas.addEventListener("mousemove",function(n){t.body.eventListeners.onMouseMove(n)}),this.frame.canvas.addEventListener("contextmenu",function(n){t.body.eventListeners.onContext(n)}),this.hammerFrame=new Hammer$1(this.frame),onRelease(this.hammerFrame,function(n){t.body.eventListeners.onRelease(n)})}},{key:"setSize",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;t=this._prepareValue(t),n=this._prepareValue(n);var a=!1,o=this.frame.canvas.width,s=this.frame.canvas.height,l=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||n!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=n)this._getCameraState(l),this.frame.style.width=t,this.frame.style.height=n,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=n,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},a=!0;else{var u=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),f=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==u||this.frame.canvas.height!==f)&&this._getCameraState(l),this.frame.canvas.width!==u&&(this.frame.canvas.width=u,a=!0),this.frame.canvas.height!==f&&(this.frame.canvas.height=f,a=!0)}return a===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(o/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,a}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(t===void 0)throw new Error("Could not get canvax context");var n=1;typeof window!="undefined"&&(n=window.devicePixelRatio||1);var a=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return n/a}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(t===void 0)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),e}();function normalizeFitOptions(e,r){var t=assign$2({nodes:r,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},e??{});if(!isArray$1(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(t.nodes.length===0&&(t.nodes=r),!(typeof t.minZoomLevel=="number"&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof t.maxZoomLevel=="number"&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}var View=function(){function e(r,t){var n,a=this,o;_classCallCheck(this,e),this.body=r,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",bind$5(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",function(){a.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",bind$5(o=this.releaseNode).call(o,this))}return _createClass(e,[{key:"setOptions",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=t}},{key:"fit",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t=normalizeFitOptions(t,this.body.nodeIndices);var a=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight,s,l;if(a===0||o===0)l=1,s=NetworkUtil.getRange(this.body.nodes,t.nodes);else if(n===!0){var u=0;for(var f in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,f)){var d=this.body.nodes[f];d.predefinedPosition===!0&&(u+=1)}if(u>.5*this.body.nodeIndices.length){this.fit(t,!1);return}s=NetworkUtil.getRange(this.body.nodes,t.nodes);var v=this.body.nodeIndices.length;l=12.662/(v+7.4147)+.0964822;var g=Math.min(a/600,o/600);l*=g}else{this.body.emitter.emit("_resizeNodes"),s=NetworkUtil.getRange(this.body.nodes,t.nodes);var m=Math.abs(s.maxX-s.minX)*1.1,b=Math.abs(s.maxY-s.minY)*1.1,E=a/m,w=o/b;l=E<=w?E:w}l>t.maxZoomLevel?l=t.maxZoomLevel:l<t.minZoomLevel&&(l=t.minZoomLevel);var _=NetworkUtil.findCenter(s),O={position:_,scale:l,animation:t.animation};this.moveTo(O)}},{key:"focus",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[t]!==void 0){var a={x:this.body.nodes[t].x,y:this.body.nodes[t].y};n.position=a,n.lockedOnNode=t,this.moveTo(n)}else console.error("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){if(t===void 0){t={};return}if(t.offset!=null){if(t.offset.x!=null){if(t.offset.x=+t.offset.x,!_isFinite(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(t.offset.y!=null){if(t.offset.y=+t.offset.y,!_isFinite(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(t.position!=null){if(t.position.x!=null){if(t.position.x=+t.position.x,!_isFinite(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(t.position.y!=null){if(t.position.y=+t.position.y,!_isFinite(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(t.scale!=null){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;t.animation===void 0&&(t.animation={duration:0}),t.animation===!1&&(t.animation={duration:0}),t.animation===!0&&(t.animation={}),t.animation.duration===void 0&&(t.animation.duration=1e3),t.animation.easingFunction===void 0&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}},{key:"animateView",value:function(t){if(t!==void 0){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),t.locked===!0&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),a={x:n.x-t.position.x,y:n.y-t.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+a.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+a.y*this.targetScale+t.offset.y},t.animation.duration===0)if(this.lockedOnNodeId!=null){var o;this.viewFunction=bind$5(o=this._lockedRedraw).call(o,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=bind$5(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}}},{key:"_lockedRedraw",value:function(){var t={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),a={x:n.x-t.x,y:n.y-t.y},o=this.body.view.translation,s={x:o.x+a.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+a.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=t===!0?1:this.easingTime;var n=easingFunctions[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*n,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*n,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*n},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var a;this.viewFunction=bind$5(a=this._lockedRedraw).call(a,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),e}();function keycharm(e){var r=e&&e.preventDefault||!1,t=e&&e.container||window,n={},a={keydown:{},keyup:{}},o={},s;for(s=97;s<=122;s++)o[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)o[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)o[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)o["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)o["num"+s]={code:96+s,shift:!1};o["num*"]={code:106,shift:!1},o["num+"]={code:107,shift:!1},o["num-"]={code:109,shift:!1},o["num/"]={code:111,shift:!1},o["num."]={code:110,shift:!1},o.left={code:37,shift:!1},o.up={code:38,shift:!1},o.right={code:39,shift:!1},o.down={code:40,shift:!1},o.space={code:32,shift:!1},o.enter={code:13,shift:!1},o.shift={code:16,shift:void 0},o.esc={code:27,shift:!1},o.backspace={code:8,shift:!1},o.tab={code:9,shift:!1},o.ctrl={code:17,shift:!1},o.alt={code:18,shift:!1},o.delete={code:46,shift:!1},o.pageup={code:33,shift:!1},o.pagedown={code:34,shift:!1},o["="]={code:187,shift:!1},o["-"]={code:189,shift:!1},o["]"]={code:221,shift:!1},o["["]={code:219,shift:!1};var l=function(d){f(d,"keydown")},u=function(d){f(d,"keyup")},f=function(d,v){if(a[v][d.keyCode]!==void 0){for(var g=a[v][d.keyCode],m=0;m<g.length;m++)(g[m].shift===void 0||g[m].shift==!0&&d.shiftKey==!0||g[m].shift==!1&&d.shiftKey==!1)&&g[m].fn(d);r==!0&&d.preventDefault()}};return n.bind=function(d,v,g){if(g===void 0&&(g="keydown"),o[d]===void 0)throw new Error("unsupported key: "+d);a[g][o[d].code]===void 0&&(a[g][o[d].code]=[]),a[g][o[d].code].push({fn:v,shift:o[d].shift})},n.bindAll=function(d,v){v===void 0&&(v="keydown");for(var g in o)o.hasOwnProperty(g)&&n.bind(g,d,v)},n.getKey=function(d){for(var v in o)if(o.hasOwnProperty(v)){if(d.shiftKey==!0&&o[v].shift==!0&&d.keyCode==o[v].code)return v;if(d.shiftKey==!1&&o[v].shift==!1&&d.keyCode==o[v].code)return v;if(d.keyCode==o[v].code&&v=="shift")return v}return"unknown key, currently not supported"},n.unbind=function(d,v,g){if(g===void 0&&(g="keydown"),o[d]===void 0)throw new Error("unsupported key: "+d);if(v!==void 0){var m=[],b=a[g][o[d].code];if(b!==void 0)for(var E=0;E<b.length;E++)b[E].fn==v&&b[E].shift==o[d].shift||m.push(a[g][o[d].code][E]);a[g][o[d].code]=m}else a[g][o[d].code]=[]},n.reset=function(){a={keydown:{},keyup:{}}},n.destroy=function(){a={keydown:{},keyup:{}},t.removeEventListener("keydown",l,!0),t.removeEventListener("keyup",u,!0)},t.addEventListener("keydown",l,!0),t.addEventListener("keyup",u,!0),n}var NavigationHandler=function(){function e(r,t){var n=this;_classCallCheck(this,e),this.body=r,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){n.keycharm!==void 0&&n.keycharm.destroy()}),this.options={}}return _createClass(e,[{key:"setOptions",value:function(t){t!==void 0&&(this.options=t,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var n=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],a=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var o=0;o<n.length;o++){this.navigationDOM[n[o]]=document.createElement("div"),this.navigationDOM[n[o]].className="vis-button vis-"+n[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[n[o]]);var s=new Hammer$1(this.navigationDOM[n[o]]);if(a[o]==="_fit"){var l;onTouch(s,bind$5(l=this._fit).call(l,this))}else{var u;onTouch(s,bind$5(u=this.bindToRedraw).call(u,this,a[o]))}this.navigationHammers.push(s)}var f=new Hammer$1(this.canvas.frame);onRelease(f,function(){t._stopMovement()}),this.navigationHammers.push(f),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){if(this.boundFunctions[t]===void 0){var n;this.boundFunctions[t]=bind$5(n=this[t]).call(n,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering")}}},{key:"unbindFromRedraw",value:function(t){this.boundFunctions[t]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,n=this.body.view.scale*(1+this.options.keyboard.speed.zoom),a=this.body.view.translation,o=n/t,s=(1-o)*this.canvas.canvasViewCenter.x+a.x*o,l=(1-o)*this.canvas.canvasViewCenter.y+a.y*o;this.body.view.scale=n,this.body.view.translation={x:s,y:l},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,n=this.body.view.scale/(1+this.options.keyboard.speed.zoom),a=this.body.view.translation,o=n/t,s=(1-o)*this.canvas.canvasViewCenter.x+a.x*o,l=(1-o)*this.canvas.canvasViewCenter.y+a.y*o;this.body.view.scale=n,this.body.view.translation={x:s,y:l},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=keycharm({container:window,preventDefault:!0}):this.keycharm=keycharm({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var n,a,o,s,l,u,f,d,v,g,m,b,E,w,_,O,S,T,I,k,N,R,C,A;bind$5(n=this.keycharm).call(n,"up",function(){t.bindToRedraw("_moveUp")},"keydown"),bind$5(a=this.keycharm).call(a,"down",function(){t.bindToRedraw("_moveDown")},"keydown"),bind$5(o=this.keycharm).call(o,"left",function(){t.bindToRedraw("_moveLeft")},"keydown"),bind$5(s=this.keycharm).call(s,"right",function(){t.bindToRedraw("_moveRight")},"keydown"),bind$5(l=this.keycharm).call(l,"=",function(){t.bindToRedraw("_zoomIn")},"keydown"),bind$5(u=this.keycharm).call(u,"num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),bind$5(f=this.keycharm).call(f,"num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),bind$5(d=this.keycharm).call(d,"-",function(){t.bindToRedraw("_zoomOut")},"keydown"),bind$5(v=this.keycharm).call(v,"[",function(){t.bindToRedraw("_zoomOut")},"keydown"),bind$5(g=this.keycharm).call(g,"]",function(){t.bindToRedraw("_zoomIn")},"keydown"),bind$5(m=this.keycharm).call(m,"pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),bind$5(b=this.keycharm).call(b,"pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),bind$5(E=this.keycharm).call(E,"up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),bind$5(w=this.keycharm).call(w,"down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),bind$5(_=this.keycharm).call(_,"left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),bind$5(O=this.keycharm).call(O,"right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),bind$5(S=this.keycharm).call(S,"=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),bind$5(T=this.keycharm).call(T,"num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),bind$5(I=this.keycharm).call(I,"num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),bind$5(k=this.keycharm).call(k,"-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),bind$5(N=this.keycharm).call(N,"[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),bind$5(R=this.keycharm).call(R,"]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),bind$5(C=this.keycharm).call(C,"pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),bind$5(A=this.keycharm).call(A,"pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")}}}]),e}();function _createForOfIteratorHelper$4(e,r){var t=typeof symbol!="undefined"&&getIteratorMethod$1(e)||e["@@iterator"];if(!t){if(isArray$1(e)||(t=_unsupportedIterableToArray$4(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,l;return{s:function(){t=t.call(e)},n:function(){var f=t.next();return o=f.done,f},e:function(f){s=!0,l=f},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function _unsupportedIterableToArray$4(e,r){var t;if(!!e){if(typeof e=="string")return _arrayLikeToArray$4(e,r);var n=slice$1(t=Object.prototype.toString.call(e)).call(t,8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return from$2(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$4(e,r)}}function _arrayLikeToArray$4(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var InteractionHandler=function(){function e(r,t,n){var a,o,s,l,u,f,d,v,g,m,b,E,w;_classCallCheck(this,e),this.body=r,this.canvas=t,this.selectionHandler=n,this.navigationHandler=new NavigationHandler(r,t),this.body.eventListeners.onTap=bind$5(a=this.onTap).call(a,this),this.body.eventListeners.onTouch=bind$5(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=bind$5(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=bind$5(l=this.onHold).call(l,this),this.body.eventListeners.onDragStart=bind$5(u=this.onDragStart).call(u,this),this.body.eventListeners.onDrag=bind$5(f=this.onDrag).call(f,this),this.body.eventListeners.onDragEnd=bind$5(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=bind$5(v=this.onMouseWheel).call(v,this),this.body.eventListeners.onPinch=bind$5(g=this.onPinch).call(g,this),this.body.eventListeners.onMouseMove=bind$5(m=this.onMouseMove).call(m,this),this.body.eventListeners.onRelease=bind$5(b=this.onRelease).call(b,this),this.body.eventListeners.onContext=bind$5(E=this.onContext).call(E,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=bind$5(w=this.getPointer).call(w,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},assign$2(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(e,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){if(t!==void 0){var n=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];selectiveNotDeepExtend(n,this.options,t),mergeOptions(this.options,t,"keyboard"),t.tooltip&&(assign$2(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=parseColor(t.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(t){var n=this.getPointer(t.center),a=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(n,a),this.selectionHandler.commitAndEmit(n,t),this.selectionHandler.generateClickEvent("click",t,n)}},{key:"onDoubleTap",value:function(t){var n=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,n)}},{key:"onHold",value:function(t){var n=this.getPointer(t.center),a=this.selectionHandler.options.multiselect;this.checkSelectionChanges(n,a),this.selectionHandler.commitAndEmit(n,t),this.selectionHandler.generateClickEvent("click",t,n),this.selectionHandler.generateClickEvent("hold",t,n)}},{key:"onRelease",value:function(t){if(new Date().valueOf()-this.touchTime>10){var n=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,n),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(t){var n=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,n)}},{key:"checkSelectionChanges",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n===!0?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}},{key:"_determineDifference",value:function(t,n){var a=function(s,l){for(var u=[],f=0;f<s.length;f++){var d=s[f];indexOf(l).call(l,d)===-1&&u.push(d)}return u};return{nodes:a(t.nodes,n.nodes),edges:a(t.edges,n.edges)}}},{key:"onDragStart",value:function(t){if(!this.drag.dragging){this.drag.pointer===void 0&&this.onTouch(t);var n=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=assign$2({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;var a=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(a.x),y:this.canvas._YconvertDOMtoCanvas(a.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(a.x),y:this.canvas._YconvertDOMtoCanvas(a.y)}}if(n!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=n.id,n.isSelected()===!1&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(n)),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer);var o=_createForOfIteratorHelper$4(this.selectionHandler.getSelectedNodes()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u={id:l.id,node:l,x:l.x,y:l.y,xFixed:l.options.fixed.x,yFixed:l.options.fixed.y};l.options.fixed.x=!0,l.options.fixed.y=!0,this.drag.selection.push(u)}}catch(f){o.e(f)}finally{o.f()}}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(t){var n=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var a=this.getPointer(t.center),o=this.drag.selection;if(o&&o.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",t,a);var s=a.x-this.drag.pointer.x,l=a.y-this.drag.pointer.y;forEach$2(o).call(o,function(d){var v=d.node;d.xFixed===!1&&(v.x=n.canvas._XconvertDOMtoCanvas(n.canvas._XconvertCanvasToDOM(d.x)+s)),d.yFixed===!1&&(v.y=n.canvas._YconvertDOMtoCanvas(n.canvas._YconvertCanvasToDOM(d.y)+l))}),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,a,void 0,!0),this.drag.pointer===void 0){this.onDragStart(t);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(a.x),y:this.canvas._YconvertDOMtoCanvas(a.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,a,void 0,!0),this.drag.pointer===void 0){this.onDragStart(t);return}var u=a.x-this.drag.pointer.x,f=a.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+u,y:this.drag.translation.y+f},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(t){var n=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var a;this.body.selectionBox.show=!1;var o=this.body.selectionBox.position,s={minX:Math.min(o.start.x,o.end.x),minY:Math.min(o.start.y,o.end.y),maxX:Math.max(o.start.x,o.end.x),maxY:Math.max(o.start.y,o.end.y)},l=filter(a=this.body.nodeIndices).call(a,function(d){var v=n.body.nodes[d];return v.x>=s.minX&&v.x<=s.maxX&&v.y>=s.minY&&v.y<=s.maxY});forEach$2(l).call(l,function(d){return n.selectionHandler.selectObject(n.body.nodes[d])});var u=this.getPointer(t.center);this.selectionHandler.commitAndEmit(u,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var f=this.drag.selection;f&&f.length?(forEach$2(f).call(f,function(d){d.node.options.fixed.x=d.xFixed,d.node.options.fixed.y=d.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(t){var n=this.getPointer(t.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var a=this.pinch.scale*t.scale;this.zoom(a,n)}},{key:"zoom",value:function(t,n){if(this.options.zoomView===!0){var a=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var o=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(o=this.canvas.DOMtoCanvas(this.drag.pointer));var s=this.body.view.translation,l=t/a,u=(1-l)*n.x+s.x*l,f=(1-l)*n.y+s.y*l;if(this.body.view.scale=t,this.body.view.translation={x:u,y:f},o!=null){var d=this.canvas.canvasToDOM(o);this.drag.pointer.x=d.x,this.drag.pointer.y=d.y}this.body.emitter.emit("_requestRedraw"),a<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:n}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:n})}}},{key:"onMouseWheel",value:function(t){if(this.options.zoomView===!0){if(t.deltaY!==0){var n=this.body.view.scale;n*=1+(t.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);var a=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(n,a)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var n=this,a=this.getPointer({x:t.clientX,y:t.clientY}),o=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(a),this.popup.hidden===!1&&(o=!0,this.popup.setPosition(a.x+3,a.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),o===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout$1(function(){return n._checkShowPopup(a)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(t,a)}},{key:"_checkShowPopup",value:function(t){var n=this.canvas._XconvertDOMtoCanvas(t.x),a=this.canvas._YconvertDOMtoCanvas(t.y),o={left:n,top:a,right:n,bottom:a},s=this.popupObj===void 0?void 0:this.popupObj.id,l=!1,u="node";if(this.popupObj===void 0){for(var f=this.body.nodeIndices,d=this.body.nodes,v,g=[],m=0;m<f.length;m++)v=d[f[m]],v.isOverlappingWith(o)===!0&&(l=!0,v.getTitle()!==void 0&&g.push(f[m]));g.length>0&&(this.popupObj=d[g[g.length-1]],l=!0)}if(this.popupObj===void 0&&l===!1){for(var b=this.body.edgeIndices,E=this.body.edges,w,_=[],O=0;O<b.length;O++)w=E[b[O]],w.isOverlappingWith(o)===!0&&w.connected===!0&&w.getTitle()!==void 0&&_.push(b[O]);_.length>0&&(this.popupObj=E[_[_.length-1]],u="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new Popup$1(this.canvas.frame)),this.popup.popupTargetType=u,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var n=this.selectionHandler._pointerToPositionObject(t),a=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(a=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(n),a===!0)){var o=this.selectionHandler.getNodeAt(t);a=o===void 0?!1:o.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(t)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(a=this.body.edges[this.popup.popupTargetId].isOverlappingWith(n));a===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),e}(),collection$1=collection$3,collectionStrong=collectionStrong$2;collection$1("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},collectionStrong);var path$1=path$x,set$2=path$1.Set,parent$4=set$2,set$1=parent$4,set=set$1,redefineAll$1=redefineAll$3,getWeakData=internalMetadata.exports.getWeakData,anObject=anObject$c,isObject$1=isObject$j,anInstance=anInstance$3,iterate=iterate$3,ArrayIterationModule=arrayIteration,$has=has$c,InternalStateModule=internalState,setInternalState=InternalStateModule.set,internalStateGetterFor=InternalStateModule.getterFor,find=ArrayIterationModule.find,findIndex=ArrayIterationModule.findIndex,id=0,uncaughtFrozenStore=function(e){return e.frozen||(e.frozen=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.entries=[]},findUncaughtFrozen=function(e,r){return find(e.entries,function(t){return t[0]===r})};UncaughtFrozenStore.prototype={get:function(e){var r=findUncaughtFrozen(this,e);if(r)return r[1]},has:function(e){return!!findUncaughtFrozen(this,e)},set:function(e,r){var t=findUncaughtFrozen(this,e);t?t[1]=r:this.entries.push([e,r])},delete:function(e){var r=findIndex(this.entries,function(t){return t[0]===e});return~r&&this.entries.splice(r,1),!!~r}};var collectionWeak$1={getConstructor:function(e,r,t,n){var a=e(function(l,u){anInstance(l,a,r),setInternalState(l,{type:r,id:id++,frozen:void 0}),u!=null&&iterate(u,l[n],{that:l,AS_ENTRIES:t})}),o=internalStateGetterFor(r),s=function(l,u,f){var d=o(l),v=getWeakData(anObject(u),!0);return v===!0?uncaughtFrozenStore(d).set(u,f):v[d.id]=f,l};return redefineAll$1(a.prototype,{delete:function(l){var u=o(this);if(!isObject$1(l))return!1;var f=getWeakData(l);return f===!0?uncaughtFrozenStore(u).delete(l):f&&$has(f,u.id)&&delete f[u.id]},has:function(u){var f=o(this);if(!isObject$1(u))return!1;var d=getWeakData(u);return d===!0?uncaughtFrozenStore(f).has(u):d&&$has(d,f.id)}}),redefineAll$1(a.prototype,t?{get:function(u){var f=o(this);if(isObject$1(u)){var d=getWeakData(u);return d===!0?uncaughtFrozenStore(f).get(u):d?d[f.id]:void 0}},set:function(u,f){return s(this,u,f)}}:{add:function(u){return s(this,u,!0)}}),a}},global$2=global$k,redefineAll=redefineAll$3,InternalMetadataModule=internalMetadata.exports,collection=collection$3,collectionWeak=collectionWeak$1,isObject=isObject$j,enforceIternalState=internalState.enforce,NATIVE_WEAK_MAP=nativeWeakMap,IS_IE11=!global$2.ActiveXObject&&"ActiveXObject"in global$2,isExtensible=Object.isExtensible,InternalWeakMap,wrapper=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},$WeakMap=collection("WeakMap",wrapper,collectionWeak);if(NATIVE_WEAK_MAP&&IS_IE11){InternalWeakMap=collectionWeak.getConstructor(wrapper,"WeakMap",!0),InternalMetadataModule.enable();var WeakMapPrototype=$WeakMap.prototype,nativeDelete=WeakMapPrototype.delete,nativeHas=WeakMapPrototype.has,nativeGet=WeakMapPrototype.get,nativeSet=WeakMapPrototype.set;redefineAll(WeakMapPrototype,{delete:function(e){if(isObject(e)&&!isExtensible(e)){var r=enforceIternalState(this);return r.frozen||(r.frozen=new InternalWeakMap),nativeDelete.call(this,e)||r.frozen.delete(e)}return nativeDelete.call(this,e)},has:function(r){if(isObject(r)&&!isExtensible(r)){var t=enforceIternalState(this);return t.frozen||(t.frozen=new InternalWeakMap),nativeHas.call(this,r)||t.frozen.has(r)}return nativeHas.call(this,r)},get:function(r){if(isObject(r)&&!isExtensible(r)){var t=enforceIternalState(this);return t.frozen||(t.frozen=new InternalWeakMap),nativeHas.call(this,r)?nativeGet.call(this,r):t.frozen.get(r)}return nativeGet.call(this,r)},set:function(r,t){if(isObject(r)&&!isExtensible(r)){var n=enforceIternalState(this);n.frozen||(n.frozen=new InternalWeakMap),nativeHas.call(this,r)?nativeSet.call(this,r,t):n.frozen.set(r,t)}else nativeSet.call(this,r,t);return this}})}var path=path$x,weakMap$2=path.WeakMap,parent$3=weakMap$2,weakMap$1=parent$3,weakMap=weakMap$1;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __classPrivateFieldGet(e,r,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(e):n?n.value:r.get(e)}function __classPrivateFieldSet(e,r,t,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!a:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,t):a?a.value=t:r.set(e,t),t}function _createForOfIteratorHelper$3(e,r){var t=typeof symbol!="undefined"&&getIteratorMethod$1(e)||e["@@iterator"];if(!t){if(isArray$1(e)||(t=_unsupportedIterableToArray$3(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,l;return{s:function(){t=t.call(e)},n:function(){var f=t.next();return o=f.done,f},e:function(f){s=!0,l=f},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function _unsupportedIterableToArray$3(e,r){var t;if(!!e){if(typeof e=="string")return _arrayLikeToArray$3(e,r);var n=slice$1(t=Object.prototype.toString.call(e)).call(t,8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return from$2(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$3(e,r)}}function _arrayLikeToArray$3(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var _SingleTypeSelectionAccumulator_previousSelection,_SingleTypeSelectionAccumulator_selection,_SelectionAccumulator_nodes,_SelectionAccumulator_edges,_SelectionAccumulator_commitHandler;function diffSets(e,r){var t=new set,n=_createForOfIteratorHelper$3(r),a;try{for(n.s();!(a=n.n()).done;){var o=a.value;e.has(o)||t.add(o)}}catch(s){n.e(s)}finally{n.f()}return t}var SingleTypeSelectionAccumulator=function(){function e(){_classCallCheck(this,e),_SingleTypeSelectionAccumulator_previousSelection.set(this,new set),_SingleTypeSelectionAccumulator_selection.set(this,new set)}return _createClass(e,[{key:"size",get:function(){return __classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").size}},{key:"add",value:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var o=0,s=n;o<s.length;o++){var l=s[o];__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").add(l)}}},{key:"delete",value:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var o=0,s=n;o<s.length;o++){var l=s[o];__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").delete(l)}}},{key:"clear",value:function(){__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").clear()}},{key:"getSelection",value:function(){return _toConsumableArray(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"))}},{key:"getChanges",value:function(){return{added:_toConsumableArray(diffSets(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"),__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"))),deleted:_toConsumableArray(diffSets(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"),__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"))),previous:_toConsumableArray(new set(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"))),current:_toConsumableArray(new set(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f")))}}},{key:"commit",value:function(){var t=this.getChanges();__classPrivateFieldSet(this,_SingleTypeSelectionAccumulator_previousSelection,__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"),"f"),__classPrivateFieldSet(this,_SingleTypeSelectionAccumulator_selection,new set(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f")),"f");var n=_createForOfIteratorHelper$3(t.added),a;try{for(n.s();!(a=n.n()).done;){var o=a.value;o.select()}}catch(f){n.e(f)}finally{n.f()}var s=_createForOfIteratorHelper$3(t.deleted),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.unselect()}}catch(f){s.e(f)}finally{s.f()}return t}}]),e}();_SingleTypeSelectionAccumulator_previousSelection=new weakMap,_SingleTypeSelectionAccumulator_selection=new weakMap;var SelectionAccumulator=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};_classCallCheck(this,e),_SelectionAccumulator_nodes.set(this,new SingleTypeSelectionAccumulator),_SelectionAccumulator_edges.set(this,new SingleTypeSelectionAccumulator),_SelectionAccumulator_commitHandler.set(this,void 0),__classPrivateFieldSet(this,_SelectionAccumulator_commitHandler,r,"f")}return _createClass(e,[{key:"sizeNodes",get:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").size}},{key:"sizeEdges",get:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").size}},{key:"getNodes",value:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").getSelection()}},{key:"getEdges",value:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").getSelection()}},{key:"addNodes",value:function(){var t;(t=__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f")).add.apply(t,arguments)}},{key:"addEdges",value:function(){var t;(t=__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f")).add.apply(t,arguments)}},{key:"deleteNodes",value:function(t){__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").delete(t)}},{key:"deleteEdges",value:function(t){__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").delete(t)}},{key:"clear",value:function(){__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").clear(),__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").clear()}},{key:"commit",value:function(){for(var t,n,a={nodes:__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").commit(),edges:__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").commit()},o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return(t=__classPrivateFieldGet(this,_SelectionAccumulator_commitHandler,"f")).call.apply(t,concat(n=[this,a]).call(n,s)),a}}]),e}();_SelectionAccumulator_nodes=new weakMap,_SelectionAccumulator_edges=new weakMap,_SelectionAccumulator_commitHandler=new weakMap;function _createForOfIteratorHelper$2(e,r){var t=typeof symbol!="undefined"&&getIteratorMethod$1(e)||e["@@iterator"];if(!t){if(isArray$1(e)||(t=_unsupportedIterableToArray$2(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,l;return{s:function(){t=t.call(e)},n:function(){var f=t.next();return o=f.done,f},e:function(f){s=!0,l=f},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function _unsupportedIterableToArray$2(e,r){var t;if(!!e){if(typeof e=="string")return _arrayLikeToArray$2(e,r);var n=slice$1(t=Object.prototype.toString.call(e)).call(t,8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return from$2(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$2(e,r)}}function _arrayLikeToArray$2(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var SelectionHandler=function(){function e(r,t){var n=this;_classCallCheck(this,e),this.body=r,this.canvas=t,this._selectionAccumulator=new SelectionAccumulator,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},assign$2(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){n.updateSelection()})}return _createClass(e,[{key:"setOptions",value:function(t){if(t!==void 0){var n=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];selectiveDeepExtend(n,this.options,t)}}},{key:"selectOnPoint",value:function(t){var n=!1;if(this.options.selectable===!0){var a=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),a!==void 0&&(n=this.selectObject(a)),this.body.emitter.emit("_requestRedraw")}return n}},{key:"selectAdditionalOnPoint",value:function(t){var n=!1;if(this.options.selectable===!0){var a=this.getNodeAt(t)||this.getEdgeAt(t);a!==void 0&&(n=!0,a.isSelected()===!0?this.deselectObject(a):this.selectObject(a),this.body.emitter.emit("_requestRedraw"))}return n}},{key:"_initBaseEvent",value:function(t,n){var a={};return a.pointer={DOM:{x:n.x,y:n.y},canvas:this.canvas.DOMtoCanvas(n)},a.event=t,a}},{key:"generateClickEvent",value:function(t,n,a,o){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,l=this._initBaseEvent(n,a);if(s===!0)l.nodes=[],l.edges=[];else{var u=this.getSelection();l.nodes=u.nodes,l.edges=u.edges}o!==void 0&&(l.previousSelection=o),t=="click"&&(l.items=this.getClickedItems(a)),n.controlEdge!==void 0&&(l.controlEdge=n.controlEdge),this.body.emitter.emit(t,l)}},{key:"selectObject",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(t!==void 0){if(t instanceof Node){if(n===!0){var a;(a=this._selectionAccumulator).addEdges.apply(a,_toConsumableArray(t.edges))}this._selectionAccumulator.addNodes(t)}else this._selectionAccumulator.addEdges(t);return!0}return!1}},{key:"deselectObject",value:function(t){t.isSelected()===!0&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var n=[],a=this.body.nodes,o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodeIndices[o];a[s].isOverlappingWith(t)&&n.push(s)}return n}},{key:"_pointerToPositionObject",value:function(t){var n=this.canvas.DOMtoCanvas(t);return{left:n.x-1,top:n.y+1,right:n.x+1,bottom:n.y-1}}},{key:"getNodeAt",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this._pointerToPositionObject(t),o=this._getAllNodesOverlappingWith(a);if(o.length>0)return n===!0?this.body.nodes[o[o.length-1]]:o[o.length-1]}},{key:"_getEdgesOverlappingWith",value:function(t,n){for(var a=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var s=this.body.edgeIndices[o];a[s].isOverlappingWith(t)&&n.push(s)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var n=[];return this._getEdgesOverlappingWith(t,n),n}},{key:"getEdgeAt",value:function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this.canvas.DOMtoCanvas(t),o=10,s=null,l=this.body.edges,u=0;u<this.body.edgeIndices.length;u++){var f=this.body.edgeIndices[u],d=l[f];if(d.connected){var v=d.from.x,g=d.from.y,m=d.to.x,b=d.to.y,E=d.edgeType.getDistanceToEdge(v,g,m,b,a.x,a.y);E<o&&(s=f,o=E)}}if(s!==null)return n===!0?this.body.edges[s]:s}},{key:"_addToHover",value:function(t){t instanceof Node?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){if(t instanceof Node){var n;this._selectionAccumulator.deleteNodes(t),(n=this._selectionAccumulator).deleteEdges.apply(n,_toConsumableArray(t.edges))}else this._selectionAccumulator.deleteEdges(t)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(t){for(var n=0;n<t.edges.length;n++){var a=t.edges[n];a.hover=!0,this._addToHover(a)}}},{key:"emitBlurEvent",value:function(t,n,a){var o=this._initBaseEvent(t,n);a.hover===!0&&(a.hover=!1,a instanceof Node?(o.node=a.id,this.body.emitter.emit("blurNode",o)):(o.edge=a.id,this.body.emitter.emit("blurEdge",o)))}},{key:"emitHoverEvent",value:function(t,n,a){var o=this._initBaseEvent(t,n),s=!1;return a.hover===!1&&(a.hover=!0,this._addToHover(a),s=!0,a instanceof Node?(o.node=a.id,this.body.emitter.emit("hoverNode",o)):(o.edge=a.id,this.body.emitter.emit("hoverEdge",o))),s}},{key:"hoverObject",value:function(t,n){var a=this.getNodeAt(n);a===void 0&&(a=this.getEdgeAt(n));var o=!1;for(var s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(a===void 0||a instanceof Node&&a.id!=s||a instanceof Edge)&&(this.emitBlurEvent(t,n,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],o=!0);for(var l in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,l)&&(o===!0?(this.hoverObj.edges[l].hover=!1,delete this.hoverObj.edges[l]):(a===void 0||a instanceof Edge&&a.id!=l||a instanceof Node&&!a.hover)&&(this.emitBlurEvent(t,n,this.hoverObj.edges[l]),delete this.hoverObj.edges[l],o=!0));if(a!==void 0){var u=keys(this.hoverObj.edges).length,f=keys(this.hoverObj.nodes).length,d=a instanceof Edge&&u===0&&f===0,v=a instanceof Node&&u===0&&f===0;(o||d||v)&&(o=this.emitHoverEvent(t,n,a)),a instanceof Node&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(a)}o===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(t,n){var a=!1,o=this._selectionAccumulator.commit(),s={nodes:o.nodes.previous,edges:o.edges.previous};o.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",n,t,s),a=!0),o.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",n,t,s),a=!0),o.nodes.added.length>0&&(this.generateClickEvent("selectNode",n,t),a=!0),o.edges.added.length>0&&(this.generateClickEvent("selectEdge",n,t),a=!0),a===!0&&this.generateClickEvent("select",n,t)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var t;return map$3(t=this._selectionAccumulator.getNodes()).call(t,function(n){return n.id})}},{key:"getSelectedEdgeIds",value:function(){var t;return map$3(t=this._selectionAccumulator.getEdges()).call(t,function(n){return n.id})}},{key:"setSelection",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((n.unselectAll||n.unselectAll===void 0)&&this.unselectAll(),t.nodes){var a=_createForOfIteratorHelper$2(t.nodes),o;try{for(a.s();!(o=a.n()).done;){var s=o.value,l=this.body.nodes[s];if(!l)throw new RangeError('Node with id "'+s+'" not found');this.selectObject(l,n.highlightEdges)}}catch(g){a.e(g)}finally{a.f()}}if(t.edges){var u=_createForOfIteratorHelper$2(t.edges),f;try{for(u.s();!(f=u.n()).done;){var d=f.value,v=this.body.edges[d];if(!v)throw new RangeError('Edge with id "'+d+'" not found');this.selectObject(v)}}catch(g){u.e(g)}finally{u.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t||t.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:n})}},{key:"selectEdges",value:function(t){if(!t||t.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(var n in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,n.id)||this._selectionAccumulator.deleteEdges(n)}},{key:"getClickedItems",value:function(t){for(var n=this.canvas.DOMtoCanvas(t),a=[],o=this.body.nodeIndices,s=this.body.nodes,l=o.length-1;l>=0;l--){var u=s[o[l]],f=u.getItemsOnPoint(n);a.push.apply(a,f)}for(var d=this.body.edgeIndices,v=this.body.edges,g=d.length-1;g>=0;g--){var m=v[d[g]],b=m.getItemsOnPoint(n);a.push.apply(a,b)}return a}}]),e}(),floor=Math.floor,mergeSort=function(e,r){var t=e.length,n=floor(t/2);return t<8?insertionSort(e,r):merge(mergeSort(e.slice(0,n),r),mergeSort(e.slice(n),r),r)},insertionSort=function(e,r){for(var t=e.length,n=1,a,o;n<t;){for(o=n,a=e[n];o&&r(e[o-1],a)>0;)e[o]=e[--o];o!==n++&&(e[o]=a)}return e},merge=function(e,r,t){for(var n=e.length,a=r.length,o=0,s=0,l=[];o<n||s<a;)o<n&&s<a?l.push(t(e[o],r[s])<=0?e[o++]:r[s++]):l.push(o<n?e[o++]:r[s++]);return l},arraySort=mergeSort,userAgent$1=engineUserAgent,firefox=userAgent$1.match(/firefox\/(\d+)/i),engineFfVersion=!!firefox&&+firefox[1],UA=engineUserAgent,engineIsIeOrEdge=/MSIE|Trident/.test(UA),userAgent=engineUserAgent,webkit=userAgent.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion=!!webkit&&+webkit[1],$$2=_export,aFunction$1=aFunction$5,toObject$1=toObject$d,toLength$1=toLength$a,toString=toString$9,fails=fails$m,internalSort=arraySort,arrayMethodIsStrict$2=arrayMethodIsStrict$6,FF=engineFfVersion,IE_OR_EDGE=engineIsIeOrEdge,V8=engineV8Version,WEBKIT=engineWebkitVersion,test=[],nativeSort=test.sort,FAILS_ON_UNDEFINED=fails(function(){test.sort(void 0)}),FAILS_ON_NULL=fails(function(){test.sort(null)}),STRICT_METHOD$2=arrayMethodIsStrict$2("sort"),STABLE_SORT=!fails(function(){if(V8)return V8<70;if(!(FF&&FF>3)){if(IE_OR_EDGE)return!0;if(WEBKIT)return WEBKIT<603;var e="",r,t,n,a;for(r=65;r<76;r++){switch(t=String.fromCharCode(r),r){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(a=0;a<47;a++)test.push({k:t+a,v:n})}for(test.sort(function(o,s){return s.v-o.v}),a=0;a<test.length;a++)t=test[a].k.charAt(0),e.charAt(e.length-1)!==t&&(e+=t);return e!=="DGBEFHACIJK"}}),FORCED=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD$2||!STABLE_SORT,getSortCompare=function(e){return function(r,t){return t===void 0?-1:r===void 0?1:e!==void 0?+e(r,t)||0:toString(r)>toString(t)?1:-1}};$$2({target:"Array",proto:!0,forced:FORCED},{sort:function e(r){r!==void 0&&aFunction$1(r);var t=toObject$1(this);if(STABLE_SORT)return r===void 0?nativeSort.call(t):nativeSort.call(t,r);var n=[],a=toLength$1(t.length),o,s;for(s=0;s<a;s++)s in t&&n.push(t[s]);for(n=internalSort(n,getSortCompare(r)),o=n.length,s=0;s<o;)t[s]=n[s++];for(;s<a;)delete t[s++];return t}});var entryVirtual$2=entryVirtual$i,sort$3=entryVirtual$2("Array").sort,sort$2=sort$3,ArrayPrototype$2=Array.prototype,sort_1=function(e){var r=e.sort;return e===ArrayPrototype$2||e instanceof Array&&r===ArrayPrototype$2.sort?sort$2:r},parent$2=sort_1,sort$1=parent$2,sort=sort$1,aFunction=aFunction$5,toObject=toObject$d,IndexedObject=indexedObject,toLength=toLength$a,createMethod=function(e){return function(r,t,n,a){aFunction(t);var o=toObject(r),s=IndexedObject(o),l=toLength(o.length),u=e?l-1:0,f=e?-1:1;if(n<2)for(;;){if(u in s){a=s[u],u+=f;break}if(u+=f,e?u<0:l<=u)throw TypeError("Reduce of empty array with no initial value")}for(;e?u>=0:l>u;u+=f)u in s&&(a=t(a,s[u],u,o));return a}},arrayReduce={left:createMethod(!1),right:createMethod(!0)},classof=classofRaw$1,global$1=global$k,engineIsNode=classof(global$1.process)=="process",$$1=_export,$reduce=arrayReduce.left,arrayMethodIsStrict$1=arrayMethodIsStrict$6,CHROME_VERSION=engineV8Version,IS_NODE=engineIsNode,STRICT_METHOD$1=arrayMethodIsStrict$1("reduce"),CHROME_BUG=!IS_NODE&&CHROME_VERSION>79&&CHROME_VERSION<83;$$1({target:"Array",proto:!0,forced:!STRICT_METHOD$1||CHROME_BUG},{reduce:function e(r){return $reduce(this,r,arguments.length,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$1=entryVirtual$i,reduce$3=entryVirtual$1("Array").reduce,reduce$2=reduce$3,ArrayPrototype$1=Array.prototype,reduce_1=function(e){var r=e.reduce;return e===ArrayPrototype$1||e instanceof Array&&r===ArrayPrototype$1.reduce?reduce$2:r},parent$1=reduce_1,reduce$1=parent$1,reduce=reduce$1,timsort$1={};(function(e){(function(r,t){t(e)})(commonjsGlobal,function(r){r.__esModule=!0,r.sort=w;function t(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")}var n=32,a=7,o=256,s=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function l(_){return _<1e5?_<100?_<10?0:1:_<1e4?_<1e3?2:3:4:_<1e7?_<1e6?5:6:_<1e9?_<1e8?7:8:9}function u(_,O){if(_===O)return 0;if(~~_===_&&~~O===O){if(_===0||O===0)return _<O?-1:1;if(_<0||O<0){if(O>=0)return-1;if(_>=0)return 1;_=-_,O=-O}var S=l(_),T=l(O),I=0;return S<T?(_*=s[T-S-1],O/=10,I=-1):S>T&&(O*=s[S-T-1],_/=10,I=1),_===O?I:_<O?-1:1}var k=String(_),N=String(O);return k===N?0:k<N?-1:1}function f(_){for(var O=0;_>=n;)O|=_&1,_>>=1;return _+O}function d(_,O,S,T){var I=O+1;if(I===S)return 1;if(T(_[I++],_[O])<0){for(;I<S&&T(_[I],_[I-1])<0;)I++;v(_,O,I)}else for(;I<S&&T(_[I],_[I-1])>=0;)I++;return I-O}function v(_,O,S){for(S--;O<S;){var T=_[O];_[O++]=_[S],_[S--]=T}}function g(_,O,S,T,I){for(T===O&&T++;T<S;T++){for(var k=_[T],N=O,R=T;N<R;){var C=N+R>>>1;I(k,_[C])<0?R=C:N=C+1}var A=T-N;switch(A){case 3:_[N+3]=_[N+2];case 2:_[N+2]=_[N+1];case 1:_[N+1]=_[N];break;default:for(;A>0;)_[N+A]=_[N+A-1],A--}_[N]=k}}function m(_,O,S,T,I,k){var N=0,R=0,C=1;if(k(_,O[S+I])>0){for(R=T-I;C<R&&k(_,O[S+I+C])>0;)N=C,C=(C<<1)+1,C<=0&&(C=R);C>R&&(C=R),N+=I,C+=I}else{for(R=I+1;C<R&&k(_,O[S+I-C])<=0;)N=C,C=(C<<1)+1,C<=0&&(C=R);C>R&&(C=R);var A=N;N=I-C,C=I-A}for(N++;N<C;){var F=N+(C-N>>>1);k(_,O[S+F])>0?N=F+1:C=F}return C}function b(_,O,S,T,I,k){var N=0,R=0,C=1;if(k(_,O[S+I])<0){for(R=I+1;C<R&&k(_,O[S+I-C])<0;)N=C,C=(C<<1)+1,C<=0&&(C=R);C>R&&(C=R);var A=N;N=I-C,C=I-A}else{for(R=T-I;C<R&&k(_,O[S+I+C])>=0;)N=C,C=(C<<1)+1,C<=0&&(C=R);C>R&&(C=R),N+=I,C+=I}for(N++;N<C;){var F=N+(C-N>>>1);k(_,O[S+F])<0?C=F:N=F+1}return C}var E=function(){function _(O,S){t(this,_),this.array=null,this.compare=null,this.minGallop=a,this.length=0,this.tmpStorageLength=o,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=O,this.compare=S,this.length=O.length,this.length<2*o&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return _.prototype.pushRun=function(S,T){this.runStart[this.stackSize]=S,this.runLength[this.stackSize]=T,this.stackSize+=1},_.prototype.mergeRuns=function(){for(;this.stackSize>1;){var S=this.stackSize-2;if(S>=1&&this.runLength[S-1]<=this.runLength[S]+this.runLength[S+1]||S>=2&&this.runLength[S-2]<=this.runLength[S]+this.runLength[S-1])this.runLength[S-1]<this.runLength[S+1]&&S--;else if(this.runLength[S]>this.runLength[S+1])break;this.mergeAt(S)}},_.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var S=this.stackSize-2;S>0&&this.runLength[S-1]<this.runLength[S+1]&&S--,this.mergeAt(S)}},_.prototype.mergeAt=function(S){var T=this.compare,I=this.array,k=this.runStart[S],N=this.runLength[S],R=this.runStart[S+1],C=this.runLength[S+1];this.runLength[S]=N+C,S===this.stackSize-3&&(this.runStart[S+1]=this.runStart[S+2],this.runLength[S+1]=this.runLength[S+2]),this.stackSize--;var A=b(I[R],I,k,N,0,T);k+=A,N-=A,N!==0&&(C=m(I[k+N-1],I,R,C,C-1,T),C!==0&&(N<=C?this.mergeLow(k,N,R,C):this.mergeHigh(k,N,R,C)))},_.prototype.mergeLow=function(S,T,I,k){var N=this.compare,R=this.array,C=this.tmp,A=0;for(A=0;A<T;A++)C[A]=R[S+A];var F=0,D=I,B=S;if(R[B++]=R[D++],--k==0){for(A=0;A<T;A++)R[B+A]=C[F+A];return}if(T===1){for(A=0;A<k;A++)R[B+A]=R[D+A];R[B+k]=C[F];return}for(var Z=this.minGallop;;){var ie=0,te=0,ee=!1;do if(N(R[D],C[F])<0){if(R[B++]=R[D++],te++,ie=0,--k==0){ee=!0;break}}else if(R[B++]=C[F++],ie++,te=0,--T==1){ee=!0;break}while((ie|te)<Z);if(ee)break;do{if(ie=b(R[D],C,F,T,0,N),ie!==0){for(A=0;A<ie;A++)R[B+A]=C[F+A];if(B+=ie,F+=ie,T-=ie,T<=1){ee=!0;break}}if(R[B++]=R[D++],--k==0){ee=!0;break}if(te=m(C[F],R,D,k,0,N),te!==0){for(A=0;A<te;A++)R[B+A]=R[D+A];if(B+=te,D+=te,k-=te,k===0){ee=!0;break}}if(R[B++]=C[F++],--T==1){ee=!0;break}Z--}while(ie>=a||te>=a);if(ee)break;Z<0&&(Z=0),Z+=2}if(this.minGallop=Z,Z<1&&(this.minGallop=1),T===1){for(A=0;A<k;A++)R[B+A]=R[D+A];R[B+k]=C[F]}else{if(T===0)throw new Error("mergeLow preconditions were not respected");for(A=0;A<T;A++)R[B+A]=C[F+A]}},_.prototype.mergeHigh=function(S,T,I,k){var N=this.compare,R=this.array,C=this.tmp,A=0;for(A=0;A<k;A++)C[A]=R[I+A];var F=S+T-1,D=k-1,B=I+k-1,Z=0,ie=0;if(R[B--]=R[F--],--T==0){for(Z=B-(k-1),A=0;A<k;A++)R[Z+A]=C[A];return}if(k===1){for(B-=T,F-=T,ie=B+1,Z=F+1,A=T-1;A>=0;A--)R[ie+A]=R[Z+A];R[B]=C[D];return}for(var te=this.minGallop;;){var ee=0,j=0,L=!1;do if(N(C[D],R[F])<0){if(R[B--]=R[F--],ee++,j=0,--T==0){L=!0;break}}else if(R[B--]=C[D--],j++,ee=0,--k==1){L=!0;break}while((ee|j)<te);if(L)break;do{if(ee=T-b(C[D],R,S,T,T-1,N),ee!==0){for(B-=ee,F-=ee,T-=ee,ie=B+1,Z=F+1,A=ee-1;A>=0;A--)R[ie+A]=R[Z+A];if(T===0){L=!0;break}}if(R[B--]=C[D--],--k==1){L=!0;break}if(j=k-m(R[F],C,0,k,k-1,N),j!==0){for(B-=j,D-=j,k-=j,ie=B+1,Z=D+1,A=0;A<j;A++)R[ie+A]=C[Z+A];if(k<=1){L=!0;break}}if(R[B--]=R[F--],--T==0){L=!0;break}te--}while(ee>=a||j>=a);if(L)break;te<0&&(te=0),te+=2}if(this.minGallop=te,te<1&&(this.minGallop=1),k===1){for(B-=T,F-=T,ie=B+1,Z=F+1,A=T-1;A>=0;A--)R[ie+A]=R[Z+A];R[B]=C[D]}else{if(k===0)throw new Error("mergeHigh preconditions were not respected");for(Z=B-(k-1),A=0;A<k;A++)R[Z+A]=C[A]}},_}();function w(_,O,S,T){if(!Array.isArray(_))throw new TypeError("Can only sort arrays");O?typeof O!="function"&&(T=S,S=O,O=u):O=u,S||(S=0),T||(T=_.length);var I=T-S;if(!(I<2)){var k=0;if(I<n){k=d(_,S,T,O),g(_,S,T,S+k,O);return}var N=new E(_,O),R=f(I);do{if(k=d(_,S,T,O),k<R){var C=I;C>R&&(C=R),g(_,S,S+C,S+k,O),k=C}N.pushRun(S,k),N.mergeRuns(),I-=k,S+=k}while(I!==0);N.forceMergeRuns()}}})})(timsort$1);var timsort=timsort$1;function _createSuper(e){var r=_isNativeReflectConstruct();return function(){var n=_getPrototypeOf(e),a;if(r){var o=_getPrototypeOf(this).constructor;a=construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var DirectionInterface=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(t,n,a),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,n){this.fake_use(t,n),this.abstract()}},{key:"shift",value:function(t,n){this.fake_use(t,n),this.abstract()}}]),e}(),VerticalStrategy=function(e){_inherits(t,e);var r=_createSuper(t);function t(n){var a;return _classCallCheck(this,t),a=r.call(this),a.layout=n,a}return _createClass(t,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(a){return a.x}},{key:"setPosition",value:function(a,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;s!==void 0&&this.layout.hierarchical.addToOrdering(a,s),a.x=o}},{key:"getTreeSize",value:function(a){var o=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,a);return{min:o.min_x,max:o.max_x}}},{key:"sort",value:function(a){timsort.sort(a,function(o,s){return o.x-s.x})}},{key:"fix",value:function(a,o){a.y=this.layout.options.hierarchical.levelSeparation*o,a.options.fixed.y=!0}},{key:"shift",value:function(a,o){this.layout.body.nodes[a].x+=o}}]),t}(DirectionInterface),HorizontalStrategy=function(e){_inherits(t,e);var r=_createSuper(t);function t(n){var a;return _classCallCheck(this,t),a=r.call(this),a.layout=n,a}return _createClass(t,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(a){return a.y}},{key:"setPosition",value:function(a,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;s!==void 0&&this.layout.hierarchical.addToOrdering(a,s),a.y=o}},{key:"getTreeSize",value:function(a){var o=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,a);return{min:o.min_y,max:o.max_y}}},{key:"sort",value:function(a){timsort.sort(a,function(o,s){return o.y-s.y})}},{key:"fix",value:function(a,o){a.x=this.layout.options.hierarchical.levelSeparation*o,a.options.fixed.x=!0}},{key:"shift",value:function(a,o){this.layout.body.nodes[a].y+=o}}]),t}(DirectionInterface),$=_export,$every=arrayIteration.every,arrayMethodIsStrict=arrayMethodIsStrict$6,STRICT_METHOD=arrayMethodIsStrict("every");$({target:"Array",proto:!0,forced:!STRICT_METHOD},{every:function e(r){return $every(this,r,arguments.length>1?arguments[1]:void 0)}});var entryVirtual=entryVirtual$i,every$3=entryVirtual("Array").every,every$2=every$3,ArrayPrototype=Array.prototype,every_1=function(e){var r=e.every;return e===ArrayPrototype||e instanceof Array&&r===ArrayPrototype.every?every$2:r},parent=every_1,every$1=parent,every=every$1;function _createForOfIteratorHelper$1(e,r){var t=typeof symbol!="undefined"&&getIteratorMethod$1(e)||e["@@iterator"];if(!t){if(isArray$1(e)||(t=_unsupportedIterableToArray$1(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,l;return{s:function(){t=t.call(e)},n:function(){var f=t.next();return o=f.done,f},e:function(f){s=!0,l=f},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function _unsupportedIterableToArray$1(e,r){var t;if(!!e){if(typeof e=="string")return _arrayLikeToArray$1(e,r);var n=slice$1(t=Object.prototype.toString.call(e)).call(t,8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return from$2(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$1(e,r)}}function _arrayLikeToArray$1(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function fillLevelsByDirectionCyclic(e,r){var t=new set;return forEach$2(e).call(e,function(n){var a;forEach$2(a=n.edges).call(a,function(o){o.connected&&t.add(o)})}),forEach$2(t).call(t,function(n){var a=n.from.id,o=n.to.id;r[a]==null&&(r[a]=0),(r[o]==null||r[a]>=r[o])&&(r[o]=r[a]+1)}),r}function fillLevelsByDirectionLeaves(e){return fillLevelsByDirection(function(r){var t,n;return every(t=filter(n=r.edges).call(n,function(a){return e.has(a.toId)})).call(t,function(a){return a.to===r})},function(r,t){return t>r},"from",e)}function fillLevelsByDirectionRoots(e){return fillLevelsByDirection(function(r){var t,n;return every(t=filter(n=r.edges).call(n,function(a){return e.has(a.toId)})).call(t,function(a){return a.from===r})},function(r,t){return t<r},"to",e)}function fillLevelsByDirection(e,r,t,n){var a,o=create$4(null),s=reduce(a=_toConsumableArray(values(n).call(n))).call(a,function(m,b){return m+1+b.edges.length},0),l=t+"Id",u=t==="to"?1:-1,f=_createForOfIteratorHelper$1(n),d;try{var v=function(){var b=_slicedToArray(d.value,2),E=b[0],w=b[1];if(!n.has(E)||!e(w))return"continue";o[E]=0;for(var _=[w],O=0,S=void 0,T=function(){var N,R;if(!n.has(E))return"continue";var C=o[S.id]+u;if(forEach$2(N=filter(R=S.edges).call(R,function(A){return A.connected&&A.to!==A.from&&A[t]!==S&&n.has(A.toId)&&n.has(A.fromId)})).call(N,function(A){var F=A[l],D=o[F];(D==null||r(C,D))&&(o[F]=C,_.push(A[t]))}),O>s)return{v:{v:fillLevelsByDirectionCyclic(n,o)}};++O};S=_.pop();){var I=T();if(I!=="continue"&&_typeof(I)==="object")return I.v}};for(f.s();!(d=f.n()).done;){var g=v();if(g!=="continue"&&_typeof(g)==="object")return g.v}}catch(m){f.e(m)}finally{f.f()}return o}var HierarchicalStatus=function(){function e(){_classCallCheck(this,e),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return _createClass(e,[{key:"addRelation",value:function(t,n){this.childrenReference[t]===void 0&&(this.childrenReference[t]=[]),this.childrenReference[t].push(n),this.parentReference[n]===void 0&&(this.parentReference[n]=[]),this.parentReference[n].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1){this.isTree=!1;return}this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,n){n!==void 0&&this.trees[t.id]===void 0&&(this.trees[t.id]=n,this.treeIndex=Math.max(n,this.treeIndex))}},{key:"ensureLevel",value:function(t){this.levels[t]===void 0&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var n=this,a={},o=function s(l){if(a[l]!==void 0)return a[l];var u=n.levels[l];if(n.childrenReference[l]){var f=n.childrenReference[l];if(f.length>0)for(var d=0;d<f.length;d++)u=Math.max(u,s(f[d]))}return a[l]=u,u};return o(t)}},{key:"levelDownstream",value:function(t,n){this.levels[n.id]===void 0&&(this.levels[t.id]===void 0&&(this.levels[t.id]=0),this.levels[n.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var n=1e9;for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&this.levels[a]!==void 0&&(n=Math.min(this.levels[a],n));for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&this.levels[o]!==void 0&&(this.levels[o]-=n)}},{key:"getTreeSize",value:function(t,n){var a=1e9,o=-1e9,s=1e9,l=-1e9;for(var u in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,u)&&this.trees[u]===n){var f=t[u];a=Math.min(f.x,a),o=Math.max(f.x,o),s=Math.min(f.y,s),l=Math.max(f.y,l)}return{min_x:a,max_x:o,min_y:s,max_y:l}}},{key:"hasSameParent",value:function(t,n){var a=this.parentReference[t.id],o=this.parentReference[n.id];if(a===void 0||o===void 0)return!1;for(var s=0;s<a.length;s++)for(var l=0;l<o.length;l++)if(a[s]==o[l])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,n){return this.trees[t.id]===this.trees[n.id]}},{key:"getLevels",value:function(){return keys(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,n){this.distributionOrdering[n]===void 0&&(this.distributionOrdering[n]=[]);var a=!1,o=this.distributionOrdering[n];for(var s in o)if(o[s]===t){a=!0;break}a||(this.distributionOrdering[n].push(t),this.distributionIndex[t.id]=this.distributionOrdering[n].length-1)}}]),e}(),LayoutEngine=function(){function e(r){_classCallCheck(this,e),this.body=r,this._resetRNG(Math.random()+":"+now$1()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},assign$2(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(e,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(t.options.hierarchical.enabled===!0){var n=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",n,!1)}})}},{key:"setOptions",value:function(t,n){if(t!==void 0){var a=this.options.hierarchical,o=a.enabled;if(selectiveDeepExtend(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),mergeOptions(this.options,t,"hierarchical"),t.randomSeed!==void 0&&this._resetRNG(t.randomSeed),a.enabled===!0)return o===!0&&this.body.emitter.emit("refresh",!0),a.direction==="RL"||a.direction==="DU"?a.levelSeparation>0&&(a.levelSeparation*=-1):a.levelSeparation<0&&(a.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(n);if(o===!0)return this.body.emitter.emit("refresh"),deepExtend(n,this.optionsBackup)}return n}},{key:"_resetRNG",value:function(t){this.initialRandomSeed=t,this._rng=Alea(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(this.options.hierarchical.enabled===!0){var n=this.optionsBackup.physics;t.physics===void 0||t.physics===!0?(t.physics={enabled:n.enabled===void 0?!0:n.enabled,solver:"hierarchicalRepulsion"},n.enabled=n.enabled===void 0?!0:n.enabled,n.solver=n.solver||"barnesHut"):_typeof(t.physics)==="object"?(n.enabled=t.physics.enabled===void 0?!0:t.physics.enabled,n.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):t.physics!==!1&&(n.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var a=this.direction.curveType();if(t.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(t.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if(typeof t.edges.smooth=="boolean")this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:a};else{var o=t.edges.smooth;o.type!==void 0&&o.type!=="dynamic"&&(a=o.type),this.optionsBackup.edges={smooth:{enabled:o.enabled===void 0?!0:o.enabled,type:o.type===void 0?"dynamic":o.type,roundness:o.roundness===void 0?.5:o.roundness,forceDirection:o.forceDirection===void 0?!1:o.forceDirection}},t.edges.smooth={enabled:o.enabled===void 0?!0:o.enabled,type:a,roundness:o.roundness===void 0?.5:o.roundness,forceDirection:o.forceDirection===void 0?!1:o.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",a)}return t}},{key:"positionInitially",value:function(t){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);for(var n=t.length+50,a=0;a<t.length;a++){var o=t[a],s=2*Math.PI*this._rng();o.x===void 0&&(o.x=n*Math.cos(s)),o.y===void 0&&(o.y=n*Math.sin(s))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var t=this.body.nodeIndices,n=0,a=0;a<t.length;a++){var o=this.body.nodes[t[a]];o.predefinedPosition===!0&&(n+=1)}if(n<.5*t.length){var s=10,l=0,u=this.options.clusterThreshold,f={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>u){for(var d=t.length;t.length>u&&l<=s;){l+=1;var v=t.length;l%3==0?this.body.modules.clustering.clusterBridges(f):this.body.modules.clustering.clusterOutliers(f);var g=t.length;if(v==g&&l%3!=0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*d)})}l>s&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var m=70,b=0;b<t.length;b++){var E=this.body.nodes[t[b]];E.predefinedPosition===!1&&(E.x+=(.5-this._rng())*m,E.y+=(.5-this._rng())*m)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=NetworkUtil.getRangeCore(this.body.nodes,this.body.nodeIndices),n=NetworkUtil.findCenter(t),a=0;a<this.body.nodeIndices.length;a++){var o=this.body.nodes[this.body.nodeIndices[a]];o.x-=n.x,o.y-=n.y}}},{key:"_declusterAll",value:function(){for(var t=!0;t===!0;){t=!1;for(var n=0;n<this.body.nodeIndices.length;n++)this.body.nodes[this.body.nodeIndices[n]].isCluster===!0&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[n],{},!1));t===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var t,n,a=!1,o=!1;this.lastNodeOnLevel={},this.hierarchical=new HierarchicalStatus;for(n in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&(t=this.body.nodes[n],t.options.level!==void 0?(a=!0,this.hierarchical.levels[n]=t.options.level):o=!0);if(o===!0&&a===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(o===!0){var s=this.options.hierarchical.sortMethod;s==="hubsize"?this._determineLevelsByHubsize():s==="directed"?this._determineLevelsDirected():s==="custom"&&this._determineLevelsCustomCallback()}for(var l in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,l)&&this.hierarchical.ensureLevel(l);var u=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(u),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,n=!1,a={},o=function(){for(var S=l(),T=0,I=0;I<S.length-1;I++){var k=S[I].max-S[I+1].min;T+=k+t.options.hierarchical.treeSpacing,s(I+1,T)}},s=function(S,T){var I=t.hierarchical.trees;for(var k in I)Object.prototype.hasOwnProperty.call(I,k)&&I[k]===S&&t.direction.shift(k,T)},l=function(){for(var S=[],T=0;T<t.hierarchical.numTrees();T++)S.push(t.direction.getTreeSize(T));return S},u=function O(S,T){if(!T[S.id]&&(T[S.id]=!0,t.hierarchical.childrenReference[S.id])){var I=t.hierarchical.childrenReference[S.id];if(I.length>0)for(var k=0;k<I.length;k++)O(t.body.nodes[I[k]],T)}},f=function(S){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,I=1e9,k=1e9,N=1e9,R=-1e9;for(var C in S)if(Object.prototype.hasOwnProperty.call(S,C)){var A=t.body.nodes[C],F=t.hierarchical.levels[A.id],D=t.direction.getPosition(A),B=t._getSpaceAroundNode(A,S),Z=_slicedToArray(B,2),ie=Z[0],te=Z[1];I=Math.min(ie,I),k=Math.min(te,k),F<=T&&(N=Math.min(D,N),R=Math.max(D,R))}return[N,R,I,k]},d=function(S,T){var I=t.hierarchical.getMaxLevel(S.id),k=t.hierarchical.getMaxLevel(T.id);return Math.min(I,k)},v=function(S,T,I){for(var k=t.hierarchical,N=0;N<T.length;N++){var R=T[N],C=k.distributionOrdering[R];if(C.length>1)for(var A=0;A<C.length-1;A++){var F=C[A],D=C[A+1];k.hasSameParent(F,D)&&k.inSameSubNetwork(F,D)&&S(F,D,I)}}},g=function(S,T){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,k=t.direction.getPosition(S),N=t.direction.getPosition(T),R=Math.abs(N-k),C=t.options.hierarchical.nodeSpacing;if(R>C){var A={},F={};u(S,A),u(T,F);var D=d(S,T),B=f(A,D),Z=f(F,D),ie=B[1],te=Z[0],ee=Z[2],j=Math.abs(ie-te);if(j>C){var L=ie-te+C;L<-ee+C&&(L=-ee+C),L<0&&(t._shiftBlock(T.id,L),n=!0,I===!0&&t._centerParent(T))}}},m=function(S,T){for(var I=T.id,k=T.edges,N=t.hierarchical.levels[T.id],R=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,C={},A=[],F=0;F<k.length;F++){var D=k[F];if(D.toId!=D.fromId){var B=D.toId==I?D.from:D.to;C[k[F].id]=B,t.hierarchical.levels[B.id]<N&&A.push(D)}}var Z=function(Q,Y){for(var se=0,le=0;le<Y.length;le++)if(C[Y[le].id]!==void 0){var fe=t.direction.getPosition(C[Y[le].id])-Q;se+=fe/Math.sqrt(fe*fe+R)}return se},ie=function(Q,Y){for(var se=0,le=0;le<Y.length;le++)if(C[Y[le].id]!==void 0){var fe=t.direction.getPosition(C[Y[le].id])-Q;se-=R*Math.pow(fe*fe+R,-1.5)}return se},te=function(Q,Y){for(var se=t.direction.getPosition(T),le={},fe=0;fe<Q;fe++){var ye=Z(se,Y),ce=ie(se,Y),ve=40,be=Math.max(-ve,Math.min(ve,Math.round(ye/ce)));if(se=se-be,le[se]!==void 0)break;le[se]=fe}return se},ee=function(Q){var Y=t.direction.getPosition(T);if(a[T.id]===void 0){var se={};u(T,se),a[T.id]=se}var le=f(a[T.id]),fe=le[2],ye=le[3],ce=Q-Y,ve=0;ce>0?ve=Math.min(ce,ye-t.options.hierarchical.nodeSpacing):ce<0&&(ve=-Math.min(-ce,fe-t.options.hierarchical.nodeSpacing)),ve!=0&&(t._shiftBlock(T.id,ve),n=!0)},j=function(Q){var Y=t.direction.getPosition(T),se=t._getSpaceAroundNode(T),le=_slicedToArray(se,2),fe=le[0],ye=le[1],ce=Q-Y,ve=Y;ce>0?ve=Math.min(Y+(ye-t.options.hierarchical.nodeSpacing),Q):ce<0&&(ve=Math.max(Y-(fe-t.options.hierarchical.nodeSpacing),Q)),ve!==Y&&(t.direction.setPosition(T,ve),n=!0)},L=te(S,A);ee(L),L=te(S,k),j(L)},b=function(S){var T=t.hierarchical.getLevels();T=reverse(T).call(T);for(var I=0;I<S;I++){n=!1;for(var k=0;k<T.length;k++)for(var N=T[k],R=t.hierarchical.distributionOrdering[N],C=0;C<R.length;C++)m(1e3,R[C]);if(n!==!0)break}},E=function(S){var T=t.hierarchical.getLevels();T=reverse(T).call(T);for(var I=0;I<S&&(n=!1,v(g,T,!0),n===!0);I++);},w=function(){for(var S in t.body.nodes)Object.prototype.hasOwnProperty.call(t.body.nodes,S)&&t._centerParent(t.body.nodes[S])},_=function(){var S=t.hierarchical.getLevels();S=reverse(S).call(S);for(var T=0;T<S.length;T++)for(var I=S[T],k=t.hierarchical.distributionOrdering[I],N=0;N<k.length;N++)t._centerParent(k[N])};this.options.hierarchical.blockShifting===!0&&(E(5),w()),this.options.hierarchical.edgeMinimization===!0&&b(20),this.options.hierarchical.parentCentralization===!0&&_(),o()}},{key:"_getSpaceAroundNode",value:function(t,n){var a=!0;n===void 0&&(a=!1);var o=this.hierarchical.levels[t.id];if(o!==void 0){var s=this.hierarchical.distributionIndex[t.id],l=this.direction.getPosition(t),u=this.hierarchical.distributionOrdering[o],f=1e9,d=1e9;if(s!==0){var v=u[s-1];if(a===!0&&n[v.id]===void 0||a===!1){var g=this.direction.getPosition(v);f=l-g}}if(s!=u.length-1){var m=u[s+1];if(a===!0&&n[m.id]===void 0||a===!1){var b=this.direction.getPosition(m);d=Math.min(d,b-l)}}return[f,d]}else return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var n=this.hierarchical.parentReference[t.id],a=0;a<n.length;a++){var o=n[a],s=this.body.nodes[o],l=this.hierarchical.childrenReference[o];if(l!==void 0){var u=this._getCenterPosition(l),f=this.direction.getPosition(s),d=this._getSpaceAroundNode(s),v=_slicedToArray(d,2),g=v[0],m=v[1],b=f-u;(b<0&&Math.abs(b)<m-this.options.hierarchical.nodeSpacing||b>0&&Math.abs(b)<g-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,u)}}}},{key:"_placeNodesByHierarchy",value:function(t){this.positionedNodes={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var a,o=keys(t[n]);o=this._indexArrayToNodes(o),sort(a=this.direction).call(a,o);for(var s=0,l=0;l<o.length;l++){var u=o[l];if(this.positionedNodes[u.id]===void 0){var f=this.options.hierarchical.nodeSpacing,d=f*s;s>0&&(d=this.direction.getPosition(o[l-1])+f),this.direction.setPosition(u,d,n),this._validatePositionAndContinue(u,n,d),s++}}}}},{key:"_placeBranchNodes",value:function(t,n){var a,o=this.hierarchical.childrenReference[t];if(o!==void 0){for(var s=[],l=0;l<o.length;l++)s.push(this.body.nodes[o[l]]);sort(a=this.direction).call(a,s);for(var u=0;u<s.length;u++){var f=s[u],d=this.hierarchical.levels[f.id];if(d>n&&this.positionedNodes[f.id]===void 0){var v=this.options.hierarchical.nodeSpacing,g=void 0;u===0?g=this.direction.getPosition(this.body.nodes[t]):g=this.direction.getPosition(s[u-1])+v,this.direction.setPosition(f,g,d),this._validatePositionAndContinue(f,d,g)}else return}var m=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[t],m,n)}}},{key:"_validatePositionAndContinue",value:function(t,n,a){if(!!this.hierarchical.isTree){if(this.lastNodeOnLevel[n]!==void 0){var o=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[n]]);if(a-o<this.options.hierarchical.nodeSpacing){var s=o+this.options.hierarchical.nodeSpacing-a,l=this._findCommonParent(this.lastNodeOnLevel[n],t.id);this._shiftBlock(l.withChild,s)}}this.lastNodeOnLevel[n]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,n)}}},{key:"_indexArrayToNodes",value:function(t){for(var n=[],a=0;a<t.length;a++)n.push(this.body.nodes[t[a]]);return n}},{key:"_getDistribution",value:function(){var t={},n,a;for(n in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,n)){a=this.body.nodes[n];var o=this.hierarchical.levels[n]===void 0?0:this.hierarchical.levels[n];this.direction.fix(a,o),t[o]===void 0&&(t[o]={}),t[o][n]=a}return t}},{key:"_getActiveEdges",value:function(t){var n=this,a=[];return forEach$1(t.edges,function(o){var s;indexOf(s=n.body.edgeIndices).call(s,o.id)!==-1&&a.push(o)}),a}},{key:"_getHubSizes",value:function(){var t=this,n={},a=this.body.nodeIndices;forEach$1(a,function(s){var l=t.body.nodes[s],u=t._getActiveEdges(l).length;n[u]=!0});var o=[];return forEach$1(n,function(s){o.push(Number(s))}),sort(timsort).call(timsort,o,function(s,l){return l-s}),o}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,n=function(f,d){t.hierarchical.levelDownstream(f,d)},a=this._getHubSizes(),o=function(f){var d=a[f];if(d===0)return"break";forEach$1(t.body.nodeIndices,function(v){var g=t.body.nodes[v];d===t._getActiveEdges(g).length&&t._crawlNetwork(n,v)})},s=0;s<a.length;++s){var l=o(s);if(l==="break")break}}},{key:"_determineLevelsCustomCallback",value:function(){var t=this,n=1e5,a=function(l,u,f){},o=function(l,u,f){var d=t.hierarchical.levels[l.id];d===void 0&&(d=t.hierarchical.levels[l.id]=n);var v=a(NetworkUtil.cloneOptions(l,"node"),NetworkUtil.cloneOptions(u,"node"),NetworkUtil.cloneOptions(f,"edge"));t.hierarchical.levels[u.id]=d+v};this._crawlNetwork(o),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t,n=this,a=reduce(t=this.body.nodeIndices).call(t,function(o,s){return o.set(s,n.body.nodes[s]),o},new map);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=fillLevelsByDirectionRoots(a):this.hierarchical.levels=fillLevelsByDirectionLeaves(a),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this,n=function(o,s){t.hierarchical.levels[s.id]>t.hierarchical.levels[o.id]&&t.hierarchical.addRelation(o.id,s.id)};this._crawlNetwork(n),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},a=arguments.length>1?arguments[1]:void 0,o={},s=function g(m,b){if(o[m.id]===void 0){t.hierarchical.setTreeIndex(m,b),o[m.id]=!0;for(var E,w=t._getActiveEdges(m),_=0;_<w.length;_++){var O=w[_];O.connected===!0&&(O.toId==m.id?E=O.from:E=O.to,m.id!=E.id&&(n(m,E,O),g(E,b)))}}};if(a===void 0)for(var l=0,u=0;u<this.body.nodeIndices.length;u++){var f=this.body.nodeIndices[u];if(o[f]===void 0){var d=this.body.nodes[f];s(d,l),l+=1}}else{var v=this.body.nodes[a];if(v===void 0){console.error("Node not found:",a);return}s(v)}}},{key:"_shiftBlock",value:function(t,n){var a=this,o={},s=function l(u){if(!o[u]){o[u]=!0,a.direction.shift(u,n);var f=a.hierarchical.childrenReference[u];if(f!==void 0)for(var d=0;d<f.length;d++)l(f[d])}};s(t)}},{key:"_findCommonParent",value:function(t,n){var a=this,o={},s=function u(f,d){var v=a.hierarchical.parentReference[d];if(v!==void 0)for(var g=0;g<v.length;g++){var m=v[g];f[m]=!0,u(f,m)}},l=function u(f,d){var v=a.hierarchical.parentReference[d];if(v!==void 0)for(var g=0;g<v.length;g++){var m=v[g];if(f[m]!==void 0)return{foundParent:m,withChild:d};var b=u(f,m);if(b.foundParent!==null)return b}return{foundParent:null,withChild:d}};return s(o,t),l(o,n)}},{key:"setDirectionStrategy",value:function(){var t=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";t?this.direction=new VerticalStrategy(this):this.direction=new HorizontalStrategy(this)}},{key:"_getCenterPosition",value:function(t){for(var n=1e9,a=-1e9,o=0;o<t.length;o++){var s=void 0;if(t[o].id!==void 0)s=t[o];else{var l=t[o];s=this.body.nodes[l]}var u=this.direction.getPosition(s);n=Math.min(n,u),a=Math.max(a,u)}return .5*(n+a)}}]),e}();function _createForOfIteratorHelper(e,r){var t=typeof symbol!="undefined"&&getIteratorMethod$1(e)||e["@@iterator"];if(!t){if(isArray$1(e)||(t=_unsupportedIterableToArray(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,l;return{s:function(){t=t.call(e)},n:function(){var f=t.next();return o=f.done,f},e:function(f){s=!0,l=f},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function _unsupportedIterableToArray(e,r){var t;if(!!e){if(typeof e=="string")return _arrayLikeToArray(e,r);var n=slice$1(t=Object.prototype.toString.call(e)).call(t,8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return from$2(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,r)}}function _arrayLikeToArray(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var ManipulationSystem=function(){function e(r,t,n,a){var o=this,s,l;_classCallCheck(this,e),this.body=r,this.canvas=t,this.selectionHandler=n,this.interactionHandler=a,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},assign$2(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){o._clean()}),this.body.emitter.on("_dataChanged",bind$5(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",bind$5(l=this._restore).call(l,this))}return _createClass(e,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,n,a){n!==void 0&&(n.locale!==void 0?this.options.locale=n.locale:this.options.locale=a.locale,n.locales!==void 0?this.options.locales=n.locales:this.options.locales=a.locales),t!==void 0&&(typeof t=="boolean"?this.options.enabled=t:(this.options.enabled=!0,deepExtend(this.options,t)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var t,n;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var a=this.selectionHandler.getSelectedNodeCount(),o=this.selectionHandler.getSelectedEdgeCount(),s=a+o,l=this.options.locales[this.options.locale],u=!1;this.options.addNode!==!1&&(this._createAddNodeButton(l),u=!0),this.options.addEdge!==!1&&(u===!0?this._createSeperator(1):u=!0,this._createAddEdgeButton(l)),a===1&&typeof this.options.editNode=="function"?(u===!0?this._createSeperator(2):u=!0,this._createEditNodeButton(l)):o===1&&a===0&&this.options.editEdge!==!1&&(u===!0?this._createSeperator(3):u=!0,this._createEditEdgeButton(l)),s!==0&&(a>0&&this.options.deleteNode!==!1?(u===!0&&this._createSeperator(4),this._createDeleteButton(l)):a===0&&this.options.deleteEdge!==!1&&(u===!0&&this._createSeperator(4),this._createDeleteButton(l))),this._bindElementEvents(this.closeDiv,bind$5(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",bind$5(n=this.showManipulatorToolbar).call(n,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var t;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var n,a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,bind$5(n=this.toggleEditMode).call(n,this))}this._temporaryBindEvent("click",bind$5(t=this._performAddNode).call(t,this))}},{key:"editNode",value:function(){var t=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var n=this.selectionHandler.getSelectedNodes()[0];if(n!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(n.isCluster!==!0){var a=deepExtend({},n.options,!1);if(a.x=n.x,a.y=n.y,this.options.editNode.length===2)this.options.editNode(a,function(o){o!=null&&t.inMode==="editNode"&&t.body.data.nodes.getDataSet().update(o),t.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var t,n,a,o,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var l,u=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(u),this._createSeperator(),this._createDescription(u.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,bind$5(l=this.toggleEditMode).call(l,this))}this._temporaryBindUI("onTouch",bind$5(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",bind$5(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDrag",bind$5(a=this._dragControlNode).call(a,this)),this._temporaryBindUI("onRelease",bind$5(o=this._finishConnect).call(o,this)),this._temporaryBindUI("onDragStart",bind$5(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",_typeof(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){var t=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(t.from.id,t.to.id);return}if(this.guiEnabled===!0){var n,a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,bind$5(n=this.toggleEditMode).call(n,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var o,s,l,u,f=this.body.edges[this.edgeBeingEditedId],d=this._getNewTargetNode(f.from.x,f.from.y),v=this._getNewTargetNode(f.to.x,f.to.y);this.temporaryIds.nodes.push(d.id),this.temporaryIds.nodes.push(v.id),this.body.nodes[d.id]=d,this.body.nodeIndices.push(d.id),this.body.nodes[v.id]=v,this.body.nodeIndices.push(v.id),this._temporaryBindUI("onTouch",bind$5(o=this._controlNodeTouch).call(o,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",bind$5(s=this._controlNodeDragStart).call(s,this)),this._temporaryBindUI("onDrag",bind$5(l=this._controlNodeDrag).call(l,this)),this._temporaryBindUI("onDragEnd",bind$5(u=this._controlNodeDragEnd).call(u,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(g){var m=f.edgeType.findBorderPositions(g);d.selected===!1&&(d.x=m.from.x,d.y=m.from.y),v.selected===!1&&(v.x=m.to.x,v.y=m.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var t=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var n=this.selectionHandler.getSelectedNodeIds(),a=this.selectionHandler.getSelectedEdgeIds(),o=void 0;if(n.length>0){for(var s=0;s<n.length;s++)if(this.body.nodes[n[s]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(o=this.options.deleteNode)}else a.length>0&&typeof this.options.deleteEdge=="function"&&(o=this.options.deleteEdge);if(typeof o=="function"){var l={nodes:n,edges:a};if(o.length===2)o(l,function(u){u!=null&&t.inMode==="delete"?(t.body.data.edges.getDataSet().remove(u.edges),t.body.data.nodes.getDataSet().remove(u.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(a),this.body.data.nodes.getDataSet().remove(n),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var t,n;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(t=(n=this.options.locales[this.options.locale])===null||n===void 0?void 0:n.close)!==null&&t!==void 0?t:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}},{key:"_getNewTargetNode",value:function(t,n){var a=deepExtend({},this.options.controlNodeStyle);a.id="targetNode"+v4(),a.hidden=!1,a.physics=!1,a.x=t,a.y=n;var o=this.body.functions.createNode(a);return o.shape.boundingBox={left:t,right:t,top:n,bottom:n},o}},{key:"_createEditButton",value:function(){var t;this._clean(),this.manipulationDOM={},recursiveDOMDelete(this.editModeDiv);var n=this.options.locales[this.options.locale],a=this._createButton("editMode","vis-edit vis-edit-mode",n.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(a),this._bindElementEvents(a,bind$5(t=this.toggleEditMode).call(t,this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(recursiveDOMDelete(this.editModeDiv),recursiveDOMDelete(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var t,n=_createForOfIteratorHelper(splice(t=this._domEventListenerCleanupQueue).call(t,0)),a;try{for(n.s();!(a=n.n()).done;){var o=a.value;o()}}catch(s){n.e(s)}finally{n.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),recursiveDOMDelete(this.manipulationDiv),recursiveDOMDelete(this.editModeDiv),recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var n,a=this._createButton("addNode","vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(a),this._bindElementEvents(a,bind$5(n=this.addNodeMode).call(n,this))}},{key:"_createAddEdgeButton",value:function(t){var n,a=this._createButton("addEdge","vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(a),this._bindElementEvents(a,bind$5(n=this.addEdgeMode).call(n,this))}},{key:"_createEditNodeButton",value:function(t){var n,a=this._createButton("editNode","vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(a),this._bindElementEvents(a,bind$5(n=this.editNode).call(n,this))}},{key:"_createEditEdgeButton",value:function(t){var n,a=this._createButton("editEdge","vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(a),this._bindElementEvents(a,bind$5(n=this.editEdgeMode).call(n,this))}},{key:"_createDeleteButton",value:function(t){var n,a;this.options.rtl?a="vis-delete-rtl":a="vis-delete";var o=this._createButton("delete",a,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(o),this._bindElementEvents(o,bind$5(n=this.deleteSelected).call(n,this))}},{key:"_createBackButton",value:function(t){var n,a=this._createButton("back","vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(a),this._bindElementEvents(a,bind$5(n=this.showManipulatorToolbar).call(n,this))}},{key:"_createButton",value:function(t,n,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+n,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=o,this.manipulationDOM[t+"Label"].innerText=a,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(t,n){this.temporaryEventFunctions.push({event:t,boundFunction:n}),this.body.emitter.on(t,n)}},{key:"_temporaryBindUI",value:function(t,n){if(this.body.eventListeners[t]!==void 0)this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=n;else throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+stringify$1(keys(this.body.eventListeners)))}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var n=this.temporaryEventFunctions[t].event,a=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(n,a)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(t,n){var a=new Hammer$1(t,{});onTouch(a,n),this._domEventListenerCleanupQueue.push(function(){a.destroy()});var o=function(l){var u=l.keyCode,f=l.key;(f==="Enter"||f===" "||u===13||u===32)&&n()};t.addEventListener("keyup",o,!1),this._domEventListenerCleanupQueue.push(function(){t.removeEventListener("keyup",o,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){var n;this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var a=indexOf(n=this.body.edgeIndices).call(n,this.temporaryIds.edges[t]);if(a!==-1){var o;splice(o=this.body.edgeIndices).call(o,a,1)}}for(var s=0;s<this.temporaryIds.nodes.length;s++){var l;delete this.body.nodes[this.temporaryIds.nodes[s]];var u=indexOf(l=this.body.nodeIndices).call(l,this.temporaryIds.nodes[s]);if(u!==-1){var f;splice(f=this.body.nodeIndices).call(f,u,1)}}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=assign$2({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.lastTouch,n=this.selectionHandler._pointerToPositionObject(t),a=this.body.nodes[this.temporaryIds.nodes[0]],o=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var l=a.isOverlappingWith(n),u=o.isOverlappingWith(n);l===!0?(this.selectedControlNode=a,s.edgeType.from=a):u===!0&&(this.selectedControlNode=o,s.edgeType.to=o),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var n=this.body.functions.getPointer(t.center),a=this.canvas.DOMtoCanvas(n);this.selectedControlNode!==void 0?(this.selectedControlNode.x=a.x,this.selectedControlNode.y=a.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var n=this.body.functions.getPointer(t.center),a=this.selectionHandler._pointerToPositionObject(n),o=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var s=this.selectionHandler._getAllNodesOverlappingWith(a),l=void 0,u=s.length-1;u>=0;u--)if(s[u]!==this.selectedControlNode.id){l=this.body.nodes[s[u]];break}if(l!==void 0&&this.selectedControlNode!==void 0)if(l.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var f=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===f.id?this._performEditEdge(l.id,o.to.id):this._performEditEdge(o.from.id,l.id)}else o.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=assign$2({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var n=this.lastTouch,a=this.selectionHandler.getNodeAt(n);if(a!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var o=this._getNewTargetNode(a.x,a.y);this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id);var s=this.body.functions.createEdge({id:"connectionEdge"+v4(),from:a.id,to:o.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(o.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(t){var n=this.body.functions.getPointer(t.center),a=this.selectionHandler._pointerToPositionObject(n),o=void 0;this.temporaryIds.edges[0]!==void 0&&(o=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(a),l=void 0,u=s.length-1;u>=0;u--){var f;if(indexOf(f=this.temporaryIds.nodes).call(f,s[u])===-1){l=this.body.nodes[s[u]];break}}if(t.controlEdge={from:o,to:l?l.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,n),this.temporaryIds.nodes[0]!==void 0){var d=this.body.nodes[this.temporaryIds.nodes[0]];d.x=this.canvas._XconvertDOMtoCanvas(n.x),d.y=this.canvas._YconvertDOMtoCanvas(n.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}},{key:"_finishConnect",value:function(t){var n=this.body.functions.getPointer(t.center),a=this.selectionHandler._pointerToPositionObject(n),o=void 0;this.temporaryIds.edges[0]!==void 0&&(o=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(a),l=void 0,u=s.length-1;u>=0;u--){var f;if(indexOf(f=this.temporaryIds.nodes).call(f,s[u])===-1){l=this.body.nodes[s[u]];break}}this._cleanupTemporaryNodesAndEdges(),l!==void 0&&(l.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[o]!==void 0&&this.body.nodes[l.id]!==void 0&&this._performAddEdge(o,l.id)),t.controlEdge={from:o,to:l?l.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,n),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var n=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",t,n,void 0,!0)}},{key:"_performAddNode",value:function(t){var n=this,a={id:v4(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(a,function(o){o!=null&&n.inMode==="addNode"&&n.body.data.nodes.getDataSet().add(o),n.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(a),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,n){var a=this,o={from:t,to:n};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(o,function(s){s!=null&&a.inMode==="addEdge"&&(a.body.data.edges.getDataSet().add(s),a.selectionHandler.unselectAll(),a.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,n){var a=this,o={id:this.edgeBeingEditedId,from:t,to:n,label:this.body.data.edges.get(this.edgeBeingEditedId).label},s=this.options.editEdge;if(_typeof(s)==="object"&&(s=s.editWithoutDrag),typeof s=="function")if(s.length===2)s(o,function(l){l==null||a.inMode!=="editEdge"?(a.body.edges[o.id].updateEdgeType(),a.body.emitter.emit("_redraw"),a.showManipulatorToolbar()):(a.body.data.edges.getDataSet().update(l),a.selectionHandler.unselectAll(),a.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),e}(),string="string",bool="boolean",number="number",array="array",object="object",dom="dom",any="any",endPoints=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],nodeOptions={borderWidth:{number},borderWidthSelected:{number,undefined:"undefined"},brokenImage:{string,undefined:"undefined"},chosen:{label:{boolean:bool,function:"function"},node:{boolean:bool,function:"function"},__type__:{object,boolean:bool}},color:{border:{string},background:{string},highlight:{border:{string},background:{string},__type__:{object,string}},hover:{border:{string},background:{string},__type__:{object,string}},__type__:{object,string}},opacity:{number,undefined:"undefined"},fixed:{x:{boolean:bool},y:{boolean:bool},__type__:{object,boolean:bool}},font:{align:{string},color:{string},size:{number},face:{string},background:{string},strokeWidth:{number},strokeColor:{string},vadjust:{number},multi:{boolean:bool,string},bold:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},boldital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},ital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},mono:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},__type__:{object,string}},group:{string,number,undefined:"undefined"},heightConstraint:{minimum:{number},valign:{string},__type__:{object,boolean:bool,number}},hidden:{boolean:bool},icon:{face:{string},code:{string},size:{number},color:{string},weight:{string,number},__type__:{object}},id:{string,number},image:{selected:{string,undefined:"undefined"},unselected:{string,undefined:"undefined"},__type__:{object,string}},imagePadding:{top:{number},right:{number},bottom:{number},left:{number},__type__:{object,number}},label:{string,undefined:"undefined"},labelHighlightBold:{boolean:bool},level:{number,undefined:"undefined"},margin:{top:{number},right:{number},bottom:{number},left:{number},__type__:{object,number}},mass:{number},physics:{boolean:bool},scaling:{min:{number},max:{number},label:{enabled:{boolean:bool},min:{number},max:{number},maxVisible:{number},drawThreshold:{number},__type__:{object,boolean:bool}},customScalingFunction:{function:"function"},__type__:{object}},shadow:{enabled:{boolean:bool},color:{string},size:{number},x:{number},y:{number},__type__:{object,boolean:bool}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:bool,array},borderRadius:{number},interpolation:{boolean:bool},useImageSize:{boolean:bool},useBorderWithImage:{boolean:bool},coordinateOrigin:{string:["center","top-left"]},__type__:{object}},size:{number},title:{string,dom,undefined:"undefined"},value:{number,undefined:"undefined"},widthConstraint:{minimum:{number},maximum:{number},__type__:{object,boolean:bool,number}},x:{number},y:{number},__type__:{object}},allOptions={configure:{enabled:{boolean:bool},filter:{boolean:bool,string,array,function:"function"},container:{dom},showButton:{boolean:bool},__type__:{object,boolean:bool,string,array,function:"function"}},edges:{arrows:{to:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageHeight:{number},imageWidth:{number},src:{string},__type__:{object,boolean:bool}},middle:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageWidth:{number},imageHeight:{number},src:{string},__type__:{object,boolean:bool}},from:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageWidth:{number},imageHeight:{number},src:{string},__type__:{object,boolean:bool}},__type__:{string:["from","to","middle"],object}},endPointOffset:{from:{number},to:{number},__type__:{object,number}},arrowStrikethrough:{boolean:bool},background:{enabled:{boolean:bool},color:{string},size:{number},dashes:{boolean:bool,array},__type__:{object,boolean:bool}},chosen:{label:{boolean:bool,function:"function"},edge:{boolean:bool,function:"function"},__type__:{object,boolean:bool}},color:{color:{string},highlight:{string},hover:{string},inherit:{string:["from","to","both"],boolean:bool},opacity:{number},__type__:{object,string}},dashes:{boolean:bool,array},font:{color:{string},size:{number},face:{string},background:{string},strokeWidth:{number},strokeColor:{string},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number},multi:{boolean:bool,string},bold:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},boldital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},ital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},mono:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},__type__:{object,string}},hidden:{boolean:bool},hoverWidth:{function:"function",number},label:{string,undefined:"undefined"},labelHighlightBold:{boolean:bool},length:{number,undefined:"undefined"},physics:{boolean:bool},scaling:{min:{number},max:{number},label:{enabled:{boolean:bool},min:{number},max:{number},maxVisible:{number},drawThreshold:{number},__type__:{object,boolean:bool}},customScalingFunction:{function:"function"},__type__:{object}},selectionWidth:{function:"function",number},selfReferenceSize:{number},selfReference:{size:{number},angle:{number},renderBehindTheNode:{boolean:bool},__type__:{object}},shadow:{enabled:{boolean:bool},color:{string},size:{number},x:{number},y:{number},__type__:{object,boolean:bool}},smooth:{enabled:{boolean:bool},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number},forceDirection:{string:["horizontal","vertical","none"],boolean:bool},__type__:{object,boolean:bool}},title:{string,undefined:"undefined"},width:{number},widthConstraint:{maximum:{number},__type__:{object,boolean:bool,number}},value:{number,undefined:"undefined"},__type__:{object}},groups:{useDefaultGroups:{boolean:bool},__any__:nodeOptions,__type__:{object}},interaction:{dragNodes:{boolean:bool},dragView:{boolean:bool},hideEdgesOnDrag:{boolean:bool},hideEdgesOnZoom:{boolean:bool},hideNodesOnDrag:{boolean:bool},hover:{boolean:bool},keyboard:{enabled:{boolean:bool},speed:{x:{number},y:{number},zoom:{number},__type__:{object}},bindToWindow:{boolean:bool},autoFocus:{boolean:bool},__type__:{object,boolean:bool}},multiselect:{boolean:bool},navigationButtons:{boolean:bool},selectable:{boolean:bool},selectConnectedEdges:{boolean:bool},hoverConnectedEdges:{boolean:bool},tooltipDelay:{number},zoomView:{boolean:bool},zoomSpeed:{number},__type__:{object}},layout:{randomSeed:{undefined:"undefined",number,string},improvedLayout:{boolean:bool},clusterThreshold:{number},hierarchical:{enabled:{boolean:bool},levelSeparation:{number},nodeSpacing:{number},treeSpacing:{number},blockShifting:{boolean:bool},edgeMinimization:{boolean:bool},parentCentralization:{boolean:bool},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object,boolean:bool}},__type__:{object}},manipulation:{enabled:{boolean:bool},initiallyActive:{boolean:bool},addNode:{boolean:bool,function:"function"},addEdge:{boolean:bool,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object,boolean:bool,function:"function"}},deleteNode:{boolean:bool,function:"function"},deleteEdge:{boolean:bool,function:"function"},controlNodeStyle:nodeOptions,__type__:{object,boolean:bool}},nodes:nodeOptions,physics:{enabled:{boolean:bool},barnesHut:{theta:{number},gravitationalConstant:{number},centralGravity:{number},springLength:{number},springConstant:{number},damping:{number},avoidOverlap:{number},__type__:{object}},forceAtlas2Based:{theta:{number},gravitationalConstant:{number},centralGravity:{number},springLength:{number},springConstant:{number},damping:{number},avoidOverlap:{number},__type__:{object}},repulsion:{centralGravity:{number},springLength:{number},springConstant:{number},nodeDistance:{number},damping:{number},__type__:{object}},hierarchicalRepulsion:{centralGravity:{number},springLength:{number},springConstant:{number},nodeDistance:{number},damping:{number},avoidOverlap:{number},__type__:{object}},maxVelocity:{number},minVelocity:{number},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:bool},iterations:{number},updateInterval:{number},onlyDynamicEdges:{boolean:bool},fit:{boolean:bool},__type__:{object,boolean:bool}},timestep:{number},adaptiveTimestep:{boolean:bool},wind:{x:{number},y:{number},__type__:{object}},__type__:{object,boolean:bool}},autoResize:{boolean:bool},clickToUse:{boolean:bool},locale:{string},locales:{__any__:{any},__type__:{object}},height:{string},width:{string},__type__:{object}},configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},configuratorHideOption=function e(r,t,n){var a;return!!(includes(r).call(r,"physics")&&includes(a=configureOptions.physics.solver).call(a,t)&&n.physics.solver!==t&&t!=="wind")},FloydWarshall=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getDistances",value:function(t,n,a){for(var o={},s=t.edges,l=0;l<n.length;l++){var u=n[l],f={};o[u]=f;for(var d=0;d<n.length;d++)f[n[d]]=l==d?0:1e9}for(var v=0;v<a.length;v++){var g=s[a[v]];g.connected===!0&&o[g.fromId]!==void 0&&o[g.toId]!==void 0&&(o[g.fromId][g.toId]=1,o[g.toId][g.fromId]=1)}for(var m=n.length,b=0;b<m;b++)for(var E=n[b],w=o[E],_=0;_<m-1;_++)for(var O=n[_],S=o[O],T=_+1;T<m;T++){var I=n[T],k=o[I],N=Math.min(S[I],S[E]+w[I]);S[I]=N,k[O]=N}return o}}]),e}(),KamadaKawai=function(){function e(r,t,n){_classCallCheck(this,e),this.body=r,this.springLength=t,this.springConstant=n,this.distanceSolver=new FloydWarshall}return _createClass(e,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=this.distanceSolver.getDistances(this.body,t,n);this._createL_matrix(o),this._createK_matrix(o),this._createE_matrix();for(var s=.01,l=1,u=0,f=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),d=5,v=1e9,g=0,m=0,b=0,E=0,w=0;v>s&&u<f;){u+=1;var _=this._getHighestEnergyNode(a),O=_slicedToArray(_,4);for(g=O[0],v=O[1],m=O[2],b=O[3],E=v,w=0;E>l&&w<d;){w+=1,this._moveNode(g,m,b);var S=this._getEnergy(g),T=_slicedToArray(S,3);E=T[0],m=T[1],b=T[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var n=this.body.nodeIndices,a=this.body.nodes,o=0,s=n[0],l=0,u=0,f=0;f<n.length;f++){var d=n[f];if(a[d].predefinedPosition!==!0||a[d].isCluster===!0&&t===!0||a[d].options.fixed.x!==!0||a[d].options.fixed.y!==!0){var v=this._getEnergy(d),g=_slicedToArray(v,3),m=g[0],b=g[1],E=g[2];o<m&&(o=m,s=d,l=b,u=E)}}return[s,o,l,u]}},{key:"_getEnergy",value:function(t){var n=_slicedToArray(this.E_sums[t],2),a=n[0],o=n[1],s=Math.sqrt(Math.pow(a,2)+Math.pow(o,2));return[s,a,o]}},{key:"_moveNode",value:function(t,n,a){for(var o=this.body.nodeIndices,s=this.body.nodes,l=0,u=0,f=0,d=s[t].x,v=s[t].y,g=this.K_matrix[t],m=this.L_matrix[t],b=0;b<o.length;b++){var E=o[b];if(E!==t){var w=s[E].x,_=s[E].y,O=g[E],S=m[E],T=1/Math.pow(Math.pow(d-w,2)+Math.pow(v-_,2),1.5);l+=O*(1-S*Math.pow(v-_,2)*T),u+=O*(S*(d-w)*(v-_)*T),f+=O*(1-S*Math.pow(d-w,2)*T)}}var I=l,k=u,N=n,R=f,C=a,A=(N/I+C/k)/(k/I-R/k),F=-(k*A+N)/I;s[t].x+=F,s[t].y+=A,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var n=this.body.nodeIndices,a=this.springLength;this.L_matrix=[];for(var o=0;o<n.length;o++){this.L_matrix[n[o]]={};for(var s=0;s<n.length;s++)this.L_matrix[n[o]][n[s]]=a*t[n[o]][n[s]]}}},{key:"_createK_matrix",value:function(t){var n=this.body.nodeIndices,a=this.springConstant;this.K_matrix=[];for(var o=0;o<n.length;o++){this.K_matrix[n[o]]={};for(var s=0;s<n.length;s++)this.K_matrix[n[o]][n[s]]=a*Math.pow(t[n[o]][n[s]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,n=this.body.nodes;this.E_matrix={},this.E_sums={};for(var a=0;a<t.length;a++)this.E_matrix[t[a]]=[];for(var o=0;o<t.length;o++){for(var s=t[o],l=n[s].x,u=n[s].y,f=0,d=0,v=o;v<t.length;v++){var g=t[v];if(g!==s){var m=n[g].x,b=n[g].y,E=1/Math.sqrt(Math.pow(l-m,2)+Math.pow(u-b,2));this.E_matrix[s][v]=[this.K_matrix[s][g]*(l-m-this.L_matrix[s][g]*(l-m)*E),this.K_matrix[s][g]*(u-b-this.L_matrix[s][g]*(u-b)*E)],this.E_matrix[g][o]=this.E_matrix[s][v],f+=this.E_matrix[s][v][0],d+=this.E_matrix[s][v][1]}}this.E_sums[s]=[f,d]}}},{key:"_updateE_matrix",value:function(t){for(var n=this.body.nodeIndices,a=this.body.nodes,o=this.E_matrix[t],s=this.K_matrix[t],l=this.L_matrix[t],u=a[t].x,f=a[t].y,d=0,v=0,g=0;g<n.length;g++){var m=n[g];if(m!==t){var b=o[g],E=b[0],w=b[1],_=a[m].x,O=a[m].y,S=1/Math.sqrt(Math.pow(u-_,2)+Math.pow(f-O,2)),T=s[m]*(u-_-l[m]*(u-_)*S),I=s[m]*(f-O-l[m]*(f-O)*S);o[g]=[T,I],d+=T,v+=I;var k=this.E_sums[m];k[0]+=T-E,k[1]+=I-w}}this.E_sums[t]=[d,v]}}]),e}();function Network(e,r,t){var n,a,o,s,l=this;if(!(this instanceof Network))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales,clickToUse:!1},assign$2(this.options,this.defaultOptions),this.body={container:e,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:bind$5(n=this.on).call(n,this),off:bind$5(a=this.off).call(a,this),emit:bind$5(o=this.emit).call(o,this),once:bind$5(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Images(function(){return l.body.emitter.emit("_requestRedraw")}),this.groups=new Groups,this.canvas=new Canvas(this.body),this.selectionHandler=new SelectionHandler(this.body,this.canvas),this.interactionHandler=new InteractionHandler(this.body,this.canvas,this.selectionHandler),this.view=new View(this.body,this.canvas),this.renderer=new CanvasRenderer(this.body,this.canvas),this.physics=new PhysicsEngine(this.body),this.layoutEngine=new LayoutEngine(this.body),this.clustering=new ClusterEngine(this.body),this.manipulation=new ManipulationSystem(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new NodesHandler(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new EdgesHandler(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new KamadaKawai(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(r)}Emitter(Network.prototype);Network.prototype.setOptions=function(e){var r=this;if(e===null&&(e=void 0),e!==void 0){var t=Validator$1.validate(e,allOptions);t===!0&&console.error("%cErrors have been found in the supplied options object.",VALIDATOR_PRINT_STYLE$1);var n=["locale","locales","clickToUse"];if(selectiveDeepExtend(n,this.options,e),e.locale!==void 0&&(e.locale=normalizeLanguageCode(e.locales||this.options.locales,e.locale)),e=this.layoutEngine.setOptions(e.layout,e),this.canvas.setOptions(e),this.groups.setOptions(e.groups),this.nodesHandler.setOptions(e.nodes),this.edgesHandler.setOptions(e.edges),this.physics.setOptions(e.physics),this.manipulation.setOptions(e.manipulation,e,this.options),this.interactionHandler.setOptions(e.interaction),this.renderer.setOptions(e.interaction),this.selectionHandler.setOptions(e.interaction),e.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in e&&(this.configurator||(this.configurator=new Configurator$1(this,this.body.container,configureOptions,this.canvas.pixelRatio,configuratorHideOption)),this.configurator.setOptions(e.configure)),this.configurator&&this.configurator.options.enabled===!0){var a={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};deepExtend(a.nodes,this.nodesHandler.options),deepExtend(a.edges,this.edgesHandler.options),deepExtend(a.layout,this.layoutEngine.options),deepExtend(a.interaction,this.selectionHandler.options),deepExtend(a.interaction,this.renderer.options),deepExtend(a.interaction,this.interactionHandler.options),deepExtend(a.manipulation,this.manipulation.options),deepExtend(a.physics,this.physics.options),deepExtend(a.global,this.canvas.options),deepExtend(a.global,this.options),this.configurator.setModuleOptions(a)}e.clickToUse!==void 0?e.clickToUse===!0?this.activator===void 0&&(this.activator=new Activator$1(this.canvas.frame),this.activator.on("change",function(){r.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};Network.prototype._updateVisibleIndices=function(){var e=this.body.nodes,r=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&!this.clustering._isClusteredNode(t)&&e[t].options.hidden===!1&&this.body.nodeIndices.push(e[t].id);for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var a=r[n],o=e[a.fromId],s=e[a.toId],l=o!==void 0&&s!==void 0,u=!this.clustering._isClusteredEdge(n)&&a.options.hidden===!1&&l&&o.options.hidden===!1&&s.options.hidden===!1;u&&this.body.edgeIndices.push(a.id)}};Network.prototype.bindEventListeners=function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.edgesHandler._updateState(),e.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){e.clustering._updateState(),e._updateVisibleIndices(),e._updateValueRange(e.body.nodes),e._updateValueRange(e.body.edges),e.body.emitter.emit("startSimulation"),e.body.emitter.emit("_requestRedraw")})};Network.prototype.setData=function(e){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),e&&e.dot&&(e.nodes||e.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(e&&e.options),e&&e.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var r=DOTToGraph(e.dot);this.setData(r);return}else if(e&&e.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var t=parseGephi(e.gephi);this.setData(t);return}else this.nodesHandler.setData(e&&e.nodes,!0),this.edgesHandler.setData(e&&e.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};Network.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var e in this.body.nodes)!Object.prototype.hasOwnProperty.call(this.body.nodes,e)||delete this.body.nodes[e];for(var r in this.body.edges)!Object.prototype.hasOwnProperty.call(this.body.edges,r)||delete this.body.edges[r];recursiveDOMDelete(this.body.container)};Network.prototype._updateValueRange=function(e){var r,t=void 0,n=void 0,a=0;for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r].getValue();o!==void 0&&(t=t===void 0?o:Math.min(o,t),n=n===void 0?o:Math.max(o,n),a+=o)}if(t!==void 0&&n!==void 0)for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].setValueRange(t,n,a)};Network.prototype.isActive=function(){return!this.activator||this.activator.active};Network.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};Network.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};Network.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};Network.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};Network.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};Network.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};Network.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};Network.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};Network.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};Network.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};Network.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};Network.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};Network.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};Network.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};Network.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};Network.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};Network.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};Network.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};Network.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};Network.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};Network.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};Network.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};Network.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};Network.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};Network.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};Network.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};Network.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};Network.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};Network.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};Network.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};Network.prototype.getConnectedNodes=function(e){return this.body.nodes[e]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};Network.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};Network.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};Network.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};Network.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};Network.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};Network.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};Network.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};Network.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};Network.prototype.getNodeAt=function(){var e=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return e!==void 0&&e.id!==void 0?e.id:e};Network.prototype.getEdgeAt=function(){var e=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return e!==void 0&&e.id!==void 0?e.id:e};Network.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};Network.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};Network.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};Network.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};Network.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};Network.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};Network.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};Network.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};Network.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};Network.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};Network.prototype.getOptionsFromConfigurator=function(){var e={};return this.configurator&&(e=this.configurator.getOptions.apply(this.configurator)),e};async function onVisible(e,r,t){var n,a;const o=document.querySelectorAll(`astro-root[uid="${e}"]`),s=(a=(n=o[0].querySelector("astro-fragment"))==null?void 0:n.innerHTML)!=null?a:null,l=async()=>{const f=await t();for(const d of o)f(d,s)},u=new IntersectionObserver(f=>{for(const d of f)if(!!d.isIntersecting){u.disconnect(),l();break}});for(const f of o)for(let d=0;d<f.children.length;d++){const v=f.children[d];u.observe(v)}}export{createBlock as A,onVisible as B,defineComponent as C,DataSet as D,h as E,Fragment as F,createSSRApp as G,Network as N,createAstro as a,createComponent as b,createMetadata as c,addAttribute as d,createElementBlock as e,createBaseVNode as f,renderList as g,createTextVNode as h,vModelCheckbox as i,createCommentVNode as j,popScopeId as k,script$5 as l,script$8 as m,normalizeStyle as n,openBlock as o,pushScopeId as p,script$9 as q,render$e as r,script$c as s,toDisplayString as t,resolveComponent as u,vModelText as v,withDirectives as w,createVNode as x,withCtx as y,normalizeClass as z};
