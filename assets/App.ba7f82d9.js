import{o as i,e as h,w as f,v as y,f as r,n as p,t as d,F as u,g,j as w}from"./vendor.b13a57b9.js";/* empty css                                             */import{_ as I}from"./plugin-vue_export-helper.21dcd24c.js";const c=`
0,9 -> 5,9
8,0 -> 0,8
9,4 -> 3,4
2,2 -> 2,1
7,0 -> 7,4
6,4 -> 2,0
0,9 -> 2,9
3,4 -> 1,4
0,0 -> 8,8
5,5 -> 8,2
`.trim();var M={name:"App",components:{},mounted(){this.parseInput()},data(){return{input:c,parsed:[],range:[NaN,NaN,NaN,NaN],tableLine:0,table:[[]],done1:!1,done2:!1,answer1:NaN,answer2:NaN,canvasw:3,canvash:3}},methods:{resetInput(){this.input=c},parseInput(){this.done1=!1,this.tableLine=0,clearInterval(this.interval);let t=e=>e.split(/,/).map(o=>parseInt(o,10)),a=e=>e.split(/ +-> +/).map(t);this.parsed=this.input.trim().split(/\r?\n/).map(a).map(e=>({start:e[0],end:e[1],done:!1}));let s=this.parsed.map(e=>[Math.min(e.start[0],e.end[0]),Math.max(e.start[0],e.end[0]),Math.min(e.start[1],e.end[1]),Math.max(e.start[1],e.end[1])]);this.range=[Math.min(...s.map(e=>e[0])),Math.max(...s.map(e=>e[1])),Math.min(...s.map(e=>e[2])),Math.max(...s.map(e=>e[3]))]},incXY(t,a){try{this.table[a-this.range[2]][t-this.range[0]]++}catch{clearInterval(this.interval),console.log(this.tableLine,t,t-this.range[0],a,a-this.range[2],this.range),console.log(this.tableLine,this.table.length)}},run1(){this.done1=!1,this.tableLine=0,clearInterval(this.interval),this.table=[];for(var t=0;t<=this.range[3]-this.range[2];t++)this.table[t]=Array(this.range[1]-this.range[0]+1).fill(0);this.canvasw=this.range[1]-this.range[0]+1,this.canvash=this.range[3]-this.range[2]+1;let a=document.querySelector("#day5-canvas");a!=null&&a.getContext("2d").clearRect(0,0,a.width,a.height);let s=30;this.interval=setInterval(this.move1,s)},move1(){let t=this.parsed[this.tableLine];if(t.start[0]==t.end[0]||t.start[1]==t.end[1]){console.log(this.table),t.done=!0;var a;if(t.start[0]==t.end[0]){let e=Math.min(t.start[1],t.end[1]),o=Math.max(t.start[1],t.end[1]);for(a=e;a<=o;a++)this.incXY(t.start[0],a)}else if(t.start[1]==t.end[1]){let e=Math.min(t.start[0],t.end[0]),o=Math.max(t.start[0],t.end[0]);for(a=e;a<=o;a++)this.incXY(a,t.start[1])}let s=document.querySelector("#day5-canvas");if(s!=null){let e=s.getContext("2d");e.globalAlpha=.3,e.beginPath(),e.lineWidth=1,e.strokeStyle="rgb(255,0,0)",e.moveTo(t.start[0]-this.range[0],t.start[1]-this.range[2]),e.lineTo(t.end[0]-this.range[0],t.end[1]-this.range[2]),e.stroke(),e.globalAlpha=1}}this.answer1=this.table.map(s=>s.filter(e=>e>1).length).reduce((s,e)=>s+e,0),this.tableLine++,this.tableLine>=this.parsed.length&&(clearInterval(this.interval),this.done1=!0)},run2(){this.done2=!1,this.tableLine=0,clearInterval(this.interval),this.table=[];for(var t=0;t<=this.range[3]-this.range[2];t++)this.table[t]=Array(this.range[1]-this.range[0]+1).fill(0);this.canvasw=this.range[1]-this.range[0]+1,this.canvash=this.range[3]-this.range[2]+1;let a=document.querySelector("day5-canvas");a!=null&&a.getContext("2d").clearRect(0,0,a.width,a.height);let s=30;this.interval=setInterval(this.move2,s)},move2(){let t=this.parsed[this.tableLine],a=[Math.sign(t.end[0]-t.start[0]),Math.sign(t.end[1]-t.start[1])],s=Math.max(Math.abs(t.end[0]-t.start[0]),Math.abs(t.end[1]-t.start[1]))+1;for(var e=[...t.start],o=0;o<s;o++)this.incXY(e[0],e[1]),e[0]+=a[0],e[1]+=a[1];this.answer2=this.table.map(n=>n.filter(l=>l>1).length).reduce((n,l)=>n+l,0);let v=document.querySelector("#day5-canvas");if(v!=null){let n=v.getContext("2d");n.globalAlpha=.3,n.beginPath(),n.lineWidth=1,n.strokeStyle="rgb(255,0,0)",n.moveTo(t.start[0]-this.range[0],t.start[1]-this.range[2]),n.lineTo(t.end[0]-this.range[0],t.end[1]-this.range[2]),n.stroke(),n.globalAlpha=1}this.tableLine++,this.tableLine>=this.parsed.length&&(clearInterval(this.interval),this.done2=!0)}}};const L={class:"day05"},k=r("h3",null,"Input",-1),N={class:"buttons"},A={class:"answer"},C={style:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},S={key:0,style:{"max-height":"60vh","max-width":"60vw",overflow:"scroll"}},j=r("td",null,"r/c",-1),T={style:{"max-height":"60vh","max-width":"60vw",overflow:"scroll"}},q=["width","height"],X={style:{"max-height":"60vh",overflow:"scroll"}};function Y(t,a,s,e,o,v){return i(),h("div",L,[k,f(r("textarea",{"onUpdate:modelValue":a[0]||(a[0]=n=>t.input=n),onInput:a[1]||(a[1]=(...n)=>t.parseInput&&t.parseInput(...n)),placeholder:"add multiple lines"},null,544),[[y,t.input]]),r("div",N,[r("button",{onClick:a[2]||(a[2]=(...n)=>t.resetInput&&t.resetInput(...n))},"reset"),r("button",{onClick:a[3]||(a[3]=(...n)=>t.run1&&t.run1(...n))},"run part 1"),r("button",{onClick:a[4]||(a[4]=(...n)=>t.run2&&t.run2(...n))},"run part 2")]),r("div",A,[r("p",{style:p([t.done1?{color:"red"}:{}])},"part 1: "+d(t.answer1),5),r("p",{style:p([t.done2?{color:"red"}:{}])},"part 2: "+d(t.answer2),5)]),r("div",C,[t.table.length<30?(i(),h("table",S,[r("tr",null,[j,(i(!0),h(u,null,g(t.table[0],(n,l)=>(i(),h("td",{key:l},d(t.range[0]+l),1))),128))]),(i(!0),h(u,null,g(t.table,(n,l)=>(i(),h("tr",{key:l},[r("td",null,d(t.range[2]+l),1),(i(!0),h(u,null,g(n,(m,b)=>(i(),h("td",{key:b,style:p([m>1?{color:"red"}:{}])},d(m),5))),128))]))),128))])):w("v-if",!0),r("div",T,[r("canvas",{id:"day5-canvas",width:t.canvasw,height:t.canvash,style:{border:"1px solid red"}},null,8,q)]),r("ul",X,[(i(!0),h(u,null,g(t.parsed,(n,l)=>(i(),h("li",{key:l,style:p([l==t.tableLine?{color:"red"}:{}])},d(n),5))),128))])])])}var _=I(M,[["render",Y]]);export{_ as default};
