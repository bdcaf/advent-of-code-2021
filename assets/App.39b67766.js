import{o as p,e as h,w as y,v as F,f as e,n as u,t as r,F as d,g as f}from"./vendor.b13a57b9.js";/* empty css                                             */import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";const m=`
5483143223
2745854711
5264556173
6141336146
6357385478
4167524645
2176841721
6882881134
4846848554
5283751526
`.trim();var g={name:"App",components:{},mounted(){this.parseInput()},data(){return{input:m,basin:[],done1:!1,done2:!1,answer1:NaN,answer2:NaN,counter:0,octopi:[],currFlash:0,totalFlash:0}},methods:{resetInput(){this.input=m,this.parseInput()},parseInput(){clearInterval(this.interval),this.octopi=this.input.trim().split(/\r?\n/).map(t=>t.split("").map(s=>parseInt(s))),this.counter=0,this.totalFlash=0,this.done1=!1,this.done2=!1},run1(){clearInterval(this.interval),this.counter=0,this.totalFlash=0,this.done1=!1,this.done2=!1,this.answer1=NaN,this.answer2=NaN,this.parserList=this.octopi.map(s=>({stack:[],input:s})),this.missing=this.parserList.map(s=>s.stack);const t=100;this.interval=setInterval(this.move1,t)},stop(){clearInterval(this.interval)},move1(){if(this.counter>=1e3){clearInterval(this.interval);return}this.counter++,this.octopi=this.octopi.map(t=>t.map(s=>s+1)),this.currFlash=0,this.checkFlash(),this.totalFlash+=this.currFlash,isNaN(this.answer2)&&this.octopi.map(s=>s.reduce((n,o)=>n&&o==0,!0)).reduce((s,n)=>s&&n,!0)&&(console.log(this.counter),this.answer2=this.counter,this.done2=!0,clearInterval(this.interval)),this.counter<=100&&(this.answer1=this.totalFlash,this.counter==100&&(this.done1=!0))},checkFlash(){for(;this.needsFlash();)for(let t=0;t<this.octopi.length;t++)for(let s=0;s<this.octopi[t].length;s++)this.octopi[t][s]>9&&(this.octopi[t][s]=0,this.incNeighbor(t,s),this.currFlash++)},needsFlash(){return this.octopi.map(t=>t.filter(s=>s>9).length>0).reduce((t,s)=>t||s,!1)},incNeighbor(t,s){for(let n=-1;n<=1;n++){const o=t+n;if(!(o<0||o>=this.octopi.length))for(let a=-1;a<=1;a++){if(n==0&&a==0)continue;const l=s+a;l<0||l>=this.octopi[o].length||this.octopi[o][l]>0&&this.octopi[o][l]++}}}}};const N={class:"app"},b=e("h3",null,"Input",-1),k={class:"buttons"},j=e("h3",null,"Result",-1),$={class:"answer"},A=e("h3",null,"Details",-1),B={style:{display:"flex","flex-wrap":"wrap","justify-content":"center"}};function C(t,s,n,o,a,l){return p(),h("div",N,[b,y(e("textarea",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.input=i),onInput:s[1]||(s[1]=(...i)=>t.parseInput&&t.parseInput(...i)),style:{width:"100%"}},null,544),[[F,t.input]]),e("div",k,[e("button",{onClick:s[2]||(s[2]=(...i)=>t.resetInput&&t.resetInput(...i))},"reset")]),j,e("div",$,[e("p",{style:u([t.done1?{color:"red"}:{}])},"part 1: "+r(t.answer1),5),e("p",{style:u([t.done2?{color:"red"}:{}])},"part 2: "+r(t.answer2),5)]),A,e("button",{onClick:s[3]||(s[3]=(...i)=>t.run1&&t.run1(...i))},"run octopi"),e("button",{onClick:s[4]||(s[4]=(...i)=>t.stop&&t.stop(...i))},"stop"),e("p",null,"round: "+r(t.counter),1),e("p",null,"current flashes: "+r(t.currFlash),1),e("p",null,"total flashes: "+r(t.totalFlash),1),e("div",B,[e("table",null,[(p(!0),h(d,null,f(t.octopi,(i,v)=>(p(),h("tr",{key:v},[(p(!0),h(d,null,f(i,(c,I)=>(p(),h("td",{key:I,style:u([c==0?{color:"red"}:{}])},r(c),5))),128))]))),128))])])])}var V=w(g,[["render",C]]);export{V as default};
