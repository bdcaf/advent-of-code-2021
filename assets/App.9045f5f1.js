/* empty css                                            */import{_ as m}from"./plugin-vue_export-helper.21dcd24c.js";import{u as v,o as a,e as c,f as o,t as u,j as p,F as k,g as w,A as _,w as b,v as A,n as f}from"./vendor.b13a57b9.js";function g(s){let e=s.version;return Array.isArray(s.res)&&s.res.forEach(t=>{e+=g(t)}),e}function y(s){if(s.type=="literal")return s.res;const e=s.res.map(t=>y(t));switch(s.operation){case"sum":return e.reduce((t,r)=>t+r,0);case"product":return e.reduce((t,r)=>t*r,1);case"maximum":return e.reduce((t,r)=>Math.max(t,r),e[0]);case"minimum":return e.reduce((t,r)=>Math.min(t,r),e[0]);case"greater than":return e[0]>e[1]?1:0;case"less than":return e[0]<e[1]?1:0;case"equal to":return e[0]==e[1]?1:0}}class h{constructor(e){this.stream=e}getN(e){const t=this.stream.slice(0,e);return this.stream=this.stream.slice(e),t}getVersion(){return parseInt(this.getN(3),2)}getId(){return parseInt(this.getN(3),2)}parse(){const e=this.getVersion(),t=this.getId();let r,n;switch(t){case 4:return r=this.parseLiteral(),{version:e,id:t,res:r,type:"literal"};case 0:n="sum";break;case 1:n="product";break;case 2:n="minimum";break;case 3:n="maximum";break;case 5:n="greater than";break;case 6:n="less than";break;case 7:n="equal to";break}return r=this.parseOperator(),{version:e,id:t,type:"operator",res:r,operation:n}}parseLiteral(){const e=[];let t=!0;for(;t;){const r=this.getN(5);t=r.slice(0,1)=="1",e.push(r.slice(1))}return parseInt(e.join(""),2)}parseOperator(){const e=[];if(this.getN(1)=="0"){const r=parseInt(this.getN(15),2),n=this.getN(r),i=new h(n);for(console.log("ss",i);i.stream.length>0;){const d=i.parse();console.log("sp",d),e.push(d)}}else{const r=parseInt(this.getN(11),2);for(let n=0;n<r;n++){const i=this.parse();e.push(i)}}return e}}const j={name:"PacketNode",props:{node:{type:Object,required:!0}}},P={class:"box"},$={class:"sign"},S={key:0},V={key:0},B={key:1,class:"value"};function C(s,e,t,r,n,i){const d=v("PacketNode",!0);return a(),c("div",P,[o("div",$,[o("ul",null,[o("li",null," version: "+u(t.node.version),1),o("li",null," id: "+u(t.node.id),1),o("li",null," type: "+u(t.node.type),1),t.node.type=="operator"?(a(),c("li",S,"operation: "+u(t.node.operation),1)):p("v-if",!0)])]),Array.isArray(t.node.res)?(a(),c("div",V,[(a(!0),c(k,null,w(t.node.res,(l,N)=>(a(),_(d,{key:N,node:l},null,8,["node"]))),128))])):(a(),c("div",B," value: "+u(t.node.res),1))])}var D=m(j,[["render",C],["__scopeId","data-v-4fba87d9"]]);const I=`
EE00D40C823060
`.trim();var E={name:"App",components:{PacketNode:D},mounted(){this.parseInput()},data(){return{input:I,node:null,done1:!1,done2:!1,answer1:NaN,answer2:NaN,show1:!1,show2:!1}},methods:{resetInput(){this.input=I,this.parseInput()},parseInput(){clearInterval(this.interval);const s=this.input.split("").map(t=>parseInt(t,16).toString(2).padStart(4,"0")).join(""),e=new h(s);this.node=e.parse(),this.answer1=g(this.node),this.answer2=y(this.node),this.done1=!1,this.done2=!1}}};const L={class:"app"},q=o("h3",null,"Input",-1),M={class:"buttons"},O=o("h3",null,"Result",-1),F={class:"answer"},x=o("h3",null,"Details",-1);function z(s,e,t,r,n,i){const d=v("PacketNode");return a(),c("div",L,[q,b(o("textarea",{"onUpdate:modelValue":e[0]||(e[0]=l=>s.input=l),onInput:e[1]||(e[1]=(...l)=>s.parseInput&&s.parseInput(...l))},null,544),[[A,s.input]]),o("div",M,[o("button",{onClick:e[2]||(e[2]=(...l)=>s.resetInput&&s.resetInput(...l))},"reset")]),O,o("div",F,[o("p",{style:f([s.done1?{color:"red"}:{}])},"part 1: "+u(s.answer1),5),o("p",{style:f([s.done2?{color:"red"}:{}])},"part 2: "+u(s.answer2),5),p(`<p :style="[done2 ? {'color':'red'}:{}]">part 2: {{ answer2 }}</p>`)]),x,o("div",null,[s.node?(a(),_(d,{key:0,node:s.node},null,8,["node"])):p("v-if",!0)])])}var G=m(E,[["render",z]]);export{G as default};
