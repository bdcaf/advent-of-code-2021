import{o as u,e as p,w as v,v as y,f as i,n as h,t as f,F as w,g,h as I}from"./vendor.b13a57b9.js";/* empty css                                             */import{_}from"./plugin-vue_export-helper.21dcd24c.js";const m=`
2199943210
3987894921
9856789892
8767896789
9899965678
`.trim();function c(t,n,e){if(t[n]!=null&&t[n][e]!=null)return t[n][e]}function k(t,n,e){return[c(t,n-1,e),c(t,n+1,e),c(t,n,e-1),c(t,n,e+1)].filter(r=>r!=null)}function E(t){const n=[];let e=0;for(let r=0;r<t.length;r++)for(let l=0;l<t[r].length;l++){const o=t[r][l],s=k(t,r,l);o.is_min=s.map(a=>a.value).reduce((a,d)=>a&&d>o.value,!0),o.is_min&&(o.group=e++,n.push({row:r,col:l,group:o.group}))}return n}function N(t,n){const e=new Set;let r=[n];for(;r.length>0;){let l=r.map(o=>[{row:o.row+1,col:o.col},{row:o.row-1,col:o.col},{row:o.row,col:o.col+1},{row:o.row,col:o.col-1}]).reduce((o,s)=>o.concat(s),[]).filter(function(o){return o.row<0||o.col<0||o.row>=t.length||o.col>=t[0].length||e.has(o.row+"x"+o.col)?!1:c(t,o.row,o.col).value!=9});r.forEach(o=>e.add(o.row+"x"+o.col)),r=l}return e}var A={name:"App",components:{},mounted(){this.parseInput()},data(){return{input:m,basin:[],done1:!1,done2:!1,answer1:NaN,answer2:NaN,active:0,current:{},colors:["red","green","blue","orange","cyan","magenta","blueviolet","brown","darkgreen","deeppink","indigo"],counts:[]}},methods:{resetInput(){this.input=m,this.parseInput()},parseInput(){clearInterval(this.interval),this.basin=this.input.split(/\r?\n/).map(n=>n.split("").map(e=>({value:parseInt(e,10),is_min:!1}))),this.minima=E(this.basin),this.answer1=this.basin.reduce((n,e)=>n.concat(e),[]).filter(n=>n.is_min).map(n=>n.value+1).reduce((n,e)=>n+e),this.done1=!0;const t=this.minima.map(n=>N(this.basin,n));this.answer2=t.map(n=>n.size).sort((n,e)=>e-n).slice(0,3).reduce((n,e)=>n*e,1),this.done2=!0},run1(){clearInterval(this.interval),this.basin.forEach(n=>n.forEach(e=>e.group=void 0));const t=600;this.interval=setInterval(this.move1,t),this.active=this.minima},move1(){const t=this.basin;let n=this.active.map(e=>[{row:e.row+1,col:e.col,group:e.group},{row:e.row-1,col:e.col,group:e.group},{row:e.row,col:e.col+1,group:e.group},{row:e.row,col:e.col-1,group:e.group}]).reduce((e,r)=>e.concat(r),[]).filter(function(e){return e.row<0||e.col<0||e.row>=t.length||e.col>=t[0].length||t[e.row][e.col].group==e.group?!1:t[e.row][e.col].value!=9});this.active.forEach(e=>{this.basin[e.row][e.col].group=e.group}),this.active=n,this.counts=Array(this.minima.length).fill(0),this.basin.forEach(e=>e.forEach(r=>{r.group!=null&&this.counts[r.group]++})),this.active.length==0&&clearInterval(this.interval)}}};const j={class:"app"},B=i("h3",null,"Input",-1),C={class:"buttons"},$=i("h3",null,"Result",-1),D={class:"answer"},S=i("h3",null,"Details",-1),V={style:{display:"flex","flex-wrap":"wrap","justify-content":"center"}},q={style:{padding:"2em"}},z=I(" counts: "),F={style:{display:"flex","list-style":"none","flex-wrap":"wrap"}};function M(t,n,e,r,l,o){return u(),p("div",j,[B,v(i("textarea",{"onUpdate:modelValue":n[0]||(n[0]=s=>t.input=s),onInput:n[1]||(n[1]=(...s)=>t.parseInput&&t.parseInput(...s)),style:{width:"100%"},placeholder:"add multiple lines"},null,544),[[y,t.input]]),i("div",C,[i("button",{onClick:n[2]||(n[2]=(...s)=>t.resetInput&&t.resetInput(...s))},"reset")]),$,i("div",D,[i("p",{style:h([t.done1?{color:"red"}:{}])},"part 1: "+f(t.answer1),5),i("p",{style:h([t.done2?{color:"red"}:{}])},"part 2: "+f(t.answer2),5)]),S,i("button",{onClick:n[3]||(n[3]=(...s)=>t.run1&&t.run1(...s))},"run grow"),i("div",V,[i("table",null,[(u(!0),p(w,null,g(t.basin,(s,a)=>(u(),p("tr",{key:a},[(u(!0),p(w,null,g(s,(d,b)=>(u(),p("td",{key:b,style:h([d.is_min?{"font-weight":"bold"}:{},d.group==null?{}:{color:t.colors[d.group%t.colors.length]}])},f(d.value),5))),128))]))),128))]),i("div",q,[z,i("ul",F,[(u(!0),p(w,null,g(t.counts,(s,a)=>(u(),p("li",{style:h([{color:t.colors[a%t.colors.length]},{padding:".3em"}]),key:a},f(s),5))),128))])])])])}var R=_(A,[["render",M]]);export{R as default};
